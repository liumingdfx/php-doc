<div id="ziparchive.open" class="refentry"> <div class="refnamediv">  <h1 class="refname">ZipArchive::open</h1>  <p class="verinfo">(PHP 5 &gt;= 5.2.0, PHP 7, PHP 8, PECL zip &gt;= 1.1.0)</p><p class="refpurpose"><span class="refname">ZipArchive::open</span> &mdash; <span class="dc-title">Open a ZIP file archive</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-ziparchive.open-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>ZipArchive::open</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$filename</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span><span class="initializer"> = 0</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">bool</span>|<span class="type" style="color:#EAB766">int</span></span></div>  <p class="para rdfs-comment">   Opens a new or existing zip archive for reading, writing or modifying.  </p>  <p class="para">   Since libzip 1.6.0, an empty file is not a valid archive any longer.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-ziparchive.open-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">filename</span></dt>     <dd>      <p class="para">       The file name of the ZIP archive to open.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">flags</span></dt>     <dd>      <p class="para">       The mode to use to open the archive.       <ul class="itemizedlist">        <li class="listitem">         <p class="para">          <strong><span><a href="zip.constants.html#ziparchive.constants.overwrite" class="link">ZipArchive::OVERWRITE</a></span></strong>         </p>        </li>        <li class="listitem">         <p class="para">          <strong><span><a href="zip.constants.html#ziparchive.constants.create" class="link">ZipArchive::CREATE</a></span></strong>         </p>        </li>        <li class="listitem">         <p class="para">          <strong><span><a href="zip.constants.html#ziparchive.constants.rdonly" class="link">ZipArchive::RDONLY</a></span></strong>         </p>        </li>        <li class="listitem">         <p class="para">          <strong><span><a href="zip.constants.html#ziparchive.constants.excl" class="link">ZipArchive::EXCL</a></span></strong>         </p>        </li>        <li class="listitem">         <p class="para">          <strong><span><a href="zip.constants.html#ziparchive.constants.checkcons" class="link">ZipArchive::CHECKCONS</a></span></strong>         </p>        </li>       </ul>      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-ziparchive.open-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   Returns <strong><span>true</span></strong> on success, <strong><span>false</span></strong> or one of the following error codes on error:   <dl>         <dt><strong><span>ZipArchive::ER_EXISTS</span></strong></dt>     <dd>      <span class="simpara">File already exists.</span>     </dd>             <dt><strong><span>ZipArchive::ER_INCONS</span></strong></dt>     <dd>      <span class="simpara">Zip archive inconsistent.</span>     </dd>             <dt><strong><span>ZipArchive::ER_INVAL</span></strong></dt>     <dd>      <span class="simpara">Invalid argument.</span>     </dd>             <dt><strong><span>ZipArchive::ER_MEMORY</span></strong></dt>     <dd>      <span class="simpara">Malloc failure.</span>     </dd>             <dt><strong><span>ZipArchive::ER_NOENT</span></strong></dt>     <dd>      <span class="simpara">No such file.</span>     </dd>             <dt><strong><span>ZipArchive::ER_NOZIP</span></strong></dt>     <dd>      <span class="simpara">Not a zip archive.</span>     </dd>             <dt><strong><span>ZipArchive::ER_OPEN</span></strong></dt>     <dd>      <span class="simpara">Can&#039;t open file.</span>     </dd>             <dt><strong><span>ZipArchive::ER_READ</span></strong></dt>     <dd>      <span class="simpara">Read error.</span>     </dd>             <dt><strong><span>ZipArchive::ER_SEEK</span></strong></dt>     <dd>      <span class="simpara">Seek error.</span>     </dd>       </dl>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-ziparchive.open-examples">  <h3 class="title">示例</h3>    <div class="example" id="example-2558">     <p><strong>示例 #1 Open and extract</strong></p>     <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$zip </span><span style="color: #007700">= new </span><span style="color: #9876AA">ZipArchive</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$res </span><span style="color: #007700">= </span><span style="color: #9876AA">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">open</span><span style="color: #007700">(</span><span style="color: #DD0000">'test.zip'</span><span style="color: #007700">);<br />if (</span><span style="color: #9876AA">$res </span><span style="color: #007700">=== </span><span style="color: #9876AA">TRUE</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">'ok'</span><span style="color: #007700">;<br />    </span><span style="color: #9876AA">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">extractTo</span><span style="color: #007700">(</span><span style="color: #DD0000">'test'</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">close</span><span style="color: #007700">();<br />} else {<br />    echo </span><span style="color: #DD0000">'failed, code:' </span><span style="color: #007700">. </span><span style="color: #9876AA">$res</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>    </div>    <div class="example" id="example-2561">     <p><strong>示例 #2 Create an archive</strong></p>     <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$zip </span><span style="color: #007700">= new </span><span style="color: #9876AA">ZipArchive</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$res </span><span style="color: #007700">= </span><span style="color: #9876AA">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">open</span><span style="color: #007700">(</span><span style="color: #DD0000">'test.zip'</span><span style="color: #007700">, </span><span style="color: #9876AA">ZipArchive</span><span style="color: #007700">::</span><span style="color: #9876AA">CREATE</span><span style="color: #007700">);<br />if (</span><span style="color: #9876AA">$res </span><span style="color: #007700">=== </span><span style="color: #9876AA">TRUE</span><span style="color: #007700">) {<br />    </span><span style="color: #9876AA">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">addFromString</span><span style="color: #007700">(</span><span style="color: #DD0000">'test.txt'</span><span style="color: #007700">, </span><span style="color: #DD0000">'file content goes here'</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">addFile</span><span style="color: #007700">(</span><span style="color: #DD0000">'data.txt'</span><span style="color: #007700">, </span><span style="color: #DD0000">'entryname.txt'</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">close</span><span style="color: #007700">();<br />    echo </span><span style="color: #DD0000">'ok'</span><span style="color: #007700">;<br />} else {<br />    echo </span><span style="color: #DD0000">'failed'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>    </div>    <div class="example" id="example-2564">     <p><strong>示例 #3 Create an temporary archive</strong></p>     <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$name </span><span style="color: #007700">= </span><span style="color: #9876AA">tempnam</span><span style="color: #007700">(</span><span style="color: #9876AA">sys_get_temp_dir</span><span style="color: #007700">(), </span><span style="color: #DD0000">"FOO"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$zip </span><span style="color: #007700">= new </span><span style="color: #9876AA">ZipArchive</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$res </span><span style="color: #007700">= </span><span style="color: #9876AA">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">open</span><span style="color: #007700">(</span><span style="color: #9876AA">$name</span><span style="color: #007700">, </span><span style="color: #9876AA">ZipArchive</span><span style="color: #007700">::</span><span style="color: #9876AA">OVERWRITE</span><span style="color: #007700">); </span><span style="color: #FF8000">// truncate as empty file is not valid <br /></span><span style="color: #007700">if (</span><span style="color: #9876AA">$res </span><span style="color: #007700">=== </span><span style="color: #9876AA">TRUE</span><span style="color: #007700">) {<br />    </span><span style="color: #9876AA">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">addFile</span><span style="color: #007700">(</span><span style="color: #DD0000">'data.txt'</span><span style="color: #007700">, </span><span style="color: #DD0000">'entryname.txt'</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">close</span><span style="color: #007700">();<br />    echo </span><span style="color: #DD0000">'ok'</span><span style="color: #007700">;<br />} else {<br />    echo </span><span style="color: #DD0000">'failed'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>    </div>   </div></div>