<div id="imagick.optimizeimagelayers" class="refentry"> <div class="refnamediv">  <h1 class="refname">Imagick::optimizeImageLayers</h1>  <p class="verinfo">(PECL imagick 2, PECL imagick 3)</p><p class="refpurpose"><span class="refname">Imagick::optimizeImageLayers</span> &mdash; <span class="dc-title">Removes repeated portions of images to optimize</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-imagick.optimizeimagelayers-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Imagick::optimizeImageLayers</strong></span>(): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   Compares each image the GIF disposed forms of the previous image   in the sequence.  From this it attempts to select the smallest   cropped image to replace each frame, while preserving the results   of the animation.    此方法在Imagick基于ImageMagick 6.2.9以上版本编译时可用。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-imagick.optimizeimagelayers-parameters">  <h3 class="title">参数</h3>  <span>此函数没有参数。</span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-imagick.optimizeimagelayers-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 errors" id="refsect1-imagick.optimizeimagelayers-errors">  <h3 class="title">错误／异常</h3>  <p class="para">   错误时抛出 ImagickException。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-imagick.optimizeimagelayers-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 Using <span class="function"><strong style="color:#CC7832">Imagick::optimizeImageLayers()</strong></span></strong></p>    <div class="example-contents"><p>      Reading, optimizing and writing a GIF image    </p></div>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// create new imagick object <br /></span><span style="color: #9876AA">$im </span><span style="color: #007700">= new </span><span style="color: #9876AA">Imagick</span><span style="color: #007700">(</span><span style="color: #DD0000">"test.gif"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// optimize the image layers <br /></span><span style="color: #9876AA">$im</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">optimizeImageLayers</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">// write the image back <br /></span><span style="color: #9876AA">$im</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">writeImages</span><span style="color: #007700">(</span><span style="color: #DD0000">"test_optimized.gif"</span><span style="color: #007700">, </span><span style="color: #9876AA">true</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-imagick.optimizeimagelayers-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link Imagick::compareImageLayers()} - Returns the maximum bounding region between images</span></li>    <li class="member"><span class="function">{@link Imagick::writeImages()} - Writes an image or image sequence</span></li>    <li class="member"><span class="function">{@link Imagick::writeImage()} - 把图片写入指定的文件</span></li>   </ul>  </span> </div></div>