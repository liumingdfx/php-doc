<div id="function.html-entity-decode" class="refentry"> <div class="refnamediv">  <h1 class="refname">html_entity_decode</h1>  <p class="verinfo">(PHP 4 &gt;= 4.3.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">html_entity_decode</span> &mdash; <span class="dc-title">Convert HTML entities to their corresponding characters</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.html-entity-decode-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>html_entity_decode</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$string</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span><span class="initializer"> = ENT_QUOTES | ENT_SUBSTITUTE | ENT_HTML401</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$encoding</span><span class="initializer"> = <strong><span>null</span></strong></span></span>): <span class="type" style="color:#EAB766">string</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">html_entity_decode()</strong></span> is the opposite of   <span class="function">{@link htmlentities()}</span> in that it converts HTML entities   in the <span class="parameter" style="color:#3A95FF">string</span> to their corresponding characters.  </p>  <p class="para">   More precisely, this function decodes all the entities (including all numeric   entities) that a) are necessarily valid for the chosen document type — i.e.,   for XML, this function does not decode named entities that might be defined   in some DTD — and b) whose character or characters are in the coded character   set associated with the chosen encoding and are permitted in the chosen   document type. All other entities are left as is.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.html-entity-decode-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">string</span></dt>     <dd>      <p class="para">       The input string.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">flags</span></dt>     <dd>      <p class="para">       A bitmask of one or more of the following flags, which specify how to handle quotes and       which document type to use. The default is <span>ENT_QUOTES | ENT_SUBSTITUTE | ENT_HTML401</span>.       <table class="doctable table">        <caption><strong>Available <span class="parameter" style="color:#3A95FF">flags</span> constants</strong></caption>                 <thead>          <tr>           <th>Constant Name</th>           <th>Description</th>          </tr>         </thead>         <tbody class="tbody">          <tr>           <td><strong><span>ENT_COMPAT</span></strong></td>           <td>Will convert double-quotes and leave single-quotes alone.</td>          </tr>          <tr>           <td><strong><span>ENT_QUOTES</span></strong></td>           <td>Will convert both double and single quotes.</td>          </tr>          <tr>           <td><strong><span>ENT_NOQUOTES</span></strong></td>           <td>Will leave both double and single quotes unconverted.</td>          </tr>          <tr>           <td><strong><span>ENT_SUBSTITUTE</span></strong></td>           <td>            Replace invalid code unit sequences with a Unicode Replacement Character            U+FFFD (UTF-8) or &amp;#xFFFD; (otherwise) instead of returning an empty string.           </td>          </tr>          <tr>           <td><strong><span>ENT_HTML401</span></strong></td>           <td>            Handle code as HTML 4.01.           </td>          </tr>          <tr>           <td><strong><span>ENT_XML1</span></strong></td>           <td>            Handle code as XML 1.           </td>          </tr>          <tr>           <td><strong><span>ENT_XHTML</span></strong></td>           <td>            Handle code as XHTML.           </td>          </tr>          <tr>           <td><strong><span>ENT_HTML5</span></strong></td>           <td>            Handle code as HTML 5.           </td>          </tr>         </tbody>               </table>      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">encoding</span></dt>     <dd>       <p class="para">  An optional argument defining the encoding used when converting characters. </p> <p class="para">  If omitted, <span class="parameter" style="color:#3A95FF">encoding</span> defaults to the value of the  <a href="https://www.php.net/manual/zh/ini.core.php#ini.default-charset" class="link">default_charset</a> configuration  option. </p> <p class="para">  Although this argument is technically optional, you are highly encouraged to  specify the correct value for your code  if the <a href="https://www.php.net/manual/zh/ini.core.php#ini.default-charset" class="link">default_charset</a>  configuration option may be set incorrectly for the given input. </p>      <p class="para"> 支持以下字符集： <table class="doctable table">  <caption><strong>支持的字符集列表</strong></caption>     <thead>    <tr>     <th>字符集</th>     <th>别名</th>     <th>描述</th>    </tr>   </thead>   <tbody class="tbody">    <tr>     <td>ISO-8859-1</td>     <td>ISO8859-1</td>     <td>      西欧，Latin-1     </td>    </tr>    <tr>     <td>ISO-8859-5</td>     <td>ISO8859-5</td>     <td>      Little used cyrillic charset (Latin/Cyrillic).     </td>    </tr>    <tr>     <td>ISO-8859-15</td>     <td>ISO8859-15</td>     <td>      西欧，Latin-9。增加欧元符号，法语和芬兰语字母在 Latin-1(ISO-8859-1) 中缺失。     </td>    </tr>    <tr>     <td>UTF-8</td>     <td class="empty">&nbsp;</td>     <td>      ASCII 兼容的多字节 8 位 Unicode。     </td>    </tr>    <tr>     <td>cp866</td>     <td>ibm866, 866</td>     <td>      DOS 特有的西里尔编码。本字符集在 4.3.2 版本中得到支持。     </td>    </tr>    <tr>     <td>cp1251</td>     <td>Windows-1251, win-1251, 1251</td>     <td>      Windows 特有的西里尔编码。本字符集在 4.3.2 版本中得到支持。     </td>    </tr>    <tr>     <td>cp1252</td>     <td>Windows-1252, 1252</td>     <td>      Windows 特有的西欧编码。     </td>    </tr>    <tr>     <td>KOI8-R</td>     <td>koi8-ru, koi8r</td>     <td>      俄语。本字符集在 4.3.2 版本中得到支持。     </td>    </tr>    <tr>     <td>BIG5</td>     <td>950</td>     <td>      繁体中文，主要用于中国台湾省。     </td>    </tr>    <tr>     <td>GB2312</td>     <td>936</td>     <td>      简体中文，中国国家标准字符集。     </td>    </tr>    <tr>     <td>BIG5-HKSCS</td>     <td class="empty">&nbsp;</td>     <td>      繁体中文，附带香港扩展的 Big5 字符集。     </td>    </tr>    <tr>     <td>Shift_JIS</td>     <td>SJIS, 932</td>     <td>      日语     </td>    </tr>    <tr>     <td>EUC-JP</td>     <td>EUCJP</td>     <td>      日语     </td>    </tr>    <tr>     <td>MacRoman</td>     <td class="empty">&nbsp;</td>     <td>      Mac OS 使用的字符串。     </td>    </tr>    <tr>     <td><span>&#039;&#039;</span></td>     <td class="empty">&nbsp;</td>     <td>      An empty string activates detection from script encoding (Zend multibyte),      <a href="https://www.php.net/manual/zh/ini.core.php#ini.default-charset" class="link">default_charset</a> and current      locale (see <span class="function">{@link nl_langinfo()}</span> and      <span class="function">{@link setlocale()}</span>), in this order. Not recommended.     </td>    </tr>   </tbody>   </table> <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:   <span class="simpara">   其他字符集没有认可。将会使用默认编码并抛出异常。  </span> </p></blockquote></p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.html-entity-decode-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   Returns the decoded string.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.html-entity-decode-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td>8.1.0</td>      <td>       <span class="parameter" style="color:#3A95FF">flags</span> changed from <strong><span>ENT_COMPAT</span></strong> to <strong><span>ENT_QUOTES</span></strong> | <strong><span>ENT_SUBSTITUTE</span></strong> | <strong><span>ENT_HTML401</span></strong>.      </td>     </tr>     <tr>      <td>8.0.0</td>      <td>       <span class="parameter" style="color:#3A95FF">encoding</span> is nullable now.      </td>     </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.html-entity-decode-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 Decoding HTML entities</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$orig </span><span style="color: #007700">= </span><span style="color: #DD0000">"I'll \"walk\" the &lt;b&gt;dog&lt;/b&gt; now"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">$a </span><span style="color: #007700">= </span><span style="color: #9876AA">htmlentities</span><span style="color: #007700">(</span><span style="color: #9876AA">$orig</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$b </span><span style="color: #007700">= </span><span style="color: #9876AA">html_entity_decode</span><span style="color: #007700">(</span><span style="color: #9876AA">$a</span><span style="color: #007700">);<br /><br />echo </span><span style="color: #9876AA">$a</span><span style="color: #007700">; </span><span style="color: #FF8000">// I'll &amp;quot;walk&amp;quot; the &amp;lt;b&amp;gt;dog&amp;lt;/b&amp;gt; now<br /><br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">$b</span><span style="color: #007700">; </span><span style="color: #FF8000">// I'll "walk" the &lt;b&gt;dog&lt;/b&gt; now<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>     </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.html-entity-decode-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    You might wonder why trim(html_entity_decode(&#039;&amp;nbsp;&#039;)); doesn&#039;t    reduce the string to an empty string, that&#039;s because the &#039;&amp;nbsp;&#039;    entity is not ASCII code 32 (which is stripped by    <span class="function">{@link trim()}</span>) but ASCII code 160 (0xa0) in the default ISO    8859-1 encoding.   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.html-entity-decode-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link htmlentities()} - 将字符转换为 HTML 转义字符</span></li>    <li class="member"><span class="function">{@link htmlspecialchars()} - 将特殊字符转换为 HTML 实体</span></li>    <li class="member"><span class="function">{@link get_html_translation_table()} - 返回使用 htmlspecialchars 和 htmlentities 后的转换表</span></li>    <li class="member"><span class="function">{@link urldecode()} - 解码已编码的 URL 字符串</span></li>   </ul>  </span> </div></div>