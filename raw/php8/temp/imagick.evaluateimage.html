<div id="imagick.evaluateimage" class="refentry"> <div class="refnamediv">  <h1 class="refname">Imagick::evaluateImage</h1>  <p class="verinfo">(PECL imagick 2, PECL imagick 3)</p><p class="refpurpose"><span class="refname">Imagick::evaluateImage</span> &mdash; <span class="dc-title">Applies an expression to an image</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-imagick.evaluateimage-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Imagick::evaluateImage</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$op</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">float</span> <span class="parameter" style="color:#3A95FF">$constant</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$channel</span><span class="initializer"> = Imagick::CHANNEL_DEFAULT</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   Applys an arithmetic, relational, or logical expression to an image.  Use   these operators to lighten or darken an image, to increase or decrease   contrast in an image, or to produce the &quot;negative&quot; of an image.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-imagick.evaluateimage-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">op</span></dt>     <dd>      <p class="para">      The evaluation operator      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">constant</span></dt>     <dd>      <p class="para">      The value of the operator      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">channel</span></dt>     <dd>      <p class="para">       Provide any channel constant that is valid for your channel mode. To       apply to more than one channel, combine channeltype constants using       bitwise operators. Refer to this       list of  <a href="https://www.php.net/manual/zh/imagick.constants.php#imagick.constants.channel" class="link">channel constants</a>.      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-imagick.evaluateimage-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 errors" id="refsect1-imagick.evaluateimage-errors">  <h3 class="title">错误／异常</h3>  <p class="para">   错误时抛出 ImagickException。  </p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-imagick.evaluateimage-examples">  <h3 class="title">示例</h3>  <span>  <div class="example" id="">   <p><strong>示例 #1 Using <span class="function"><strong style="color:#CC7832">Imagick::evaluateImage()</strong></span></strong></p>   <div class="example-contents"><p>    Using evaluateImage to reduce opacity in an image.   </p></div>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Create new object with the image<br /></span><span style="color: #9876AA">$im </span><span style="color: #007700">= new </span><span style="color: #9876AA">Imagick</span><span style="color: #007700">(</span><span style="color: #DD0000">'example-alpha.png'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Reduce the alpha by 50%<br /></span><span style="color: #9876AA">$im</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">evaluateImage</span><span style="color: #007700">(</span><span style="color: #9876AA">Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">EVALUATE_DIVIDE</span><span style="color: #007700">, </span><span style="color: #9876AA">2</span><span style="color: #007700">, </span><span style="color: #9876AA">Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">CHANNEL_ALPHA</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Output the image<br /></span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">$im</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>  </div> </span> </div></div>