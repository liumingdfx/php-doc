<div id="class.eventdnsbase" class="reference"> <h1 class="title">The EventDnsBase class</h1>  <div class="partintro"><p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p>  <div class="section" id="eventdnsbase.intro">   <h2 class="title">简介</h2>   <p class="para">    Represents Libevent&#039;s DNS base structure. Used to resolve DNS    asyncronously, parse configuration files like resolv.conf etc.   </p>  </div>  <div class="section" id="eventdnsbase.synopsis">   <h2 class="title">类摘要</h2>   <div class="classsynopsis">    <span class="ooclass">     <strong class="classname"></strong>    </span>    <div class="classsynopsisinfo">     <span class="ooclass">      <span class="modifier">final</span>      <span class="modifier">class</span> <strong class="classname">EventDnsBase</strong>     </span>     {</div>    <div class="classsynopsisinfo classsynopsisinfo_comment">// 常量 </div>    <div class="fieldsynopsis">     <span class="modifier">const</span>     <span class="type" style="color:#EAB766">int</span>      <var class="fieldsynopsis_varname"><a href="https://www.php.net/manual/zh/class.eventdnsbase.php#eventdnsbase.constants.option-search"><var class="varname">OPTION_SEARCH</var></a></var><span class="initializer"> = 1</span>;</div>    <div class="fieldsynopsis"><span class="modifier">const</span>     <span class="type" style="color:#EAB766">int</span>      <var class="fieldsynopsis_varname"><a href="https://www.php.net/manual/zh/class.eventdnsbase.php#eventdnsbase.constants.option-nameservers"><var class="varname">OPTION_NAMESERVERS</var></a></var><span class="initializer"> = 2</span>;</div>    <div class="fieldsynopsis"><span class="modifier">const</span>     <span class="type" style="color:#EAB766">int</span>      <var class="fieldsynopsis_varname"><a href="https://www.php.net/manual/zh/class.eventdnsbase.php#eventdnsbase.constants.option-misc"><var class="varname">OPTION_MISC</var></a></var><span class="initializer"> = 4</span>;</div>    <div class="fieldsynopsis"><span class="modifier">const</span>     <span class="type" style="color:#EAB766">int</span>      <var class="fieldsynopsis_varname"><a href="https://www.php.net/manual/zh/class.eventdnsbase.php#eventdnsbase.constants.option-hostsfile"><var class="varname">OPTION_HOSTSFILE</var></a></var><span class="initializer"> = 8</span>;</div>    <div class="fieldsynopsis"><span class="modifier">const</span>     <span class="type" style="color:#EAB766">int</span>      <var class="fieldsynopsis_varname"><a href="https://www.php.net/manual/zh/class.eventdnsbase.php#eventdnsbase.constants.options-all"><var class="varname">OPTIONS_ALL</var></a></var><span class="initializer"> = 15</span>;</div>    <div class="classsynopsisinfo classsynopsisinfo_comment">// 方法 </div>    <div class="methodsynopsis dc-description">   <span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/eventdnsbase.addnameserverip.php" class="methodname" style="color:#CC7832">addNameserverIp</a></span>(<span class="methodparam">    <span class="type" style="color:#EAB766">string</span>     <span class="parameter" style="color:#3A95FF">$ip</span>   </span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/eventdnsbase.addsearch.php" class="methodname" style="color:#CC7832">addSearch</a></span>(<span class="methodparam">    <span class="type" style="color:#EAB766">string</span>     <span class="parameter" style="color:#3A95FF">$domain</span>   </span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/eventdnsbase.clearsearch.php" class="methodname" style="color:#CC7832">clearSearch</a></span>(): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/eventdnsbase.construct.php" class="methodname" style="color:#CC7832">__construct</a></span>(<span class="methodparam">    <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.eventbase.php" class="type EventBase" style="color:#EAB766">EventBase</a></span>     <span class="parameter" style="color:#3A95FF">$base</span>   </span>, <span class="methodparam">    <span class="type" style="color:#EAB766">bool</span>     <span class="parameter" style="color:#3A95FF">$initialize</span>   </span>)</div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/eventdnsbase.countnameservers.php" class="methodname" style="color:#CC7832">countNameservers</a></span>(): <span class="type" style="color:#EAB766">int</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/eventdnsbase.loadhosts.php" class="methodname" style="color:#CC7832">loadHosts</a></span>(<span class="methodparam">    <span class="type" style="color:#EAB766">string</span>     <span class="parameter" style="color:#3A95FF">$hosts</span>   </span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/eventdnsbase.parseresolvconf.php" class="methodname" style="color:#CC7832">parseResolvConf</a></span>(<span class="methodparam">    <span class="type" style="color:#EAB766">int</span>     <span class="parameter" style="color:#3A95FF">$flags</span>   </span>, <span class="methodparam">    <span class="type" style="color:#EAB766">string</span>     <span class="parameter" style="color:#3A95FF">$filename</span>   </span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/eventdnsbase.setoption.php" class="methodname" style="color:#CC7832">setOption</a></span>(<span class="methodparam">    <span class="type" style="color:#EAB766">string</span>     <span class="parameter" style="color:#3A95FF">$option</span>   </span>, <span class="methodparam">    <span class="type" style="color:#EAB766">string</span>     <span class="parameter" style="color:#3A95FF">$value</span>   </span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/eventdnsbase.setsearchndots.php" class="methodname" style="color:#CC7832">setSearchNdots</a></span>(<span class="methodparam">    <span class="type" style="color:#EAB766">int</span>     <span class="parameter" style="color:#3A95FF">$ndots</span>   </span>): <span class="type" style="color:#EAB766">bool</span></div>   }</div>  </div>  <div class="section" id="eventdnsbase.constants">   <h2 class="title">预定义常量</h2>   <dl>         <dt id="eventdnsbase.constants.option-search">      <strong><span>EventDnsBase::OPTION_SEARCH</span></strong>     </dt>     <dd>      <p class="para">       Tells to read the domain and search fields from the       <span>resolv.conf</span>       file and the       <span>ndots</span>       option, and use them to decide which domains(if any) to search for       hostnames that aren’t fully-qualified.      </p>     </dd>             <dt id="eventdnsbase.constants.option-nameservers">      <strong><span>EventDnsBase::OPTION_NAMESERVERS</span></strong>     </dt>     <dd>      <p class="para">       Tells to learn the nameservers from the       <span>resolv.conf</span>       file.      </p>     </dd>             <dt id="eventdnsbase.constants.option-misc">      <strong><span>EventDnsBase::OPTION_MISC</span></strong>     </dt>     <dd>      <p class="para"/>     </dd>             <dt id="eventdnsbase.constants.option-hostsfile">      <strong><span>EventDnsBase::OPTION_HOSTSFILE</span></strong>     </dt>     <dd>      <p class="para">       Tells to read a list of hosts from       <span>/etc/hosts</span>       as part of loading the       <span>resolv.conf</span>       file.      </p>     </dd>             <dt id="eventdnsbase.constants.options-all">      <strong><span>EventDnsBase::OPTIONS_ALL</span></strong>     </dt>     <dd>      <p class="para">       Tells to learn as much as it can from the       <span>resolv.conf</span>       file.      </p>     </dd>       </dl>  </div> </div> <h2>目录</h2><ul class="chunklist chunklist_reference"><li>{@link EventDnsBase::addNameserverIp} — Adds a nameserver to the DNS base</li><li>{@link EventDnsBase::addSearch} — Adds a domain to the list of search domains</li><li>{@link EventDnsBase::clearSearch} — Removes all current search suffixes</li><li>{@link EventDnsBase::__construct} — Constructs EventDnsBase object</li><li>{@link EventDnsBase::countNameservers} — Gets the number of configured nameservers</li><li>{@link EventDnsBase::loadHosts} — Loads a hosts file (in the same format as /etc/hosts) from hosts file</li><li>{@link EventDnsBase::parseResolvConf} — Scans the resolv.conf-formatted file</li><li>{@link EventDnsBase::setOption} — Set the value of a configuration option</li><li>{@link EventDnsBase::setSearchNdots} — Set the 'ndots' parameter for searches</li></ul></div>