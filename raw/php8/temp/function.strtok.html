<div id="function.strtok" class="refentry"> <div class="refnamediv">  <h1 class="refname">strtok</h1>  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">strtok</span> &mdash; <span class="dc-title">标记分割字符串</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.strtok-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>strtok</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$string</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$token</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="simpara">可选 token （不支持命名参数）：</p>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>strtok</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$token</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">strtok()</strong></span> 将字符串 <span class="parameter" style="color:#3A95FF">string</span> 分割为若干子字符串，每个子字符串以   <span class="parameter" style="color:#3A95FF">token</span> 中的字符分割。这也就意味着，如果有个字符串是 &quot;This is an example string&quot;，   你可以使用空格字符作为 <span class="parameter" style="color:#3A95FF">token</span>，将这句话分割成独立的单词。  </p>  <p class="para">   注意，仅第一次调用 strtok 函数时才使用 <span class="parameter" style="color:#3A95FF">string</span> 参数。   随后每次调用 strtok 都将只使用 <span class="parameter" style="color:#3A95FF">token</span> 参数，因为它会记住它在当前字符串中的位置。   如果要重新开始分割一个新的字符串，你需要再次使用 <span class="parameter" style="color:#3A95FF">string</span> 参数来调用 strtok 函数来对其进行初始化。   注意，可以在 <span class="parameter" style="color:#3A95FF">token</span> 参数中使用多个字符。字符串将被 <span class="parameter" style="color:#3A95FF">token</span> 参数中任何一个字符分割。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    这个函数的行为可能与熟悉 <span class="function">{@link explode()}</span> 的人期望略有不同。    首先，在解析的字符串中，两个或多个连续的 <span class="parameter" style="color:#3A95FF">token</span> 的    字符被认为是单一的分隔符。    此外，位于字符串开始或结束处的 <span class="parameter" style="color:#3A95FF">token</span> 将被忽略。    例如，如果使用一个字符串 <span>&quot;;aaa;;bbb;&quot;</span> ，连续调用 <span class="function"><strong style="color:#CC7832">strtok()</strong></span>    并将 <span>&quot;;&quot;</span> 作为一个 <span class="parameter" style="color:#3A95FF">token</span>    将返回字符串 &quot;aaa&quot; 和 &quot;bbb&quot;，然后返回 <strong><span>false</span></strong> 。    因此，字符串将仅被拆分为两个元素，而 <span>explode(&quot;;&quot;, $string)</span> 将返回一个包含 5 个元素的数组。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.strtok-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">string</span></dt>     <dd>      <p class="para">       被分成若干子字符串的原始<span class="type" style="color:#EAB766"><span class="type 字符串" style="color:#EAB766">字符串</span></span>。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">token</span></dt>     <dd>      <p class="para">       分割 <span class="parameter" style="color:#3A95FF">string</span> 时使用的分界字符。      </p>     </dd>       </dl>  </span> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.strtok-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   标记后的<span class="type" style="color:#EAB766"><span class="type 字符串" style="color:#EAB766">字符串</span></span>，如果没有更多标记可用，则返回 <strong><span>false</span></strong> 。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.strtok-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">strtok()</strong></span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$string </span><span style="color: #007700">= </span><span style="color: #DD0000">"This is\tan example\nstring"</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">// 使用制表符和换行符作为分界符 <br /></span><span style="color: #9876AA">$tok </span><span style="color: #007700">= </span><span style="color: #9876AA">strtok</span><span style="color: #007700">(</span><span style="color: #9876AA">$string</span><span style="color: #007700">, </span><span style="color: #DD0000">" \n\t"</span><span style="color: #007700">);<br /><br />while (</span><span style="color: #9876AA">$tok </span><span style="color: #007700">!== </span><span style="color: #9876AA">false</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">"Word=</span><span style="color: #9876AA">$tok</span><span style="color: #DD0000">&lt;br /&gt;"</span><span style="color: #007700">;<br />    </span><span style="color: #9876AA">$tok </span><span style="color: #007700">= </span><span style="color: #9876AA">strtok</span><span style="color: #007700">(</span><span style="color: #DD0000">" \n\t"</span><span style="color: #007700">);<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 当 <span class="function"><strong style="color:#CC7832">strtok()</strong></span> 找不到标记时的反应</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$first_token  </span><span style="color: #007700">= </span><span style="color: #9876AA">strtok</span><span style="color: #007700">(</span><span style="color: #DD0000">'/something'</span><span style="color: #007700">, </span><span style="color: #DD0000">'/'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$second_token </span><span style="color: #007700">= </span><span style="color: #9876AA">strtok</span><span style="color: #007700">(</span><span style="color: #DD0000">'/'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$first_token</span><span style="color: #007700">, </span><span style="color: #9876AA">$second_token</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>    string(9) &quot;something&quot;<br>    bool(false)<br></span></div>    </div>   </div>  </p>  <p class="para">   <div class="example" id="">    <p><strong>示例 #3 <span class="function"><strong style="color:#CC7832">strtok()</strong></span> 和 <span class="function">{@link explode()}</span> 的不同点</strong></p>    <div class="example-contents">     <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$string </span><span style="color: #007700">= </span><span style="color: #DD0000">";aaa;;bbb;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$parts </span><span style="color: #007700">= [];<br /></span><span style="color: #9876AA">$tok </span><span style="color: #007700">= </span><span style="color: #9876AA">strtok</span><span style="color: #007700">(</span><span style="color: #9876AA">$string</span><span style="color: #007700">, </span><span style="color: #DD0000">";"</span><span style="color: #007700">);<br />while (</span><span style="color: #9876AA">$tok </span><span style="color: #007700">!== </span><span style="color: #9876AA">false</span><span style="color: #007700">) {<br />    </span><span style="color: #9876AA">$parts</span><span style="color: #007700">[] = </span><span style="color: #9876AA">$tok</span><span style="color: #007700">;<br />    </span><span style="color: #9876AA">$tok </span><span style="color: #007700">= </span><span style="color: #9876AA">strtok</span><span style="color: #007700">(</span><span style="color: #DD0000">";"</span><span style="color: #007700">);<br />}<br />echo </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$parts</span><span style="color: #007700">),</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$parts </span><span style="color: #007700">= </span><span style="color: #9876AA">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">";"</span><span style="color: #007700">, </span><span style="color: #9876AA">$string</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$parts</span><span style="color: #007700">),</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;">     <div class="cdata"><span>[&quot;aaa&quot;,&quot;bbb&quot;]<br>[&quot;&quot;,&quot;aaa&quot;,&quot;&quot;,&quot;bbb&quot;,&quot;&quot;]<br></span></div>    </div>   </div>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.strtok-notes">  <h3 class="title">注释</h3>    <div class="warning"><strong class="warning">警告</strong><p class="simpara">此函数可能返回布尔值<strong><span>false</span></strong>，但也可能返回等同于 <strong><span>false</span></strong> 的非布尔值。请阅读 <a href="https://www.php.net/manual/zh/language.types.boolean.php" class="link">布尔类型</a>章节以获取更多信息。应使用<a href="https://www.php.net/manual/zh/language.operators.comparison.php" class="link">===运算符</a>来测试此函数的返回值。</p></div> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.strtok-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link explode()} - 使用一个字符串分割另一个字符串</span></li>   </ul>  </span> </div></div>