<div id="function.wincache-refresh-if-changed" class="refentry"> <div class="refnamediv">  <h1 class="refname">wincache_refresh_if_changed</h1>  <p class="verinfo">(PECL wincache &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">wincache_refresh_if_changed</span> &mdash; <span class="dc-title">   Refreshes the cache entries for the cached files  </span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.wincache-refresh-if-changed-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>wincache_refresh_if_changed</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$files</span><span class="initializer"> = NULL</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   Refreshes the cache entries for the files, whose names were passed in the input argument.    If no argument is specified then refreshes all the entries in the cache.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.wincache-refresh-if-changed-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">files</span></dt>     <dd>      <p class="para">       An array of file names for files that need to be refreshed.        An absolute or relative file paths can be used.      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.wincache-refresh-if-changed-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.wincache-refresh-if-changed-examples">  <h3 class="title">示例</h3>  <span>   WinCache performs regular checks on the cached files to    ensure that if any file has changed then the corresponding entry in the cache is    updated. By default this check is performed every 30 seconds. If, for example,    a PHP script updates another PHP script where the application&#039;s    configuration settings are stored, then it may happen that after the    configuration settings have been saved to a file, the application is still using    old settings for some time until the cache is refreshed. In those cases it may be    preferrable to refresh the cache right after the file has been changed. The    following example shows how this can be done.   <div class="example" id="example-1967">    <p><strong>示例 #1 A <span class="function"><strong style="color:#CC7832">wincache_refresh_if_changed()</strong></span> example</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php <br />$filename </span><span style="color: #007700">= </span><span style="color: #DD0000">'C:\inetpub\wwwroot\config.php'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$handle </span><span style="color: #007700">= </span><span style="color: #9876AA">fopen</span><span style="color: #007700">(</span><span style="color: #9876AA">$filename</span><span style="color: #007700">, </span><span style="color: #DD0000">'w+'</span><span style="color: #007700">);<br />if (</span><span style="color: #9876AA">$handle </span><span style="color: #007700">=== </span><span style="color: #9876AA">FALSE</span><span style="color: #007700">) die(</span><span style="color: #DD0000">'Failed to open file '</span><span style="color: #007700">.</span><span style="color: #9876AA">$filename</span><span style="color: #007700">.</span><span style="color: #DD0000">' for writing'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">fwrite</span><span style="color: #007700">(</span><span style="color: #9876AA">$handle</span><span style="color: #007700">, </span><span style="color: #DD0000">'&lt;?php $setting=something; ?&gt;'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">fclose</span><span style="color: #007700">(</span><span style="color: #9876AA">$handle</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">wincache_refresh_if_changed</span><span style="color: #007700">(array(</span><span style="color: #9876AA">$filename</span><span style="color: #007700">));<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.wincache-refresh-if-changed-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link wincache_fcache_fileinfo()} - Retrieves information about files cached in the file cache</span></li>    <li class="member"><span class="function">{@link wincache_fcache_meminfo()} - Retrieves information about file cache memory usage</span></li>    <li class="member"><span class="function">{@link wincache_ocache_fileinfo()} - Retrieves information about files cached in the opcode cache</span></li>    <li class="member"><span class="function">{@link wincache_ocache_meminfo()} - Retrieves information about opcode cache memory usage</span></li>    <li class="member"><span class="function">{@link wincache_rplist_fileinfo()} - Retrieves information about resolve file path cache</span></li>    <li class="member"><span class="function">{@link wincache_rplist_meminfo()} - Retrieves information about memory usage by the resolve file path cache</span></li>    <li class="member"><span class="function">{@link wincache_ucache_meminfo()} - Retrieves information about user cache memory usage</span></li>    <li class="member"><span class="function">{@link wincache_ucache_info()} - Retrieves information about data stored in the user cache</span></li>   </ul>  </span> </div> </div>