<div id="syncreaderwriter.construct" class="refentry"> <div class="refnamediv">  <h1 class="refname">SyncReaderWriter::__construct</h1>  <p class="verinfo">(PECL sync &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">SyncReaderWriter::__construct</span> &mdash; <span class="dc-title">Constructs a new SyncReaderWriter object</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-syncreaderwriter.construct-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>SyncReaderWriter::__construct</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$name</span><span class="initializer"> = ?</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$autounlock</span><span class="initializer"> = 1</span></span>)</div>  <p class="para rdfs-comment">   Constructs a named or unnamed reader-writer object.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-syncreaderwriter.construct-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">name</span></dt>    <dd>     <span>      The name of the reader-writer if this is a named reader-writer object.     </span>     <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:       <p class="para">       If the name already exists, it must be able to be opened by the current user       that the process is running as or an exception will be thrown with a meaningless       error message.      </p>     </p></blockquote>     <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:       <span class="simpara">       On Windows, <span class="parameter" style="color:#3A95FF">name</span> must not contain backslashes.      </span>     </p></blockquote>    </dd>          <dt><span class="parameter" style="color:#3A95FF">autounlock</span></dt>    <dd>     <p class="para">      Specifies whether or not to automatically unlock the reader-writer at the      conclusion of the PHP script.     </p>     <div class="warning"><strong class="warning">警告</strong>      <p class="para">       If an object is:  A named reader-writer with an autounlock of FALSE, the       object is locked for either reading or writing, and the PHP script concludes       before the object is unlocked, then the underlying objects will end up in an       inconsistent state.      </p>     </div>    </dd>     </dl> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-syncreaderwriter.construct-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   The new <span class="classname"><a href="https://www.php.net/manual/zh/class.syncreaderwriter.php" class="classname">SyncReaderWriter</a></span> object.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 errors" id="refsect1-syncreaderwriter.construct-errors">  <h3 class="title">错误／异常</h3>  <p class="para">   An exception is thrown if the reader-writer cannot be created or opened.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-syncreaderwriter.construct-examples">  <h3 class="title">示例</h3>  <div class="example" id="">   <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">SyncReaderWriter::__construct()</strong></span> example</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$readwrite </span><span style="color: #007700">= new </span><span style="color: #9876AA">SyncReaderWriter</span><span style="color: #007700">(</span><span style="color: #DD0000">"FileCacheLock"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$readwrite</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">readlock</span><span style="color: #007700">();<br /></span><span style="color: #FF8000">// ... <br /></span><span style="color: #9876AA">$readwrite</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">readunlock</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">$readwrite</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">writelock</span><span style="color: #007700">();<br /></span><span style="color: #FF8000">// ... <br /></span><span style="color: #9876AA">$readwrite</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">writeunlock</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>  </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-syncreaderwriter.construct-seealso">  <h3 class="title">参见</h3>  <ul class="simplelist">   <li class="member"><span class="methodname" style="color:#CC7832">{@link SyncReaderWriter::readlock()} - Waits for a read lock</span></li>   <li class="member"><span class="methodname" style="color:#CC7832">{@link SyncReaderWriter::readunlock()} - Releases a read lock</span></li>   <li class="member"><span class="methodname" style="color:#CC7832">{@link SyncReaderWriter::writelock()} - Waits for an exclusive write lock</span></li>   <li class="member"><span class="methodname" style="color:#CC7832">{@link SyncReaderWriter::writeunlock()} - Releases a write lock</span></li>  </ul> </div></div>