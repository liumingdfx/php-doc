<div id="ds-hashable.hash" class="refentry"> <div class="refnamediv">  <h1 class="refname">Ds\Hashable::hash</h1>  <p class="verinfo">(PECL ds &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">Ds\Hashable::hash</span> &mdash; <span class="dc-title">Returns a scalar value to be used as a hash value</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-ds-hashable.hash-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="modifier">abstract</span> <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Ds\Hashable::hash</strong></span>(): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span></div>  <p class="para rdfs-comment">    Returns a scalar value to be used as the hash value of the objects.  </p>  <p class="para">    While the hash value does not define equality, all objects that are equal according to <span class="function">{@link Ds\Hashable::equals()}</span>    must have the same hash value. Hash values of equal objects don&#039;t have to be unique, for example    you could just return <strong><span>true</span></strong> for all objects and nothing would break - the only    implication would be that hash tables then turn into linked lists because all    your objects will be hashed to the same bucket. It&#039;s therefore very important    that you pick a good hash value, such as an ID or email address. </p>  <p class="para">    This method allows objects to be used as keys in structures such as    <span class="classname"><a href="https://www.php.net/manual/zh/class.ds-map.php" class="classname">Ds\Map</a></span> and <span class="classname"><a href="https://www.php.net/manual/zh/class.ds-set.php" class="classname">Ds\Set</a></span>, or any    other lookup structure that honors this interface.  </p>  <div class="caution"><strong class="caution">警告</strong>    <p class="para">        Do not pick a value that might change within the object, such as a public        property. Hash table lookups would fail because the hash has changed.    </p>  </div>  <div class="caution"><strong class="caution">警告</strong>    <p class="para">        All objects that are equal must have the same hash value.    </p>  </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-ds-hashable.hash-parameters">  <h3 class="title">参数</h3>  <span>此函数没有参数。</span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-ds-hashable.hash-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">    A scalar value to be used as this object&#039;s hash value.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-ds-hashable.hash-examples">  <h3 class="title">示例</h3>  <div class="example" id="">   <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">Ds\Hashable::hash()</strong></span> example</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">class </span><span style="color: #9876AA">HashableObject </span><span style="color: #007700">implements </span><span style="color: #9876AA">\Ds\Hashable<br /></span><span style="color: #007700">{<br />    private </span><span style="color: #9876AA">$name</span><span style="color: #007700">;<br />    private </span><span style="color: #9876AA">$email</span><span style="color: #007700">;<br /><br />    public function </span><span style="color: #9876AA">__construct</span><span style="color: #007700">(</span><span style="color: #9876AA">$name</span><span style="color: #007700">, </span><span style="color: #9876AA">$email</span><span style="color: #007700">)<br />    {<br />        </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">name  </span><span style="color: #007700">= </span><span style="color: #9876AA">$name</span><span style="color: #007700">;<br />        </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">email </span><span style="color: #007700">= </span><span style="color: #9876AA">$email</span><span style="color: #007700">;<br />    }<br /><br />    </span><span style="color: #FF8000">//*<br />     * Should return the same value for all equal objects, but doesn't have to<br />     * be unique. This value will not be used to determine equality.<br />     <br />    </span><span style="color: #007700">public function </span><span style="color: #9876AA">hash</span><span style="color: #007700">()<br />    {<br />        return </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">email</span><span style="color: #007700">;<br />    }<br /><br />    </span><span style="color: #FF8000">//*<br />     * This determines equality, usually during a hash table lookup to determine<br />     * if the bucket's key matches the lookup key. The hash has to be equal if<br />     * the objects are equal, otherwise this determination wouldn't be reached.<br />     <br />    </span><span style="color: #007700">public function </span><span style="color: #9876AA">equals</span><span style="color: #007700">(</span><span style="color: #9876AA">$obj</span><span style="color: #007700">): </span><span style="color: #9876AA">bool<br />    </span><span style="color: #007700">{<br />        return </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">name  </span><span style="color: #007700">=== </span><span style="color: #9876AA">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">name<br />            </span><span style="color: #007700">&amp;&amp; </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">email </span><span style="color: #007700">=== </span><span style="color: #9876AA">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">email</span><span style="color: #007700">;<br />    }<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>  </div> </div></div>