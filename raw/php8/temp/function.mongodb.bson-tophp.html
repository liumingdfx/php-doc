<div id="function.mongodb.bson-tophp" class="refentry"> <div class="refnamediv">  <h1 class="refname">MongoDB\BSON\toPHP</h1>  <p class="verinfo">(mongodb &gt;=1.0.0)</p><p class="refpurpose"><span class="refname">MongoDB\BSON\toPHP</span> &mdash; <span class="dc-title">Returns the PHP representation of a BSON value</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.mongodb.bson-tophp-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>MongoDB\BSON\toPHP</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$bson</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$typeMap</span><span class="initializer"> = array()</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span>|<span class="type" style="color:#EAB766">object</span></span></div>  <p class="para rdfs-comment">   Unserializes a BSON document (i.e. binary string) to its PHP representation.   The <span class="parameter" style="color:#3A95FF">typeMap</span> paramater may be used to control the PHP   types used for converting BSON arrays and documents (both root and embedded).  </p>     <div class="warning"><strong class="warning">警告</strong>    <p class="simpara">     BSON documents can technically contain duplicate keys because documents are     stored as a list of key-value pairs; however, applications should refrain     from generating documents with duplicate keys as server and driver behavior     may be undefined. Since PHP objects and arrays cannot have duplicate keys,     data could also be lost when decoding a BSON document with duplicate keys.    </p>   </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.mongodb.bson-tophp-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">bson</span> (<span class="type" style="color:#EAB766">string</span>)</dt>    <dd>     <span>      BSON value to be unserialized.     </span>    </dd>             <dt><span class="parameter" style="color:#3A95FF">typeMap</span> (<span class="type" style="color:#EAB766">array</span>)</dt>    <dd>     <p class="para">      <a href="https://www.php.net/manual/zh/mongodb.persistence.deserialization.php#mongodb.persistence.typemaps" class="link">Type map configuration</a>.     </p>    </dd>     </dl> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.mongodb.bson-tophp-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   The unserialized PHP value.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 errors" id="refsect1-function.mongodb.bson-tophp-errors">  <h3 class="title">错误／异常</h3>  <ul class="simplelist">   <li class="member">    Throws    <span class="classname"><a href="https://www.php.net/manual/zh/class.mongodb-driver-exception-invalidargumentexception.php" class="classname">MongoDB\Driver\Exception\InvalidArgumentException</a></span> if    a class in the type map cannot be instantiated or does not implement    <span class="interfacename"><a href="https://www.php.net/manual/zh/class.mongodb-bson-unserializable.php" class="interfacename">MongoDB\BSON\Unserializable</a></span>.   </li>   <li class="member">Throws <span class="classname"><a href="https://www.php.net/manual/zh/class.mongodb-driver-exception-unexpectedvalueexception.php" class="classname">MongoDB\Driver\Exception\UnexpectedValueException</a></span> if the input did not contain exactly one BSON document. Possible reasons include, but are not limited to, invalid BSON, extra data (after reading one BSON document), or an unexpected <a href="https://www.php.net/manual/zh/https://github.com/mongodb/mongo-c-driver/tree/master/src/libbson" class="link external">&raquo;&nbsp;libbson</a> error.</li>  </ul> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.mongodb.bson-tophp-changelog">  <h3 class="title">更新日志</h3>  <span>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>     </thead>     <tbody class="tbody">      <tr>       <td>PECL mongodb 1.4.0</td>       <td>        <p class="para">         If the input contains an unsupported, deprecated BSON type, the         driver will now no longer log a warning to the debug log, but instead         will create an object representing this type.        </p>       </td>      </tr>      <tr>       <td>PECL mongodb 1.3.2</td>       <td>        <p class="para">         <span class="classname"><a href="https://www.php.net/manual/zh/class.mongodb-driver-exception-unexpectedvalueexception.php" class="classname">MongoDB\Driver\Exception\UnexpectedValueException</a></span>         is no longer thrown if the input contains an unsupported, deprecated         BSON type. Such types will be ignored (as they were in versions before         1.3.0), although the driver will now log a warning to the debug log         (see: <a href="https://www.php.net/manual/zh/mongodb.configuration.php#ini.mongodb.debug" class="link">mongodb.debug</a>).        </p>       </td>      </tr>      <tr>       <td>PECL mongodb 1.3.0</td>       <td>        <p class="para">         <span class="classname"><a href="https://www.php.net/manual/zh/class.mongodb-driver-exception-unexpectedvalueexception.php" class="classname">MongoDB\Driver\Exception\UnexpectedValueException</a></span>         is thrown if the input contains an unsupported, deprecated BSON type.         Previously, such types were ignored.        </p>       </td>      </tr>     </tbody>       </table>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.mongodb.bson-tophp-examples">  <h3 class="title">示例</h3>  <div class="example" id="example-4130">   <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">MongoDB\BSON\toPHP()</strong></span> example</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$bson </span><span style="color: #007700">= </span><span style="color: #9876AA">hex2bin</span><span style="color: #007700">(</span><span style="color: #DD0000">'0e00000010666f6f000100000000'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$value </span><span style="color: #007700">= </span><span style="color: #9876AA">MongoDB\BSON\toPHP</span><span style="color: #007700">(</span><span style="color: #9876AA">$bson</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$value</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>   <div class="example-contents"><p>以上示例会输出：</p></div>   <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>object(stdClass)#1 (1) {<br>  [&quot;foo&quot;]=&gt;<br>  int(1)<br>}<br></span></div>   </div>  </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.mongodb.bson-tophp-seealso">  <h3 class="title">参见</h3>  <ul class="simplelist">   <li class="member"><span class="methodname" style="color:#CC7832">{@link MongoDB\BSON\Document::toPHP()} - Returns the PHP representation of the BSON document</span></li>   <li class="member"><span class="function">{@link MongoDB\BSON\fromPHP()} - Returns the BSON representation of a PHP value</span></li>   <li class="member"><a href="https://www.php.net/manual/zh/https://www.mongodb.com/docs/manual/reference/bson-types/" class="link external">&raquo;&nbsp;MongoDB BSON</a></li>   <li class="member"><a href="https://www.php.net/manual/zh/mongodb.persistence.php" class="xref">Persisting Data</a></li>  </ul> </div></div>