<div id="function.parse-str" class="refentry"> <div class="refnamediv">  <h1 class="refname">parse_str</h1>  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">parse_str</span> &mdash; <span class="dc-title">将字符串解析成多个变量</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.parse-str-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>parse_str</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$string</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">&$result</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div>  <p class="para rdfs-comment">   如果 <span class="parameter" style="color:#3A95FF">string</span> 是 URL 传递入的查询字符串（query string），则将它解析为变量并设置到当前作用域（如果提供了 <span class="parameter" style="color:#3A95FF">result</span> 则会设置到该数组里 ）。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.parse-str-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">string</span></dt>     <dd>      <p class="para">       输入的字符串。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">result</span></dt>     <dd>      <p class="para">       如果设置了第二个变量 <span class="parameter" style="color:#3A95FF">result</span>，       变量将会以数组元素的形式存入到这个数组，作为替代。      </p>      <div class="warning"><strong class="warning">警告</strong>       <p class="para">        极度<em>不建议</em>在没有 <span class="parameter" style="color:#3A95FF">result</span> 参数的情况下使用此函数，        并且在 PHP 7.2 中将<em>废弃</em>不设置参数的行为。PHP 8.0.0        起，<span class="parameter" style="color:#3A95FF">result</span> 参数是<em>强制的</em>。       </p>      </div>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.parse-str-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   没有返回值。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.parse-str-changelog">  <h3 class="title">更新日志</h3>  <span>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>     </thead>     <tbody class="tbody">     <tr>        <td>8.0.0</td>        <td>         <span class="parameter" style="color:#3A95FF">result</span> 是必须项。        </td>       </tr>      <tr>       <td>7.2.0</td>       <td>        不带第二个参数的情况下使用 <span class="function"><strong style="color:#CC7832">parse_str()</strong></span> 会产生         <strong><span>E_DEPRECATED</span></strong> 警告。       </td>      </tr>     </tbody>       </table>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.parse-str-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">parse_str()</strong></span> 的使用</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$str </span><span style="color: #007700">= </span><span style="color: #DD0000">"first=value&amp;arr[]=foo+bar&amp;arr[]=baz"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// 推荐用法<br /></span><span style="color: #9876AA">parse_str</span><span style="color: #007700">(</span><span style="color: #9876AA">$str</span><span style="color: #007700">, </span><span style="color: #9876AA">$output</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">$output</span><span style="color: #007700">[</span><span style="color: #DD0000">'first'</span><span style="color: #007700">];  </span><span style="color: #FF8000">// value<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">$output</span><span style="color: #007700">[</span><span style="color: #DD0000">'arr'</span><span style="color: #007700">][</span><span style="color: #9876AA">0</span><span style="color: #007700">]; </span><span style="color: #FF8000">// foo bar<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">$output</span><span style="color: #007700">[</span><span style="color: #DD0000">'arr'</span><span style="color: #007700">][</span><span style="color: #9876AA">1</span><span style="color: #007700">]; </span><span style="color: #FF8000">// baz<br /><br />// 不建议这么用<br /></span><span style="color: #9876AA">parse_str</span><span style="color: #007700">(</span><span style="color: #9876AA">$str</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">$first</span><span style="color: #007700">;  </span><span style="color: #FF8000">// value<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">$arr</span><span style="color: #007700">[</span><span style="color: #9876AA">0</span><span style="color: #007700">]; </span><span style="color: #FF8000">// foo bar<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">$arr</span><span style="color: #007700">[</span><span style="color: #9876AA">1</span><span style="color: #007700">]; </span><span style="color: #FF8000">// baz<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span>  <p class="para">   由于 PHP 的变量名不能带「点」和「空格」，所以它们会被转化成下划线。   用本函数带 <span class="parameter" style="color:#3A95FF">result</span> 参数，也会应用同样规则到数组的键名。   <div class="example" id="">    <p><strong>示例 #2 <span class="function"><strong style="color:#CC7832">parse_str()</strong></span> 名称改写</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />parse_str</span><span style="color: #007700">(</span><span style="color: #DD0000">"My Value=Something"</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">$My_Value</span><span style="color: #007700">; </span><span style="color: #FF8000">// Something<br /><br /></span><span style="color: #9876AA">parse_str</span><span style="color: #007700">(</span><span style="color: #DD0000">"My Value=Something"</span><span style="color: #007700">, </span><span style="color: #9876AA">$output</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">$output</span><span style="color: #007700">[</span><span style="color: #DD0000">'My_Value'</span><span style="color: #007700">]; </span><span style="color: #FF8000">// Something<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p>  </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.parse-str-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    所有创建的变量(或者在设置第二个参数的情况下，返回数组里的值)，    都已经 <span class="function">{@link urldecode()}</span> 了。   </p>  </p></blockquote>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    要获取当前的 <span>QUERY_STRING</span>，可以使用    <var class="varname"><a href="https://www.php.net/manual/zh/reserved.variables.server.php" class="classname">$_SERVER['QUERY_STRING']</a></var> 变量。    所以你可能想要阅读    <a href="https://www.php.net/manual/zh/language.variables.external.php" class="link">来自 PHP 之外的变量</a>这个章节。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.parse-str-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link parse_url()} - 解析 URL，返回其组成部分</span></li>    <li class="member"><span class="function">{@link pathinfo()} - 返回文件路径的信息</span></li>    <li class="member"><span class="function">{@link http_build_query()} - 生成 URL-encode 之后的请求字符串</span></li>    <li class="member"><span class="function">{@link urldecode()} - 解码已编码的 URL 字符串</span></li>   </ul>  </span> </div></div>