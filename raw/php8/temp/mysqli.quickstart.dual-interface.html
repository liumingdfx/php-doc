<div id="mysqli.quickstart.dual-interface" class="section">  <h2 class="title">面向过程和面向对象，两种接口</h2>  <p class="para">   mysqli 扩展具有双重接口。支持面向过程和面向对象，两种编程范式。  </p>  <p class="para">   从旧的 mysql 扩展迁移的用户可能更喜欢过程接口。过程接口类似于旧的 mysql 扩展。在许多情况下，函数名称仅在前缀上有所不同。一些 mysqli   函数将连接句柄作为第一个参数，而匹配的旧 mysql 接口函数将其作为可选的最后一个参数。  </p>  <p class="para">   <div class="example" id="example-4259">    <p><strong>示例 #1 从旧的 mysql 扩展轻松迁移</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$mysqli </span><span style="color: #007700">= </span><span style="color: #9876AA">mysqli_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"example.com"</span><span style="color: #007700">, </span><span style="color: #DD0000">"user"</span><span style="color: #007700">, </span><span style="color: #DD0000">"password"</span><span style="color: #007700">, </span><span style="color: #DD0000">"database"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">mysqli_query</span><span style="color: #007700">(</span><span style="color: #9876AA">$mysqli</span><span style="color: #007700">, </span><span style="color: #DD0000">"SELECT 'Please do not use the deprecated mysql extension for new development. ' AS _msg FROM DUAL"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$row </span><span style="color: #007700">= </span><span style="color: #9876AA">mysqli_fetch_assoc</span><span style="color: #007700">(</span><span style="color: #9876AA">$result</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'_msg'</span><span style="color: #007700">];<br /><br /></span><span style="color: #9876AA">$mysql </span><span style="color: #007700">= </span><span style="color: #9876AA">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"example.com"</span><span style="color: #007700">, </span><span style="color: #DD0000">"user"</span><span style="color: #007700">, </span><span style="color: #DD0000">"password"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">mysql_select_db</span><span style="color: #007700">(</span><span style="color: #DD0000">"test"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">mysql_query</span><span style="color: #007700">(</span><span style="color: #DD0000">"SELECT 'Use the mysqli extension instead.' AS _msg FROM DUAL"</span><span style="color: #007700">, </span><span style="color: #9876AA">$mysql</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$row </span><span style="color: #007700">= </span><span style="color: #9876AA">mysql_fetch_assoc</span><span style="color: #007700">(</span><span style="color: #9876AA">$result</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'_msg'</span><span style="color: #007700">];</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Please do not use the deprecated mysql extension for new development. Use the mysqli extension instead.<br></span></div>    </div>   </div>  </p>  <p class="para">   <strong>面向对象接口</strong>  </p>  <p class="para">   除了经典的过程式接口，用户还可以选择使用面向对象接口。文档是使用面向对象的接口组织的。面向对象的接口按用途分组进行展示函数，使其更容易上手。参考部分提供了两种语法变体的示例。  </p>  <p class="para">   这两个接口之间没有显着的性能差异。用户可以根据个人喜好进行选择。  </p>  <p class="para">   <div class="example" id="example-4262">    <p><strong>示例 #2 面向对象和面向过程接口</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$mysqli </span><span style="color: #007700">= </span><span style="color: #9876AA">mysqli_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"example.com"</span><span style="color: #007700">, </span><span style="color: #DD0000">"user"</span><span style="color: #007700">, </span><span style="color: #DD0000">"password"</span><span style="color: #007700">, </span><span style="color: #DD0000">"database"</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">mysqli_query</span><span style="color: #007700">(</span><span style="color: #9876AA">$mysqli</span><span style="color: #007700">, </span><span style="color: #DD0000">"SELECT 'A world full of ' AS _msg FROM DUAL"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$row </span><span style="color: #007700">= </span><span style="color: #9876AA">mysqli_fetch_assoc</span><span style="color: #007700">(</span><span style="color: #9876AA">$result</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'_msg'</span><span style="color: #007700">];<br /><br /></span><span style="color: #9876AA">$mysqli </span><span style="color: #007700">= new </span><span style="color: #9876AA">mysqli</span><span style="color: #007700">(</span><span style="color: #DD0000">"example.com"</span><span style="color: #007700">, </span><span style="color: #DD0000">"user"</span><span style="color: #007700">, </span><span style="color: #DD0000">"password"</span><span style="color: #007700">, </span><span style="color: #DD0000">"database"</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">query</span><span style="color: #007700">(</span><span style="color: #DD0000">"SELECT 'choices to please everybody.' AS _msg FROM DUAL"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$row </span><span style="color: #007700">= </span><span style="color: #9876AA">$result</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">fetch_assoc</span><span style="color: #007700">();<br />echo </span><span style="color: #9876AA">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'_msg'</span><span style="color: #007700">];</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>A world full of choices to please everybody.<br></span></div>    </div>   </div>  </p>  <p class="para">   面向对象的接口用于快速入门，因为参考部分是以这种方式组织的。  </p>  <p class="para">   <strong>混合风格</strong>  </p>  <p class="para">   可以随时在样式之间切换。出于代码清晰度和编码风格的原因，这两种风格不建议混合使用。  </p>  <p class="para">   <div class="example" id="example-4265">    <p><strong>示例 #3 糟糕的编码风格</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$mysqli </span><span style="color: #007700">= new </span><span style="color: #9876AA">mysqli</span><span style="color: #007700">(</span><span style="color: #DD0000">"example.com"</span><span style="color: #007700">, </span><span style="color: #DD0000">"user"</span><span style="color: #007700">, </span><span style="color: #DD0000">"password"</span><span style="color: #007700">, </span><span style="color: #DD0000">"database"</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">mysqli_query</span><span style="color: #007700">(</span><span style="color: #9876AA">$mysqli</span><span style="color: #007700">, </span><span style="color: #DD0000">"SELECT 'Possible but bad style.' AS _msg FROM DUAL"</span><span style="color: #007700">);<br /><br />if (</span><span style="color: #9876AA">$row </span><span style="color: #007700">= </span><span style="color: #9876AA">$result</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">fetch_assoc</span><span style="color: #007700">()) {<br />    echo </span><span style="color: #9876AA">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'_msg'</span><span style="color: #007700">];<br />}</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Possible but bad style.<br></span></div>    </div>    </div>  </p>  <p class="para">   <strong>参见</strong>  </p>  <p class="para">   <ul class="simplelist">    <li class="member"><span class="methodname" style="color:#CC7832">{@link mysqli::__construct()}</span></li>    <li class="member"><span class="methodname" style="color:#CC7832">{@link mysqli::query()}</span></li>    <li class="member"><span class="methodname" style="color:#CC7832">{@link mysqli_result::fetch_assoc()}</span></li>    <li class="member">{@link $mysqli::connect_errno}</li>    <li class="member">{@link $mysqli::connect_error}</li>    <li class="member">{@link $mysqli::errno}</li>    <li class="member">{@link $mysqli::error}</li>    <li class="member"><a href="https://www.php.net/manual/zh/mysqli.summary.php" class="link">MySQLi 扩展的函数概述</a></li>   </ul>  </p> </div>