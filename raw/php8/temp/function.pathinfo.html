<div id="function.pathinfo" class="refentry"> <div class="refnamediv">  <h1 class="refname">pathinfo</h1>  <p class="verinfo">(PHP 4 &gt;= 4.0.3, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">pathinfo</span> &mdash; <span class="dc-title">返回文件路径的信息</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.pathinfo-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>pathinfo</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$path</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span><span class="initializer"> = <strong><span>PATHINFO_ALL</span></strong></span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span>|<span class="type" style="color:#EAB766">string</span></span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">pathinfo()</strong></span> 返回一个关联数组包含有 <span class="parameter" style="color:#3A95FF">path</span>   的信息。返回关联数组还是字符串取决于 <span class="parameter" style="color:#3A95FF">flags</span>。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    有关取得当前路径信息的说明，请阅读 <a href="https://www.php.net/manual/zh/language.variables.predefined.php" class="link">预定义变量</a> 一节。   </p>  </p></blockquote>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    <span class="function"><strong style="color:#CC7832">pathinfo()</strong></span> 纯粹基于输入字符串操作，    它不会受实际文件系统和类似 &quot;<span>..</span>&quot; 的路径格式影响。   </p>  </p></blockquote>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    反斜线字符 <span>\</span> 仅在 Windows 系统上会解释为目录分隔符。在其他系统上，它将视为普通字符。   </p>  </p></blockquote>  <div class="caution"><strong class="caution">警告</strong>   <p class="para">    <span class="function"><strong style="color:#CC7832">pathinfo()</strong></span> 是本地化的，所以为了让它能正确地解析一个包含多字节编码的路径，    必须使用 <span class="function">{@link setlocale()}</span> 函数来设置地区信息。   </p>  </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.pathinfo-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">path</span></dt>     <dd>      <p class="para">       要解析的路径。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">flags</span></dt>     <dd>      <p class="para">       如果指定了，将会返回指定元素；它们包括：       <strong><span>PATHINFO_DIRNAME</span></strong>、       <strong><span>PATHINFO_BASENAME</span></strong>、       <strong><span>PATHINFO_EXTENSION</span></strong>、       <strong><span>PATHINFO_FILENAME</span></strong>。      </p>      <p class="para">如果没有指定 <span class="parameter" style="color:#3A95FF">flags</span> 默认是返回全部的单元。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.pathinfo-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   如果没有传入 <span class="parameter" style="color:#3A95FF">options</span> ，将会返回包括以下单元的数组 <span class="type" style="color:#EAB766">array</span>：<span>dirname</span>，<span>basename</span>   和 <span>extension</span>（如果有），以及<span>filename</span>。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    如果 <span class="parameter" style="color:#3A95FF">path</span> 有一个以上的扩展名，    <strong><span>PATHINFO_EXTENSION</span></strong> 只返回最后一个，而    <strong><span>PATHINFO_FILENAME</span></strong> 仅剥离最后一个。    （参考第一个示例）。   </p>  </p></blockquote>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    如果 <span class="parameter" style="color:#3A95FF">path</span> 没有扩展名，返回数据中就不会有    <span>extension</span> 元素。（参考第二个示例）   </p>  </p></blockquote>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    如果 <span class="parameter" style="color:#3A95FF">path</span> 中的 <span>basename</span> 以点开始，    那后面的字符串将被解释为 <span>extension</span> ，    并且 <span>filename</span> 为空。（参考第三个示例）   </p>  </p></blockquote>  <p class="para">   如果 <span class="parameter" style="color:#3A95FF">flags</span> 存在的，   则返回一个包含请求元素的 <span class="type" style="color:#EAB766">string</span>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.pathinfo-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">pathinfo()</strong></span> 例子</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$path_parts </span><span style="color: #007700">= </span><span style="color: #9876AA">pathinfo</span><span style="color: #007700">(</span><span style="color: #DD0000">'/www/htdocs/inc/lib.inc.php'</span><span style="color: #007700">);<br /><br />echo </span><span style="color: #9876AA">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'dirname'</span><span style="color: #007700">], </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #9876AA">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'basename'</span><span style="color: #007700">], </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #9876AA">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'extension'</span><span style="color: #007700">], </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #9876AA">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'filename'</span><span style="color: #007700">], </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>/www/htdocs/inc<br>lib.inc.php<br>php<br>lib.inc<br></span></div>    </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 <span class="function"><strong style="color:#CC7832">pathinfo()</strong></span> 对比空扩展名和无扩展名之间区别的示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$path_parts </span><span style="color: #007700">= </span><span style="color: #9876AA">pathinfo</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/emptyextension.'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'extension'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #9876AA">$path_parts </span><span style="color: #007700">= </span><span style="color: #9876AA">pathinfo</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/noextension'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'extension'</span><span style="color: #007700">]);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例的输出类似于：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>string(0) &quot;&quot;<br><br>Notice: Undefined index: extension in test.php on line 6<br>NULL<br></span></div>    </div>   </div>  </p>  <p class="para">   <div class="example" id="">    <p><strong>示例 #3 <span class="function"><strong style="color:#CC7832">pathinfo()</strong></span> 形如 .file 的示例</strong></p>    <div class="example-contents">     <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />print_r</span><span style="color: #007700">(</span><span style="color: #9876AA">pathinfo</span><span style="color: #007700">(</span><span style="color: #DD0000">'/some/path/.test'</span><span style="color: #007700">));<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例的输出类似于：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;">     <div class="cdata"><span>Array<br>(<br>    [dirname] =&gt; /some/path<br>    [basename] =&gt; .test<br>    [extension] =&gt; test<br>    [filename] =&gt;<br>)<br></span></div>    </div>   </div>  </p>  <p class="para">   <div class="example" id="">    <p><strong>示例 #4 <span class="function"><strong style="color:#CC7832">pathinfo()</strong></span> 示例和解除数组引用</strong></p>    <div class="example-contents"><p>     <span class="parameter" style="color:#3A95FF">flags</span> 参数不是位掩码。只能提供单个值。要是只选择某些格式化值，请使用数组解构，如下所示：    </p></div>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">[</span><span style="color: #DD0000">'basename' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">$basename</span><span style="color: #007700">, </span><span style="color: #DD0000">'dirname' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">$dirname</span><span style="color: #007700">] = </span><span style="color: #9876AA">pathinfo</span><span style="color: #007700">(</span><span style="color: #DD0000">'/www/htdocs/inc/lib.inc.php'</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$basename</span><span style="color: #007700">, </span><span style="color: #9876AA">$dirname</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例的输出类似于：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>string(11) &quot;lib.inc.php&quot;<br>string(15) &quot;/www/htdocs/inc&quot;<br></span></div>    </div>   </div>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.pathinfo-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link dirname()} - 返回路径中的目录部分</span></li>    <li class="member"><span class="function">{@link basename()} - 返回路径中的文件名部分</span></li>    <li class="member"><span class="function">{@link parse_url()} - 解析 URL，返回其组成部分</span></li>    <li class="member"><span class="function">{@link realpath()} - 返回规范化的绝对路径名</span></li>   </ul>  </span> </div></div>