<div id="function.odbc-prepare" class="refentry"> <div class="refnamediv">  <h1 class="refname">odbc_prepare</h1>  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">odbc_prepare</span> &mdash; <span class="dc-title">Prepares a statement for execution</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.odbc-prepare-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>odbc_prepare</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$odbc</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$query</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">resource</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   Prepares a statement for execution. The result identifier can be used   later to execute the statement with <span class="function">{@link odbc_execute()}</span>.  </p>  <p class="para">   Some databases (such as IBM DB2, MS SQL Server, and Oracle) support   stored procedures that accept parameters of type IN, INOUT, and OUT as   defined by the ODBC specification.  However, the Unified ODBC driver   currently only supports parameters of type IN to stored procedures.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.odbc-prepare-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">odbc</span></dt>     <dd>      <p class="para">ODBC 连接标识符，详见<span class="function">{@link odbc_connect()}</span>。</p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">query</span></dt>     <dd>      <p class="para">       The query string statement being prepared.      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.odbc-prepare-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   Returns an ODBC result identifier if the SQL command was prepared   successfully. Returns <strong><span>false</span></strong> on error.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.odbc-prepare-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="example-3035">    <p><strong>示例 #1 <span class="function">{@link odbc_execute()}</span> and <span class="function"><strong style="color:#CC7832">odbc_prepare()</strong></span> example</strong></p>    <div class="example-contents"><p>     In the following code, <var class="varname">$success</var> will only be     <strong><span>true</span></strong> if all three parameters to myproc are IN parameters:    </p></div>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$a </span><span style="color: #007700">= </span><span style="color: #9876AA">1</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$b </span><span style="color: #007700">= </span><span style="color: #9876AA">2</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$c </span><span style="color: #007700">= </span><span style="color: #9876AA">3</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$stmt    </span><span style="color: #007700">= </span><span style="color: #9876AA">odbc_prepare</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">, </span><span style="color: #DD0000">'CALL myproc(?,?,?)'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$success </span><span style="color: #007700">= </span><span style="color: #9876AA">odbc_execute</span><span style="color: #007700">(</span><span style="color: #9876AA">$stmt</span><span style="color: #007700">, array(</span><span style="color: #9876AA">$a</span><span style="color: #007700">, </span><span style="color: #9876AA">$b</span><span style="color: #007700">, </span><span style="color: #9876AA">$c</span><span style="color: #007700">));<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span>  <p class="para">   If you need to call a stored procedure using INOUT or OUT parameters,   the recommended workaround is to use a native extension for your database   (for example, <a href="https://www.php.net/manual/zh/ref.oci8.php" class="link">oci8</a> for Oracle).  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.odbc-prepare-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link odbc_execute()} - Execute a prepared statement</span></li>   </ul>  </span> </div></div>