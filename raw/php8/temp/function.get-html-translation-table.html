<div id="function.get-html-translation-table" class="refentry"> <div class="refnamediv">  <h1 class="refname">get_html_translation_table</h1>  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">get_html_translation_table</span> &mdash; <span class="dc-title">返回使用 <span class="function">{@link htmlspecialchars()}</span> 和 <span class="function">{@link htmlentities()}</span> 后的转换表</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.get-html-translation-table-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>get_html_translation_table</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$table</span><span class="initializer"> = <strong><span>HTML_SPECIALCHARS</span></strong></span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span><span class="initializer"> = ENT_QUOTES | ENT_SUBSTITUTE | ENT_HTML401</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$encoding</span><span class="initializer"> = &quot;UTF-8&quot;</span></span>): <span class="type" style="color:#EAB766">array</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">get_html_translation_table()</strong></span> 将返回 <span class="function">{@link htmlspecialchars()}</span> 和   <span class="function">{@link htmlentities()}</span> 处理后的转换表。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    特殊字符可以使用多种转换方式。 例如：    <span>&quot;</span> 可以被转换成 <span>&amp;quot;</span>,    <span>&amp;#34;</span> 或者 <span>&amp;#x22</span>.    <span class="function"><strong style="color:#CC7832">get_html_translation_table()</strong></span> 返回其中最常用的。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.get-html-translation-table-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">table</span></dt>     <dd>      <p class="para">       有两个新的常量 (<strong><span>HTML_ENTITIES</span></strong>,       <strong><span>HTML_SPECIALCHARS</span></strong>) 允许你指定你想要的表。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">flags</span></dt>     <dd>      <p class="para">       A bitmask of one or more of the following flags, which specify which quotes the       table will contain as well as which document type the table is for. The default is       <span>ENT_QUOTES | ENT_SUBSTITUTE | ENT_HTML401</span>.       <table class="doctable table">        <caption><strong>可用的 <span class="parameter" style="color:#3A95FF">flags</span> 常量</strong></caption>                 <thead>          <tr>           <th>常量名</th>           <th>说明</th>          </tr>         </thead>         <tbody class="tbody">          <tr>           <td><strong><span>ENT_COMPAT</span></strong></td>           <td>表格将包含双引号但不包含单引号实体。</td>          </tr>          <tr>           <td><strong><span>ENT_QUOTES</span></strong></td>           <td>表格将包含双引号和单引号实体。</td>          </tr>          <tr>           <td><strong><span>ENT_NOQUOTES</span></strong></td>           <td>表格不包含双引号实体，也不包含单引号实体。</td>          </tr>          <tr>           <td><strong><span>ENT_SUBSTITUTE</span></strong></td>           <td>            Replace invalid code unit sequences with a Unicode Replacement Character            U+FFFD (UTF-8) or &amp;#xFFFD; (otherwise) instead of returning an empty string.           </td>          </tr>          <tr>           <td><strong><span>ENT_HTML401</span></strong></td>           <td>HTML 4.01 表格。</td>          </tr>          <tr>           <td><strong><span>ENT_XML1</span></strong></td>           <td>XML 1 表格。</td>          </tr>          <tr>           <td><strong><span>ENT_XHTML</span></strong></td>           <td>XHTML 表格。</td>          </tr>          <tr>           <td><strong><span>ENT_HTML5</span></strong></td>           <td>HTML 5 表格。</td>          </tr>         </tbody>               </table>      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">encoding</span></dt>     <dd>      <p class="para">       要使用的编码。如果省略，则此参数的默认值是 UTF-8。      </p>      <p class="para"> 支持以下字符集： <table class="doctable table">  <caption><strong>支持的字符集列表</strong></caption>     <thead>    <tr>     <th>字符集</th>     <th>别名</th>     <th>描述</th>    </tr>   </thead>   <tbody class="tbody">    <tr>     <td>ISO-8859-1</td>     <td>ISO8859-1</td>     <td>      西欧，Latin-1     </td>    </tr>    <tr>     <td>ISO-8859-5</td>     <td>ISO8859-5</td>     <td>      Little used cyrillic charset (Latin/Cyrillic).     </td>    </tr>    <tr>     <td>ISO-8859-15</td>     <td>ISO8859-15</td>     <td>      西欧，Latin-9。增加欧元符号，法语和芬兰语字母在 Latin-1(ISO-8859-1) 中缺失。     </td>    </tr>    <tr>     <td>UTF-8</td>     <td class="empty">&nbsp;</td>     <td>      ASCII 兼容的多字节 8 位 Unicode。     </td>    </tr>    <tr>     <td>cp866</td>     <td>ibm866, 866</td>     <td>      DOS 特有的西里尔编码。本字符集在 4.3.2 版本中得到支持。     </td>    </tr>    <tr>     <td>cp1251</td>     <td>Windows-1251, win-1251, 1251</td>     <td>      Windows 特有的西里尔编码。本字符集在 4.3.2 版本中得到支持。     </td>    </tr>    <tr>     <td>cp1252</td>     <td>Windows-1252, 1252</td>     <td>      Windows 特有的西欧编码。     </td>    </tr>    <tr>     <td>KOI8-R</td>     <td>koi8-ru, koi8r</td>     <td>      俄语。本字符集在 4.3.2 版本中得到支持。     </td>    </tr>    <tr>     <td>BIG5</td>     <td>950</td>     <td>      繁体中文，主要用于中国台湾省。     </td>    </tr>    <tr>     <td>GB2312</td>     <td>936</td>     <td>      简体中文，中国国家标准字符集。     </td>    </tr>    <tr>     <td>BIG5-HKSCS</td>     <td class="empty">&nbsp;</td>     <td>      繁体中文，附带香港扩展的 Big5 字符集。     </td>    </tr>    <tr>     <td>Shift_JIS</td>     <td>SJIS, 932</td>     <td>      日语     </td>    </tr>    <tr>     <td>EUC-JP</td>     <td>EUCJP</td>     <td>      日语     </td>    </tr>    <tr>     <td>MacRoman</td>     <td class="empty">&nbsp;</td>     <td>      Mac OS 使用的字符串。     </td>    </tr>    <tr>     <td><span>&#039;&#039;</span></td>     <td class="empty">&nbsp;</td>     <td>      An empty string activates detection from script encoding (Zend multibyte),      <a href="https://www.php.net/manual/zh/ini.core.php#ini.default-charset" class="link">default_charset</a> and current      locale (see <span class="function">{@link nl_langinfo()}</span> and      <span class="function">{@link setlocale()}</span>), in this order. Not recommended.     </td>    </tr>   </tbody>   </table> <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:   <span class="simpara">   其他字符集没有认可。将会使用默认编码并抛出异常。  </span> </p></blockquote></p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.get-html-translation-table-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   将转换表作为数组返回，原始字符为键，实体为值。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.get-html-translation-table-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td>8.1.0</td>      <td>       <span class="parameter" style="color:#3A95FF">flags</span> 从 <strong><span>ENT_COMPAT</span></strong> 更改为 <strong><span>ENT_QUOTES</span></strong> | <strong><span>ENT_SUBSTITUTE</span></strong> | <strong><span>ENT_HTML401</span></strong>。      </td>     </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.get-html-translation-table-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 转换表示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">get_html_translation_table</span><span style="color: #007700">(</span><span style="color: #9876AA">HTML_ENTITIES</span><span style="color: #007700">, </span><span style="color: #9876AA">ENT_QUOTES </span><span style="color: #007700">| </span><span style="color: #9876AA">ENT_HTML5</span><span style="color: #007700">));<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例的输出类似于：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>array(1510) {<br>  [&quot;<br>&quot;]=&gt;<br>  string(9) &quot;&amp;NewLine;&quot;<br>  [&quot;!&quot;]=&gt;<br>  string(6) &quot;&amp;excl;&quot;<br>  [&quot;&quot;&quot;]=&gt;<br>  string(6) &quot;&amp;quot;&quot;<br>  [&quot;#&quot;]=&gt;<br>  string(5) &quot;&amp;num;&quot;<br>  [&quot;$&quot;]=&gt;<br>  string(8) &quot;&amp;dollar;&quot;<br>  [&quot;%&quot;]=&gt;<br>  string(8) &quot;&amp;percnt;&quot;<br>  [&quot;&amp;&quot;]=&gt;<br>  string(5) &quot;&amp;amp;&quot;<br>  [&quot;&#039;&quot;]=&gt;<br>  string(6) &quot;&amp;apos;&quot;<br>  // ...<br>}<br></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.get-html-translation-table-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link htmlspecialchars()} - 将特殊字符转换为 HTML 实体</span></li>    <li class="member"><span class="function">{@link htmlentities()} - 将字符转换为 HTML 转义字符</span></li>    <li class="member"><span class="function">{@link html_entity_decode()} - Convert HTML entities to their corresponding characters</span></li>   </ul>  </span> </div></div>