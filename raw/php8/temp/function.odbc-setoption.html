<div id="function.odbc-setoption" class="refentry"> <div class="refnamediv">  <h1 class="refname">odbc_setoption</h1>  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">odbc_setoption</span> &mdash; <span class="dc-title">Adjust ODBC settings</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.odbc-setoption-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>odbc_setoption</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$odbc</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$which</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$option</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$value</span></span><br>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   This function allows fiddling with the ODBC options for a   particular connection or query result.  It was written to help   find work around to problems in quirky ODBC drivers.  You should   probably only use this function if you are an ODBC programmer and   understand the effects the various options will have.  You will   certainly need a good ODBC reference to explain all the different   options and values that can be used.  Different driver versions   support different options.  </p>  <p class="para">   Because the effects may vary depending on the ODBC driver, use of   this function in scripts to be made publicly available is   strongly discouraged.  Also, some ODBC options are not available   to this function because they must be set before the connection   is established or the query is prepared.  However, if on a   particular job it can make PHP work so your boss doesn&#039;t tell you   to use a commercial product, that&#039;s all that really   matters.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.odbc-setoption-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">odbc</span></dt>     <dd>      <p class="para">       Is a connection id or result id on which to change the settings.       For SQLSetConnectOption(), this is a connection id.       For SQLSetStmtOption(), this is a result id.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">which</span></dt>     <dd>      <p class="para">       Is the ODBC function to use. The value should be       1 for SQLSetConnectOption() and       2 for SQLSetStmtOption().      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">option</span></dt>     <dd>      <p class="para">       The option to set.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">value</span></dt>     <dd>      <p class="para">       The value for the given <span class="parameter" style="color:#3A95FF">option</span>.      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.odbc-setoption-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.odbc-setoption-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="example-3050">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">odbc_setoption()</strong></span> examples</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// 1. Option 102 of SQLSetConnectOption() is SQL_AUTOCOMMIT.<br />//    Value 1 of SQL_AUTOCOMMIT is SQL_AUTOCOMMIT_ON.<br />//    This example has the same effect as<br />//    odbc_autocommit($conn, true);<br /><br /></span><span style="color: #9876AA">odbc_setoption</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">102</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 2. Option 0 of SQLSetStmtOption() is SQL_QUERY_TIMEOUT.<br />//    This example sets the query to timeout after 30 seconds.<br /><br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">odbc_prepare</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">, </span><span style="color: #9876AA">$sql</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">odbc_setoption</span><span style="color: #007700">(</span><span style="color: #9876AA">$result</span><span style="color: #007700">, </span><span style="color: #9876AA">2</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">30</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">odbc_execute</span><span style="color: #007700">(</span><span style="color: #9876AA">$result</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div></div>