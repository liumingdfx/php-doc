<div id="class.messageformatter" class="reference"> <h1 class="title">The MessageFormatter class</h1>  <div class="partintro"><p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8, PECL intl &gt;= 1.0.0)</p>    <div class="section" id="messageformatter.intro">   <h2 class="title">简介</h2>   <p class="simpara">    MessageFormatter is a concrete class that enables users to produce    concatenated, language-neutral messages. The methods supplied in this    class are used to build all the messages that are seen by end users.   </p>   <p class="simpara">    The MessageFormatter class assembles messages from various fragments (such    as text fragments, numbers, and dates) supplied by the program. Because of    the MessageFormatter class, the program does not need to know the order of    the fragments. The class uses the formatting specifications for the    fragments to assemble them into a message that is contained in a single    string within a resource bundle. For example, MessageFormatter enables you    to print the phrase &quot;Finished printing x out of y files...&quot; in a manner    that still allows for flexibility in translation.   </p>   <p class="simpara">    Previously, an end user message was created as a sentence and handled as a    string. This procedure created problems for localizers because the    sentence structure, word order, number format and so on are very different    from language to language. The language-neutral way to create messages    keeps each part of the message separate and provides keys to the data.    Using these keys, the MessageFormatter class can concatenate the parts of    the message, localize them, and display a well-formed string to the end    user.   </p>   <p class="simpara">    MessageFormatter takes a set of objects, formats them, and then inserts    the formatted strings into the pattern at the appropriate places. Choice    formats can be used in conjunction with MessageFormatter to handle    plurals, match numbers, and select from an array of items. Typically, the    message format will come from resources and the arguments will be    dynamically set at runtime.   </p>  </div>    <div class="section" id="messageformatter.synopsis">   <h2 class="title">类摘要</h2>      <div class="classsynopsis"><div class="classsynopsisinfo">         <span class="modifier">class</span> <strong class="classname"><strong class="classname">MessageFormatter</strong></strong>     {</div>    <div class="classsynopsisinfo classsynopsisinfo_comment">// 方法 </div>    <div class="constructorsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/messageformatter.create.php" class="methodname" style="color:#CC7832">__construct</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$locale</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$pattern</span></span>)</div>    <div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="modifier">static</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/messageformatter.create.php" class="methodname" style="color:#CC7832">create</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$locale</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$pattern</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.messageformatter.php" class="type MessageFormatter" style="color:#EAB766">MessageFormatter</a></span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="modifier">static</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/messageformatter.formatmessage.php" class="methodname" style="color:#CC7832">formatMessage</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$locale</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$pattern</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$values</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/messageformatter.format.php" class="methodname" style="color:#CC7832">format</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$values</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/messageformatter.geterrorcode.php" class="methodname" style="color:#CC7832">getErrorCode</a></span>(): <span class="type" style="color:#EAB766">int</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/messageformatter.geterrormessage.php" class="methodname" style="color:#CC7832">getErrorMessage</a></span>(): <span class="type" style="color:#EAB766">string</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/messageformatter.getlocale.php" class="methodname" style="color:#CC7832">getLocale</a></span>(): <span class="type" style="color:#EAB766">string</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/messageformatter.getpattern.php" class="methodname" style="color:#CC7832">getPattern</a></span>(): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="modifier">static</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/messageformatter.parsemessage.php" class="methodname" style="color:#CC7832">parseMessage</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$locale</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$pattern</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$message</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/messageformatter.parse.php" class="methodname" style="color:#CC7832">parse</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$string</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/messageformatter.setpattern.php" class="methodname" style="color:#CC7832">setPattern</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$pattern</span></span>): <span class="type" style="color:#EAB766">bool</span></div>   }</div>     </div>  <div class="section" id="messageformatter.seealso">   <h2 class="title">参见</h2>   <p class="para">    <ul class="simplelist">     <li class="member">      <a href="https://www.php.net/manual/zh/https://unicode-org.github.io/icu/userguide/format_parse/" class="link external">&raquo;&nbsp;       ICU formatting documentation      </a>     </li>     <li class="member">      <a href="https://www.php.net/manual/zh/https://unicode-org.github.io/icu/userguide/format_parse/messages/" class="link external">&raquo;&nbsp;       ICU message formatting description      </a>     </li>     <li class="member">      <a href="https://www.php.net/manual/zh/https://unicode-org.github.io/icu/userguide/format_parse/messages/" class="link external">&raquo;&nbsp;ICU message formatters</a>     </li>     <li class="member">      <a href="https://www.php.net/manual/zh/https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classChoiceFormat.php" class="link external">&raquo;&nbsp;ICU choice formatters</a>     </li>    </ul>   </p>  </div> </div> <h2>目录</h2><ul class="chunklist chunklist_reference"><li>{@link MessageFormatter::create} — Constructs a new Message Formatter</li><li>{@link MessageFormatter::formatMessage} — Quick format message</li><li>{@link MessageFormatter::format} — Format the message</li><li>{@link MessageFormatter::getErrorCode} — Get the error code from last operation</li><li>{@link MessageFormatter::getErrorMessage} — Get the error text from the last operation</li><li>{@link MessageFormatter::getLocale} — Get the locale for which the formatter was created</li><li>{@link MessageFormatter::getPattern} — Get the pattern used by the formatter</li><li>{@link MessageFormatter::parseMessage} — Quick parse input string</li><li>{@link MessageFormatter::parse} — Parse input string according to pattern</li><li>{@link MessageFormatter::setPattern} — Set the pattern used by the formatter</li></ul></div>