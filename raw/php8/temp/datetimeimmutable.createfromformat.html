<div id="datetimeimmutable.createfromformat" class="refentry"> <div class="refnamediv">  <h1 class="refname">DateTimeImmutable::createFromFormat</h1>  <h1 class="refname">date_create_immutable_from_format</h1>  <p class="verinfo">(PHP 5 &gt;= 5.5.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">DateTimeImmutable::createFromFormat</span> -- <span class="refname">date_create_immutable_from_format</span> &mdash; <span class="dc-title">Parses a time string according to a specified format</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-datetimeimmutable.createfromformat-description">  <h3 class="title">说明</h3>  <p class="para">面向对象风格</p>  <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="modifier">static</span> <span class="methodname" style="color:#CC7832"><strong>DateTimeImmutable::createFromFormat</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$format</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$datetime</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.datetimezone.php" class="type DateTimeZone" style="color:#EAB766">DateTimeZone</a></span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$timezone</span><span class="initializer"> = <strong><span>null</span></strong></span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.datetimeimmutable.php" class="type DateTimeImmutable" style="color:#EAB766">DateTimeImmutable</a></span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">过程化风格</p>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832">{@link date_create_immutable_from_format}</span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$format</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$datetime</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.datetimezone.php" class="type DateTimeZone" style="color:#EAB766">DateTimeZone</a></span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$timezone</span><span class="initializer"> = <strong><span>null</span></strong></span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.datetimeimmutable.php" class="type DateTimeImmutable" style="color:#EAB766">DateTimeImmutable</a></span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   Returns a new DateTimeImmutable object representing the date and time specified by the   <span class="parameter" style="color:#3A95FF">datetime</span> string, which was formatted in the given   <span class="parameter" style="color:#3A95FF">format</span>.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="datetimeimmutable.createfromformat.parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">format</span></dt>    <dd>     <span>      The format that the passed in <span class="type" style="color:#EAB766">string</span> should be in. See the      formatting options below. In most cases, the same letters as for the      <span class="function">{@link date()}</span> can be used.     </span>     <p class="para">      All fields are initialised with the current date/time. In most cases you      would want to reset these to &quot;zero&quot; (the Unix epoch, <span>1970-01-01      00:00:00 UTC</span>). You do that by including the      <span>!</span> character as first character in your      <span class="parameter" style="color:#3A95FF">format</span>, or <span>|</span> as your last.      Please see the documentation for each character below for more      information.     </p>     <p class="para">      The format is parsed from left to right, which means that in some      situations the order in which the format characters are present affects      the result. In the case of <span>z</span> (the day of the year),      it is required that a year has already been parsed,      for example through the <span>Y</span> or <span>y</span>      characters.     </p>     <p class="para">      Letters that are used for parsing numbers allow a wide range of values,      outside of what the logical range would be. For example, the      <span>d</span> (day of the month) accepts values in the range from      <span>00</span> to <span>99</span>. The only constraint is      on the amount of digits. The date/time parser&#039;s overflow mechanism is      used when out-of-range values are given. The examples below show some of      this behaviour.     </p>     <p class="para">      This also means that the data parsed for a format letter is greedy, and      will read up to the amount of digits its format allows for. That can      then also mean that there are no      longer enough characters in the <span class="parameter" style="color:#3A95FF">datetime</span> string      for following format characters. An example on this page also      illustrates this issue.     </p>     <p class="para">      <table class="doctable table">       <caption><strong>The following characters are recognized in the       <span class="parameter" style="color:#3A95FF">format</span> parameter string</strong></caption>               <thead>         <tr>          <th><span class="parameter" style="color:#3A95FF">format</span> character</th>          <th>Description</th>          <th>Example parsable values</th>         </tr>        </thead>        <tbody class="tbody">         <tr>          <td style="text-align: center;"><em>Day</em></td>          <td>---</td>          <td>---</td>         </tr>         <tr>          <td><span>d</span> and <span>j</span></td>          <td>Day of the month, 2 digits with or without leading zeros</td>          <td>           <span>01</span> to <span>31</span> or           <span>1</span> to <span>31</span>. (2 digit numbers           higher than the number of days in the month are accepted, in which           case they will make the month overflow. For example using 33 with           January, means February 2nd)          </td>         </tr>         <tr>          <td><span>D</span> and <span>l</span></td>          <td>A textual representation of a day</td>          <td>           <span>Mon</span> through <span>Sun</span> or           <span>Sunday</span> through <span>Saturday</span>. If           the day name given is different then the day name belonging to a           parsed (or default) date is different, then an overflow occurs to           the <em>next</em> date with the given day name. See the           examples below for an explanation.          </td>         </tr>         <tr>          <td><span>S</span></td>          <td>English ordinal suffix for the day of the month, 2          characters. It&#039;s ignored while processing.</td>          <td>           <span>st</span>, <span>nd</span>, <span>rd</span> or           <span>th</span>.          </td>         </tr>         <tr>          <td><span>z</span></td>          <td>           The day of the year (starting from 0);           must be preceded by <span>Y</span> or <span>y</span>.          </td>          <td>           <span>0</span> through <span>365</span>. (3 digit           numbers higher than the numbers in a year are accepted, in which           case they will make the year overflow. For example using 366 with           2022, means January 2nd, 2023)          </td>         </tr>         <tr>          <td style="text-align: center;"><em>Month</em></td>          <td>---</td>          <td>---</td>         </tr>         <tr>          <td><span>F</span> and <span>M</span></td>          <td>A textual representation of a month, such as January or Sept</td>          <td>           <span>January</span> through <span>December</span> or           <span>Jan</span> through <span>Dec</span>          </td>         </tr>         <tr>          <td><span>m</span> and <span>n</span></td>          <td>Numeric representation of a month, with or without leading zeros</td>          <td>           <span>01</span> through <span>12</span> or           <span>1</span> through <span>12</span>.           (2 digit numbers higher than 12 are accepted, in which case they           will make the year overflow. For example using 13 means January in           the next year)          </td>         </tr>         <tr>          <td style="text-align: center;"><em>Year</em></td>          <td>---</td>          <td>---</td>         </tr>         <tr>          <td><span>X</span> and <span>x</span></td>          <td>A full numeric representation of a year, up to 19 digits,           optionally prefixed by <span>+</span> or           <span>-</span></td>          <td>Examples: <span>0055</span>, <span>787</span>,           <span>1999</span>, <span>-2003</span>,           <span>+10191</span></td>         </tr>         <tr>          <td><span>Y</span></td>          <td>A full numeric representation of a year, up to 4 digits</td>          <td>Examples: <span>0055</span>, <span>787</span>,           <span>1999</span>, <span>2003</span></td>         </tr>         <tr>          <td><span>y</span></td>          <td>           A two digit representation of a year (which is assumed to be in the           range 1970-2069, inclusive)          </td>          <td>           Examples:           <span>99</span> or <span>03</span>           (which will be interpreted as <span>1999</span> and           <span>2003</span>, respectively)          </td>         </tr>         <tr>          <td style="text-align: center;"><em>Time</em></td>          <td>---</td>          <td>---</td>         </tr>         <tr>          <td><span>a</span> and <span>A</span></td>          <td>Ante meridiem and Post meridiem</td>          <td><span>am</span> or <span>pm</span></td>         </tr>         <tr>          <td><span>g</span> and <span>h</span></td>          <td>12-hour format of an hour with or without leading zero</td>          <td>           <span>1</span> through <span>12</span> or           <span>01</span> through <span>12</span> (2 digit           numbers higher than 12 are accepted, in which case they will make           the day overflow. For example using <span>14</span> means           <span>02</span> in the next AM/PM period)          </td>         </tr>         <tr>          <td><span>G</span> and <span>H</span></td>          <td>24-hour format of an hour with or without leading zeros</td>          <td>           <span>0</span> through <span>23</span> or           <span>00</span> through <span>23</span> (2 digit           numbers higher than 24 are accepted, in which case they will make           the day overflow. For example using <span>26</span> means           <span>02:00</span> the next day)          </td>         </tr>         <tr>          <td><span>i</span></td>          <td>Minutes with leading zeros</td>          <td>           <span>00</span> to <span>59</span>. (2 digit           numbers higher than 59 are accepted, in which case they will make           the hour overflow. For example using <span>66</span> means           <span>:06</span> the next hour)          </td>         </tr>         <tr>          <td><span>s</span></td>          <td>Seconds, with leading zeros</td>          <td>           <span>00</span> through <span>59</span> (2 digit           numbers higher than 59 are accepted, in which case they will make           the minute overflow. For example using <span>90</span> means           <span>:30</span> the next minute)          </td>         </tr>         <tr>          <td><span>v</span></td>          <td>Fraction in milliseconds (up to three digits)</td>          <td>Example: <span>12</span> (<span>0.12</span>          seconds), <span>345</span> (<span>0.345</span> seconds)</td>         </tr>         <tr>          <td><span>u</span></td>          <td>Fraction in microseconds (up to six digits)</td>          <td>Example: <span>45</span> (<span>0.45</span>          seconds), <span>654321</span> (<span>0.654321</span>          seconds)</td>         </tr>         <tr>          <td style="text-align: center;"><em>Timezone</em></td>          <td>---</td>          <td>---</td>         </tr>         <tr>          <td>           <span>e</span>, <span>O</span>,           <span>P</span> and <span>T</span>          </td>          <td>Timezone identifier, or difference to UTC in hours, or          difference to UTC with colon between hours and minutes, or timezone          abbreviation</td>          <td>Examples: <span>UTC</span>, <span>GMT</span>,           <span>Atlantic/Azores</span> or           <span>+0200</span> or <span>+02:00</span> or           <span>EST</span>, <span>MDT</span>          </td>         </tr>         <tr>          <td style="text-align: center;"><em>Full Date/Time</em></td>          <td>---</td>          <td>---</td>         </tr>         <tr>          <td><span>U</span></td>          <td>Seconds since the Unix Epoch (January 1 1970 00:00:00 GMT)</td>          <td>Example: <span>1292177455</span></td>         </tr>         <tr>          <td style="text-align: center;"><em>Whitespace and Separators</em></td>          <td>---</td>          <td>---</td>         </tr>         <tr>          <td><span> </span> (space)</td>          <td>Zero or more spaces, tabs, NBSP (U+A0), or NNBSP (U+202F)          characters</td>          <td>Example: <span>&quot;\t&quot;</span>, <span>&quot;  &quot;</span></td>         </tr>         <tr>          <td><span>#</span></td>          <td>           One of the following separation symbol: <span>;</span>,           <span>:</span>, <span>/</span>, <span>.</span>,           <span>,</span>, <span>-</span>, <span>(</span> or           <span>)</span>          </td>          <td>Example: <span>/</span></td>         </tr>         <tr>          <td>           <span>;</span>,           <span>:</span>, <span>/</span>, <span>.</span>,           <span>,</span>, <span>-</span>, <span>(</span> or           <span>)</span>          </td>          <td>The specified character.</td>          <td>Example: <span>-</span></td>         </tr>         <tr>          <td><span>?</span></td>          <td>A random byte</td>          <td>Example: <span>^</span> (Be aware that for UTF-8          characters you might need more than one <span>?</span>.          In this case, using <span>*</span> is probably what you want          instead)</td>         </tr>         <tr>          <td><span>*</span></td>          <td>Random bytes until the next separator or digit</td>          <td>Example: <span>*</span> in <span>Y-*-d</span> with          the string <span>2009-aWord-08</span> will match          <span>aWord</span></td>         </tr>         <tr>          <td><span>!</span></td>          <td>Resets all fields (year, month, day, hour, minute, second,          fraction and timezone information) to zero-like values (           <span>0</span> for hour, minute, second and fraction,           <span>1</span> for month and day, <span>1970</span>           for year and <span>UTC</span> for timezone information)</td>          <td>Without <span>!,</span> all fields will be set to the          current date and time.</td>         </tr>         <tr>          <td><span>|</span></td>          <td>Resets all fields (year, month, day, hour, minute, second,          fraction and timezone information) to zero-like values if they have          not been parsed yet</td>          <td><span>Y-m-d|</span> will set the year, month and day          to the information found in the string to parse, and sets the hour,          minute and second to 0.</td>         </tr>         <tr>          <td><span>+</span></td>          <td>If this format specifier is present, trailing data in the          string will not cause an error, but a warning instead</td>          <td>Use <span class="methodname" style="color:#CC7832">{@link DateTimeImmutable::getLastErrors()}</span> to find out          whether trailing data was present.</td>         </tr>        </tbody>             </table>     </p>     <p class="para">      Unrecognized characters in the format string will cause the      parsing to fail and an error message is appended to the returned      structure. You can query error messages with      <span class="methodname" style="color:#CC7832">{@link DateTimeImmutable::getLastErrors()}</span>.     </p>     <p class="para">      To include literal characters in <span class="parameter" style="color:#3A95FF">format</span>, you have      to escape them with a backslash (<span>\</span>).     </p>     <p class="para">      If <span class="parameter" style="color:#3A95FF">format</span> does not contain the character      <span>!</span> then portions of the generated date/time which are not      specified in <span class="parameter" style="color:#3A95FF">format</span> will be set to the current      system time.     </p>     <p class="para">      If <span class="parameter" style="color:#3A95FF">format</span> contains the      character <span>!</span>, then portions of the generated      date/time not provided in <span class="parameter" style="color:#3A95FF">format</span>, as well as      values to the left-hand side of the <span>!</span>, will      be set to corresponding values from the Unix epoch.     </p>     <p class="para">      If any time character is parsed, then all other time-related fields are      set to &quot;0&quot;, unless also parsed.     </p>     <p class="para">      The Unix epoch is 1970-01-01 00:00:00 UTC.     </p>    </dd>          <dt><span class="parameter" style="color:#3A95FF">datetime</span></dt>    <dd>     <p class="para">      String representing the time.     </p>    </dd>          <dt><span class="parameter" style="color:#3A95FF">timezone</span></dt>    <dd>     <p class="para">      A <span class="classname"><a href="https://www.php.net/manual/zh/class.datetimezone.php" class="classname">DateTimeZone</a></span> object representing the      desired time zone.     </p>     <p class="para">      If <span class="parameter" style="color:#3A95FF">timezone</span> is omitted or <strong><span>null</span></strong> and      <span class="parameter" style="color:#3A95FF">datetime</span> contains no timezone,      the current timezone will be used.     </p>     <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:       <p class="para">       The <span class="parameter" style="color:#3A95FF">timezone</span> parameter       and the current timezone are ignored when the       <span class="parameter" style="color:#3A95FF">datetime</span> parameter either       contains a UNIX timestamp (e.g. <span>946684800</span>)       or specifies a timezone       (e.g. <span>2010-01-28T15:00:00+02:00</span>).      </p>     </p></blockquote>    </dd>     </dl> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-datetimeimmutable.createfromformat-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   Returns a new DateTimeImmutable instance 或者在失败时返回 <strong><span>false</span></strong>.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 errors" id="refsect1-datetimeimmutable.createfromformat-errors">  <h3 class="title">错误／异常</h3>  <p class="para">   This method throws <span class="exceptionname"><a href="https://www.php.net/manual/zh/class.valueerror.php" class="exceptionname">ValueError</a></span> when the   <span class="parameter" style="color:#3A95FF">datetime</span> contains NULL-bytes.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-datetimeimmutable.createfromformat-changelog">  <h3 class="title">更新日志</h3>  <span>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>     </thead>     <tbody class="tbody">      <tr>       <td>8.2.9</td>       <td>        The <span> </span> (space) specifier now also supports NBSP        (U+A0) and NNBSP (U+202F) characters.       </td>      </tr>      <tr>       <td>8.2.0</td>       <td>        The <span>X</span> and <span>x</span>        <span class="parameter" style="color:#3A95FF">format</span> specifiers have been added.       </td>      </tr>      <tr>       <td>8.0.21, 8.1.8, 8.2.0</td>       <td>        Now throws <span class="exceptionname"><a href="https://www.php.net/manual/zh/class.valueerror.php" class="exceptionname">ValueError</a></span> when NULL-bytes        are passed into <span class="parameter" style="color:#3A95FF">datetime</span>, which previously was silently        ignored.       </td>      </tr>      <tr>       <td>7.3.0</td>       <td>        The <span>v</span> <span class="parameter" style="color:#3A95FF">format</span> specifier has        been added.       </td>      </tr>     </tbody>       </table>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-datetimeimmutable.createfromformat-examples">  <h3 class="title">示例</h3>  <div class="example" id="">   <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">DateTimeImmutable::createFromFormat()</strong></span> example</strong></p>   <div class="example-contents"><p>面向对象风格</p></div>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$date </span><span style="color: #007700">= </span><span style="color: #9876AA">DateTimeImmutable</span><span style="color: #007700">::</span><span style="color: #9876AA">createFromFormat</span><span style="color: #007700">(</span><span style="color: #DD0000">'j-M-Y'</span><span style="color: #007700">, </span><span style="color: #DD0000">'15-Feb-2009'</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">$date</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>  </div>  <div class="example" id="">   <p><strong>示例 #2 Using predefined format constants with <span class="function"><strong style="color:#CC7832">DateTimeImmutable::createFromFormat()</strong></span></strong></p>   <div class="example-contents"><p>面向对象风格</p></div>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$date </span><span style="color: #007700">= </span><span style="color: #9876AA">DateTimeImmutable</span><span style="color: #007700">::</span><span style="color: #9876AA">createFromFormat</span><span style="color: #007700">(</span><span style="color: #9876AA">DateTimeInterface</span><span style="color: #007700">::</span><span style="color: #9876AA">ISO8601</span><span style="color: #007700">, </span><span style="color: #DD0000">'2004-02-12T15:19:21+00:00'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$date </span><span style="color: #007700">= </span><span style="color: #9876AA">DateTimeImmutable</span><span style="color: #007700">::</span><span style="color: #9876AA">createFromFormat</span><span style="color: #007700">(</span><span style="color: #9876AA">DateTimeInterface</span><span style="color: #007700">::</span><span style="color: #9876AA">RFC3339_EXTENDED</span><span style="color: #007700">, </span><span style="color: #DD0000">'2013-10-14T09:00:00.000+02:00'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>   <div class="example-contents"><p>    The <a href="https://www.php.net/manual/zh/class.datetimeinterface.php#datetimeinterface.constants.types" class="link">formatting constants</a>    as used in this example consist of    a string of characters for <a href="https://www.php.net/manual/zh/datetime.format.php" class="link">formatting</a> a    <span class="classname"><a href="https://www.php.net/manual/zh/class.datetimeimmutable.php" class="classname">DateTimeImmutable</a></span> object. In most cases, these    letters match with the same elements of date/time information as the ones defined in the <a href="https://www.php.net/manual/zh/" class="link">parameters</a>    section above, but they tend to be more lenient.   </p></div>  </div>  <div class="example" id="">   <p><strong>示例 #3 Intricacies of <span class="function"><strong style="color:#CC7832">DateTimeImmutable::createFromFormat()</strong></span></strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #DD0000">'Current time: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d H:i:s'</span><span style="color: #007700">) . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">$format </span><span style="color: #007700">= </span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$date </span><span style="color: #007700">= </span><span style="color: #9876AA">DateTimeImmutable</span><span style="color: #007700">::</span><span style="color: #9876AA">createFromFormat</span><span style="color: #007700">(</span><span style="color: #9876AA">$format</span><span style="color: #007700">, </span><span style="color: #DD0000">'2009-02-15'</span><span style="color: #007700">);<br />echo </span><span style="color: #DD0000">"Format: </span><span style="color: #9876AA">$format</span><span style="color: #DD0000">; " </span><span style="color: #007700">. </span><span style="color: #9876AA">$date</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d H:i:s'</span><span style="color: #007700">) . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">$format </span><span style="color: #007700">= </span><span style="color: #DD0000">'Y-m-d H:i:s'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$date </span><span style="color: #007700">= </span><span style="color: #9876AA">DateTimeImmutable</span><span style="color: #007700">::</span><span style="color: #9876AA">createFromFormat</span><span style="color: #007700">(</span><span style="color: #9876AA">$format</span><span style="color: #007700">, </span><span style="color: #DD0000">'2009-02-15 15:16:17'</span><span style="color: #007700">);<br />echo </span><span style="color: #DD0000">"Format: </span><span style="color: #9876AA">$format</span><span style="color: #DD0000">; " </span><span style="color: #007700">. </span><span style="color: #9876AA">$date</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d H:i:s'</span><span style="color: #007700">) . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">$format </span><span style="color: #007700">= </span><span style="color: #DD0000">'Y-m-!d H:i:s'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$date </span><span style="color: #007700">= </span><span style="color: #9876AA">DateTimeImmutable</span><span style="color: #007700">::</span><span style="color: #9876AA">createFromFormat</span><span style="color: #007700">(</span><span style="color: #9876AA">$format</span><span style="color: #007700">, </span><span style="color: #DD0000">'2009-02-15 15:16:17'</span><span style="color: #007700">);<br />echo </span><span style="color: #DD0000">"Format: </span><span style="color: #9876AA">$format</span><span style="color: #DD0000">; " </span><span style="color: #007700">. </span><span style="color: #9876AA">$date</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d H:i:s'</span><span style="color: #007700">) . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">$format </span><span style="color: #007700">= </span><span style="color: #DD0000">'!d'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$date </span><span style="color: #007700">= </span><span style="color: #9876AA">DateTimeImmutable</span><span style="color: #007700">::</span><span style="color: #9876AA">createFromFormat</span><span style="color: #007700">(</span><span style="color: #9876AA">$format</span><span style="color: #007700">, </span><span style="color: #DD0000">'15'</span><span style="color: #007700">);<br />echo </span><span style="color: #DD0000">"Format: </span><span style="color: #9876AA">$format</span><span style="color: #DD0000">; " </span><span style="color: #007700">. </span><span style="color: #9876AA">$date</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d H:i:s'</span><span style="color: #007700">) . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">$format </span><span style="color: #007700">= </span><span style="color: #DD0000">'i'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$date </span><span style="color: #007700">= </span><span style="color: #9876AA">DateTimeImmutable</span><span style="color: #007700">::</span><span style="color: #9876AA">createFromFormat</span><span style="color: #007700">(</span><span style="color: #9876AA">$format</span><span style="color: #007700">, </span><span style="color: #DD0000">'15'</span><span style="color: #007700">);<br />echo </span><span style="color: #DD0000">"Format: </span><span style="color: #9876AA">$format</span><span style="color: #DD0000">; " </span><span style="color: #007700">. </span><span style="color: #9876AA">$date</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d H:i:s'</span><span style="color: #007700">) . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>   <div class="example-contents"><p>以上示例的输出类似于：</p></div>   <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Current time: 2022-06-02 15:50:46<br>Format: Y-m-d; 2009-02-15 15:50:46<br>Format: Y-m-d H:i:s; 2009-02-15 15:16:17<br>Format: Y-m-!d H:i:s; 1970-01-15 15:16:17<br>Format: !d; 1970-01-15 00:00:00<br>Format: i; 2022-06-02 00:15:00<br></span></div>   </div>  </div>  <div class="example" id="">   <p><strong>示例 #4 Format string with literal characters</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">DateTimeImmutable</span><span style="color: #007700">::</span><span style="color: #9876AA">createFromFormat</span><span style="color: #007700">(</span><span style="color: #DD0000">'H\h i\m s\s'</span><span style="color: #007700">,</span><span style="color: #DD0000">'23h 15m 03s'</span><span style="color: #007700">)-&gt;</span><span style="color: #9876AA">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'H:i:s'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>   <div class="example-contents"><p>以上示例的输出类似于：</p></div>   <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>23:15:03<br></span></div>   </div>  </div>  <div class="example" id="">   <p><strong>示例 #5 Overflow behaviour</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">DateTimeImmutable</span><span style="color: #007700">::</span><span style="color: #9876AA">createFromFormat</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d H:i:s'</span><span style="color: #007700">, </span><span style="color: #DD0000">'2021-17-35 16:60:97'</span><span style="color: #007700">)-&gt;</span><span style="color: #9876AA">format</span><span style="color: #007700">(</span><span style="color: #9876AA">DateTimeImmutable</span><span style="color: #007700">::</span><span style="color: #9876AA">RFC2822</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>   <div class="example-contents"><p>以上示例的输出类似于：</p></div>   <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Sat, 04 Jun 2022 17:01:37 +0000<br></span></div>   </div>   <div class="example-contents"><p>    Although the result looks odd, it is correct, as the following overflows    happen:   </p></div>   <ol type="1">    <li class="listitem">     <span class="simpara">      <span>97</span> seconds overflows to <span>1</span> minute,      leaving <span>37</span> seconds.     </span>    </li>    <li class="listitem">     <span class="simpara">      <span>61</span> minutes overflows to <span>1</span> hour,      leaving <span>1</span> minutes.     </span>    </li>    <li class="listitem">     <span class="simpara">      <span>35</span> days overflows to <span>1</span> month,      leaving <span>4</span> days. The amount of days that are left over      depends on the month, as not every month has the same amount of days.     </span>    </li>    <li class="listitem">     <span class="simpara">      <span>18</span> months overflows to <span>1</span> year,      leaving <span>6</span> months.     </span>    </li>   </ol>  </div>  <div class="example" id="">   <p><strong>示例 #6 Overflowing day name behaviour</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$d </span><span style="color: #007700">= </span><span style="color: #9876AA">DateTime</span><span style="color: #007700">::</span><span style="color: #9876AA">createFromFormat</span><span style="color: #007700">(</span><span style="color: #9876AA">DateTimeInterface</span><span style="color: #007700">::</span><span style="color: #9876AA">RFC1123</span><span style="color: #007700">, </span><span style="color: #DD0000">'Mon, 3 Aug 2020 25:00:00 +0000'</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">$d</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">format</span><span style="color: #007700">(</span><span style="color: #9876AA">DateTime</span><span style="color: #007700">::</span><span style="color: #9876AA">RFC1123</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>   <div class="example-contents"><p>以上示例的输出类似于：</p></div>   <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Mon, 10 Aug 2020 01:00:00 +0000<br></span></div>   </div>   <div class="example-contents"><p>    Although the result looks odd, it is correct, as the following overflows    happen:   </p></div>   <ol type="1">    <li class="listitem">     <span class="simpara">      <span>3 Aug 2020 25:00:00</span> overflows to <span>(Tue) 4 Aug      2020 01:00</span>.     </span>    </li>    <li class="listitem">     <span class="simpara">      <span>Mon</span> gets applied, which advances the date to      <span>Mon, 10 Aug 2020 01:00:00</span>. The explanation of      relative keywords such as <span>Mon</span> is explained in the      section on <a href="https://www.php.net/manual/zh/" class="link">relative      formats</a>.     </span>    </li>   </ol>  </div>  <span>   In order to detect overflows in dates, you can use   <span class="methodname" style="color:#CC7832">{@link DateTimeImmutable::getLastErrors()}</span>, which will   include a warning if an overflow occured.  </span>  <div class="example" id="">   <p><strong>示例 #7 Detecting overflown dates</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$d </span><span style="color: #007700">= </span><span style="color: #9876AA">DateTimeImmutable</span><span style="color: #007700">::</span><span style="color: #9876AA">createFromFormat</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d H:i:s'</span><span style="color: #007700">, </span><span style="color: #DD0000">'2021-17-35 16:60:97'</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">$d</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">format</span><span style="color: #007700">(</span><span style="color: #9876AA">DateTimeImmutable</span><span style="color: #007700">::</span><span style="color: #9876AA">RFC2822</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">DateTimeImmutable</span><span style="color: #007700">::</span><span style="color: #9876AA">GetLastErrors</span><span style="color: #007700">());<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>   <div class="example-contents"><p>以上示例的输出类似于：</p></div>   <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Sat, 04 Jun 2022 17:01:37 +0000<br><br>array(4) {<br>  &#039;warning_count&#039; =&gt;<br>  int(2)<br>  &#039;warnings&#039; =&gt;<br>  array(1) {<br>    [19] =&gt;<br>    string(27) &quot;The parsed date was invalid&quot;<br>  }<br>  &#039;error_count&#039; =&gt;<br>  int(0)<br>  &#039;errors&#039; =&gt;<br>  array(0) {<br>  }<br>}<br></span></div>   </div>  </div>  <div class="example" id="">   <p><strong>示例 #8 Greedy parsing behaviour</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />print_r</span><span style="color: #007700">(</span><span style="color: #9876AA">date_parse_from_format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Gis'</span><span style="color: #007700">, </span><span style="color: #DD0000">'60101'</span><span style="color: #007700">));<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>   <div class="example-contents"><p>以上示例的输出类似于：</p></div>   <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Array<br>(<br>    [year] =&gt;<br>    [month] =&gt;<br>    [day] =&gt;<br>    [hour] =&gt; 60<br>    [minute] =&gt; 10<br>    [second] =&gt; 0<br>    [fraction] =&gt; 0<br>    [warning_count] =&gt; 1<br>    [warnings] =&gt; Array<br>        (<br>            [5] =&gt; The parsed time was invalid<br>        )<br><br>    [error_count] =&gt; 1<br>    [errors] =&gt; Array<br>        (<br>            [4] =&gt; A two digit second could not be found<br>        )<br><br>    [is_localtime] =&gt;<br>)<br></span></div>   </div>   <div class="example-contents"><p>    The <span>G</span> format is to parse 24 hour clock hours, with or    without leading zero. This requires to parse 1 or 2 digits. Because there    are two following digits, it greedily reads this as <span>60</span>.   </p></div>   <div class="example-contents"><p>    The following <span>i</span> and <span>s</span> format    characters both require two digits. This means that <span>10</span>    is passed as minute (<span>i</span>), and that there are then not    enough digits left to parse for as second (<span>s</span>).   </p></div>   <div class="example-contents"><p>    The <span>errors</span> array indicates this problem.   </p></div>   <div class="example-contents"><p>    Additionally, an hour of <span>60</span> is outside the range    <span>0</span>-<span>24</span>, which causes the    <span>warnings</span> array to include a warning that the time is    invalid.   </p></div>  </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-datetimeimmutable.createfromformat-seealso">  <h3 class="title">参见</h3>  <ul class="simplelist">   <li class="member"><span class="function">{@link DateTimeImmutable::__construct()} - Returns new DateTimeImmutable object</span></li>   <li class="member"><span class="function">{@link DateTimeImmutable::getLastErrors()} - Returns the warnings and errors</span></li>   <li class="member"><span class="function">{@link checkdate()} - 验证一个格里高里日期</span></li>   <li class="member"><span class="function">{@link strptime()} - 解析由 strftime 生成的日期／时间</span></li>  </ul> </div></div>