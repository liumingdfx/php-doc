<div id="imagick.morphology" class="refentry"> <div class="refnamediv">  <h1 class="refname">Imagick::morphology</h1>  <p class="verinfo">(PECL imagick 3 &gt;= 3.3.0)</p><p class="refpurpose"><span class="refname">Imagick::morphology</span> &mdash; <span class="dc-title">Applies a user supplied kernel to the image according to the given morphology method.</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-imagick.morphology-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Imagick::morphology</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$morphologyMethod</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$iterations</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.imagickkernel.php" class="type ImagickKernel" style="color:#EAB766">ImagickKernel</a></span> <span class="parameter" style="color:#3A95FF">$ImagickKernel</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$channel</span><span class="initializer"> = Imagick::CHANNEL_DEFAULT</span></span><br>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   Applies a user supplied kernel to the image according to the given morphology method.  </p>  </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-imagick.morphology-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">morphologyMethod</span></dt>    <dd>     <span>      Which morphology method to use one of the \Imagick::MORPHOLOGY_* constants.     </span>    </dd>          <dt><span class="parameter" style="color:#3A95FF">iterations</span></dt>    <dd>     <p class="para">      The number of iteration to apply the morphology function. A value of -1 means loop until no change found. How this is applied may depend on the morphology method. Typically this is a value of 1.     </p>    </dd>          <dt><span class="parameter" style="color:#3A95FF">ImagickKernel</span></dt>    <dd>     <p class="para">           </p>    </dd>          <dt><span class="parameter" style="color:#3A95FF">channel</span></dt>    <dd>     <p class="para">           </p>    </dd>     </dl> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-imagick.morphology-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-imagick.morphology-examples">  <h3 class="title">示例</h3>  <span>    <div class="example" id="">      <p><strong>示例 #1 Convolve <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $imagick </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacter</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_GAUSSIAN</span><span style="color: #007700">, </span><span style="color: #DD0000">"5,1"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_CONVOLVE</span><span style="color: #007700">, </span><span style="color: #9876AA">2</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #2 Correlate <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />        </span><span style="color: #FF8000">// Top-left pixel must be black<br />        // Bottom right pixel must be white<br />        // We don't care about the rest.<br />        <br /><br />        </span><span style="color: #9876AA">$imagick </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromMatrix</span><span style="color: #007700">(</span><span style="color: #9876AA">self</span><span style="color: #007700">::</span><span style="color: #9876AA">$correlateMatrix</span><span style="color: #007700">, [</span><span style="color: #9876AA">2</span><span style="color: #007700">, </span><span style="color: #9876AA">2</span><span style="color: #007700">]);<br />        </span><span style="color: #9876AA">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_CORRELATE</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #3 Erode <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_OCTAGON</span><span style="color: #007700">, </span><span style="color: #DD0000">"3"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_ERODE</span><span style="color: #007700">, </span><span style="color: #9876AA">2</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #4 Erode Intensity <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacter</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_OCTAGON</span><span style="color: #007700">, </span><span style="color: #DD0000">"1"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_ERODE_INTENSITY</span><span style="color: #007700">, </span><span style="color: #9876AA">2</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #5 Dilate <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_OCTAGON</span><span style="color: #007700">, </span><span style="color: #DD0000">"3"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_DILATE</span><span style="color: #007700">, </span><span style="color: #9876AA">4</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #6 Dilate intensity <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacter</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_OCTAGON</span><span style="color: #007700">, </span><span style="color: #DD0000">"1"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_DILATE_INTENSITY</span><span style="color: #007700">, </span><span style="color: #9876AA">4</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #7 Distance with Chebyshev kernel <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_CHEBYSHEV</span><span style="color: #007700">, </span><span style="color: #DD0000">"3"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_DISTANCE</span><span style="color: #007700">, </span><span style="color: #9876AA">3</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">autoLevelImage</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #8 Distance with Manhattan kernel <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_MANHATTAN</span><span style="color: #007700">, </span><span style="color: #DD0000">"5"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_DISTANCE</span><span style="color: #007700">, </span><span style="color: #9876AA">3</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">autoLevelImage</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #9 Distance with ocatagonal kernel <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_OCTAGONAL</span><span style="color: #007700">, </span><span style="color: #DD0000">"5"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_DISTANCE</span><span style="color: #007700">, </span><span style="color: #9876AA">3</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">autoLevelImage</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #10 Distance with Euclidean kernel <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_EUCLIDEAN</span><span style="color: #007700">, </span><span style="color: #DD0000">"4"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_DISTANCE</span><span style="color: #007700">, </span><span style="color: #9876AA">3</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">autoLevelImage</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #11 Edge <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_OCTAGON</span><span style="color: #007700">, </span><span style="color: #DD0000">"3"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_EDGE</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #12 Open <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        </span><span style="color: #FF8000">// As a result you will see that 'Open' smoothed the outline, by rounding off any sharp points, and remove any parts that is smaller than the shape used. It will also disconnect or 'open' any thin bridges.<br />        </span><span style="color: #9876AA">$canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_DISK</span><span style="color: #007700">, </span><span style="color: #DD0000">"6"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_OPEN</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #13 Open intensity <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        </span><span style="color: #FF8000">// As a result you will see that 'Open' smoothed the outline, by rounding off any sharp points, and remove any parts that is smaller than the shape used. It will also disconnect or 'open' any thin bridges.<br /><br />        </span><span style="color: #9876AA">$canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacter</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_DISK</span><span style="color: #007700">, </span><span style="color: #DD0000">"6"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_OPEN_INTENSITY</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #14 Close <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        </span><span style="color: #FF8000">//The basic use of the 'Close' method is to reduce or remove any 'holes' or 'gaps' about the size of the kernel 'Structure Element'. That is 'close' parts of the background that are about that size.<br />        </span><span style="color: #9876AA">$canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_DISK</span><span style="color: #007700">, </span><span style="color: #DD0000">"6"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_CLOSE</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #15 Close Intensity <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        </span><span style="color: #FF8000">//The basic use of the 'Close' method is to reduce or remove any 'holes' or 'gaps' about the size of the kernel 'Structure Element'. That is 'close' parts of the background that are about that size.<br />        </span><span style="color: #9876AA">$canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacter</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_DISK</span><span style="color: #007700">, </span><span style="color: #DD0000">"6"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_CLOSE_INTENSITY</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #16 Smooth <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_OCTAGON</span><span style="color: #007700">, </span><span style="color: #DD0000">"3"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_SMOOTH</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #17 Edge in <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_OCTAGON</span><span style="color: #007700">, </span><span style="color: #DD0000">"3"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_EDGE_IN</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #18 Edge out <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_OCTAGON</span><span style="color: #007700">, </span><span style="color: #DD0000">"3"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_EDGE_OUT</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #19 The &#039;TopHat&#039; method, or more specifically &#039;White Top Hat&#039;, returns the pixels that were removed by a Opening of the shape, that is the pixels that were removed to round off the points, and the connecting bridged between shapes. <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_DISK</span><span style="color: #007700">, </span><span style="color: #DD0000">"5"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_TOP_HAT</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #20 The &#039;BottomHat&#039; method, also known as &#039;Black TopHat&#039; is the pixels that a Closing of the shape adds to the image. That is the pixels that were used to fill in the &#039;holes&#039;, &#039;gaps&#039;, and &#039;bridges&#039;. <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_DISK</span><span style="color: #007700">, </span><span style="color: #DD0000">"5"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_BOTTOM_HAT</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #21 Hit and Miss <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #FF8000">//This finds all the pixels with 3 pixels of the right edge<br />        </span><span style="color: #9876AA">$matrix </span><span style="color: #007700">= [[</span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">false</span><span style="color: #007700">, </span><span style="color: #9876AA">false</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">]];<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromMatrix</span><span style="color: #007700">(<br />            </span><span style="color: #9876AA">$matrix</span><span style="color: #007700">,<br />            [</span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">]<br />        );<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_HIT_AND_MISS</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #22 Thinning <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$leftEdgeKernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromMatrix</span><span style="color: #007700">([[</span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">]], [</span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">]);<br />        </span><span style="color: #9876AA">$rightEdgeKernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromMatrix</span><span style="color: #007700">([[</span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">]], [</span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">]);<br />        </span><span style="color: #9876AA">$leftEdgeKernel</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">addKernel</span><span style="color: #007700">(</span><span style="color: #9876AA">$rightEdgeKernel</span><span style="color: #007700">);<br />        <br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_THINNING</span><span style="color: #007700">, </span><span style="color: #9876AA">3</span><span style="color: #007700">, </span><span style="color: #9876AA">$leftEdgeKernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #23 Thicken <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$leftEdgeKernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromMatrix</span><span style="color: #007700">([[</span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">]], [</span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">]);<br />        </span><span style="color: #9876AA">$rightEdgeKernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromMatrix</span><span style="color: #007700">([[</span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">]], [</span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">]);<br />        </span><span style="color: #9876AA">$leftEdgeKernel</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">addKernel</span><span style="color: #007700">(</span><span style="color: #9876AA">$rightEdgeKernel</span><span style="color: #007700">);<br /><br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_THICKEN</span><span style="color: #007700">, </span><span style="color: #9876AA">3</span><span style="color: #007700">, </span><span style="color: #9876AA">$leftEdgeKernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #24 Thick to generate a convex hull <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$diamondKernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_DIAMOND</span><span style="color: #007700">, </span><span style="color: #DD0000">"1"</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$convexKernel </span><span style="color: #007700">=  </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_CONVEX_HULL</span><span style="color: #007700">, </span><span style="color: #DD0000">""</span><span style="color: #007700">);<br /><br />        </span><span style="color: #FF8000">// The thicken morphology doesn't handle small gaps. We close them<br />        // with the close morphology.<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_CLOSE</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$diamondKernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_THICKEN</span><span style="color: #007700">, -</span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$convexKernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_CLOSE</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$diamondKernel</span><span style="color: #007700">);<br /><br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #25 Iterative morphology <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        $canvas </span><span style="color: #007700">= </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">$kernel </span><span style="color: #007700">= </span><span style="color: #9876AA">\ImagickKernel</span><span style="color: #007700">::</span><span style="color: #9876AA">fromBuiltIn</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">KERNEL_DISK</span><span style="color: #007700">, </span><span style="color: #DD0000">"2"</span><span style="color: #007700">);        <br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">morphology</span><span style="color: #007700">(</span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">MORPHOLOGY_ITERATIVE</span><span style="color: #007700">, </span><span style="color: #9876AA">3</span><span style="color: #007700">, </span><span style="color: #9876AA">$kernel</span><span style="color: #007700">);<br />        </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">autoLevelImage</span><span style="color: #007700">();<br />        </span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />        echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageBlob</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>    <div class="example" id="">      <p><strong>示例 #26 Helper function to get an image silhouette <span class="function"><strong style="color:#CC7832">Imagick::morphology()</strong></span></strong></p>      <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #9876AA">getCharacterOutline</span><span style="color: #007700">() {<br />    </span><span style="color: #9876AA">$imagick </span><span style="color: #007700">= new </span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">(</span><span style="color: #9876AA">realpath</span><span style="color: #007700">(</span><span style="color: #DD0000">"./images/character.png"</span><span style="color: #007700">));<br />    </span><span style="color: #9876AA">$character </span><span style="color: #007700">= new </span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">();<br />    </span><span style="color: #9876AA">$character</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">newPseudoImage</span><span style="color: #007700">(<br />        </span><span style="color: #9876AA">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageWidth</span><span style="color: #007700">(),<br />        </span><span style="color: #9876AA">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageHeight</span><span style="color: #007700">(),<br />        </span><span style="color: #DD0000">"canvas:white"<br />    </span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">$canvas </span><span style="color: #007700">= new </span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">();<br />    </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">newPseudoImage</span><span style="color: #007700">(<br />        </span><span style="color: #9876AA">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageWidth</span><span style="color: #007700">(),<br />        </span><span style="color: #9876AA">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageHeight</span><span style="color: #007700">(),<br />        </span><span style="color: #DD0000">"canvas:black"<br />    </span><span style="color: #007700">);<br /><br />    </span><span style="color: #9876AA">$character</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">compositeimage</span><span style="color: #007700">(<br />        </span><span style="color: #9876AA">$imagick</span><span style="color: #007700">,<br />        </span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">COMPOSITE_COPYOPACITY</span><span style="color: #007700">,<br />        </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0<br />    </span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">compositeimage</span><span style="color: #007700">(<br />        </span><span style="color: #9876AA">$character</span><span style="color: #007700">,<br />        </span><span style="color: #9876AA">\Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">COMPOSITE_ATOP</span><span style="color: #007700">,<br />        </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0<br />    </span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setFormat</span><span style="color: #007700">(</span><span style="color: #DD0000">'png'</span><span style="color: #007700">);<br /><br />    return </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>  </span> </div></div>