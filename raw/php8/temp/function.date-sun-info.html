<div id="function.date-sun-info" class="refentry"> <div class="refnamediv">  <h1 class="refname">date_sun_info</h1>  <p class="verinfo">(PHP 5 &gt;= 5.1.2, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">date_sun_info</span> &mdash; <span class="dc-title">Returns an array with information about sunset/sunrise and twilight begin/end</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.date-sun-info-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>date_sun_info</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$timestamp</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">float</span> <span class="parameter" style="color:#3A95FF">$latitude</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">float</span> <span class="parameter" style="color:#3A95FF">$longitude</span></span>): <span class="type" style="color:#EAB766">array</span></div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.date-sun-info-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">timestamp</span></dt>     <dd>      <p class="para">       Unix timestamp.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">latitude</span></dt>     <dd>      <p class="para">       Latitude in degrees.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">longitude</span></dt>     <dd>      <p class="para">       Longitude in degrees.      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.date-sun-info-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   Returns array on success 或者在失败时返回 <strong><span>false</span></strong>.   The structure of the array is detailed in the following list:  </p>  <p class="para">   <dl>         <dt><span>sunrise</span></dt>     <dd>      <span class="simpara">       The timestamp of the sunrise (zenith angle = 90°35&#039;).      </span>     </dd>              <dt><span>sunset</span></dt>     <dd>      <span class="simpara">       The timestamp of the sunset (zenith angle = 90°35&#039;).      </span>     </dd>              <dt><span>transit</span></dt>     <dd>      <span class="simpara">       The timestamp when the sun is at its zenith, i.e. has reached its topmost       point.      </span>     </dd>              <dt><span>civil_twilight_begin</span></dt>     <dd>      <span class="simpara">       The start of the civil dawn (zenith angle = 96°). It ends at       <span>sunrise</span>.      </span>     </dd>              <dt><span>civil_twilight_end</span></dt>     <dd>      <span class="simpara">       The end of the civil dusk (zenith angle = 96°). It starts at       <span>sunset</span>.      </span>     </dd>              <dt><span>nautical_twilight_begin</span></dt>     <dd>      <span class="simpara">       The start of the nautical dawn (zenith angle = 102°). It ends at       <span>civil_twilight_begin</span>.      </span>     </dd>              <dt><span>nautical_twilight_end</span></dt>     <dd>      <span class="simpara">       The end of the nautical dusk (zenith angle = 102°). It starts at       <span>civil_twilight_end</span>.      </span>     </dd>              <dt><span>astronomical_twilight_begin</span></dt>     <dd>      <span class="simpara">       The start of the astronomical dawn (zenith angle = 108°). It ends at       <span>nautical_twilight_begin</span>.      </span>     </dd>              <dt><span>astronomical_twilight_end</span></dt>     <dd>      <span class="simpara">       The end of the astronomical dusk (zenith angle = 108°). It starts at       <span>nautical_twilight_end</span>.      </span>     </dd>        </dl>  </p>  <p class="para">    The values of the array elements are either UNIX timestamps, <strong><span>false</span></strong> if the   sun is below the respective zenith for the whole day, or <strong><span>true</span></strong> if the sun is   above the respective zenith for the whole day.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.date-sun-info-changelog">  <h3 class="title">更新日志</h3>  <span>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>     </thead>     <tbody class="tbody">      <tr>       <td>7.2.0</td>       <td>        The calculation was fixed with regards to local midnight instead of        local noon, which changes the results slightly.       </td>      </tr>     </tbody>       </table>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.date-sun-info-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 A <span class="function"><strong style="color:#CC7832">date_sun_info()</strong></span> example</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$sun_info </span><span style="color: #007700">= </span><span style="color: #9876AA">date_sun_info</span><span style="color: #007700">(</span><span style="color: #9876AA">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"2006-12-12"</span><span style="color: #007700">), </span><span style="color: #9876AA">31.7667</span><span style="color: #007700">, </span><span style="color: #9876AA">35.2333</span><span style="color: #007700">);<br />foreach (</span><span style="color: #9876AA">$sun_info </span><span style="color: #007700">as </span><span style="color: #9876AA">$key </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">$val</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">"</span><span style="color: #9876AA">$key</span><span style="color: #DD0000">: " </span><span style="color: #007700">. </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"H:i:s"</span><span style="color: #007700">, </span><span style="color: #9876AA">$val</span><span style="color: #007700">) . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>sunrise: 05:52:11<br>sunset: 15:41:21<br>transit: 10:46:46<br>civil_twilight_begin: 05:24:08<br>civil_twilight_end: 16:09:24<br>nautical_twilight_begin: 04:52:25<br>nautical_twilight_end: 16:41:06<br>astronomical_twilight_begin: 04:21:32<br>astronomical_twilight_end: 17:12:00<br></span></div>    </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 Polar night, with some processing</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$tz </span><span style="color: #007700">= new </span><span style="color: #9876AA">\DateTimeZone</span><span style="color: #007700">(</span><span style="color: #DD0000">'America/Anchorage'</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$si </span><span style="color: #007700">= </span><span style="color: #9876AA">date_sun_info</span><span style="color: #007700">(</span><span style="color: #9876AA">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"2022-12-21"</span><span style="color: #007700">), </span><span style="color: #9876AA">70.21</span><span style="color: #007700">, -</span><span style="color: #9876AA">148.51</span><span style="color: #007700">);<br />foreach (</span><span style="color: #9876AA">$si </span><span style="color: #007700">as </span><span style="color: #9876AA">$key </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">$value</span><span style="color: #007700">) {<br />    echo<br />        match (</span><span style="color: #9876AA">$value</span><span style="color: #007700">) {<br />            </span><span style="color: #9876AA">true </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'always'</span><span style="color: #007700">,<br />            </span><span style="color: #9876AA">false </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'never'</span><span style="color: #007700">,<br />            default =&gt; </span><span style="color: #9876AA">date_create</span><span style="color: #007700">(</span><span style="color: #DD0000">"@</span><span style="color: #007700">{</span><span style="color: #9876AA">$value</span><span style="color: #007700">}</span><span style="color: #DD0000">"</span><span style="color: #007700">)-&gt;</span><span style="color: #9876AA">setTimeZone</span><span style="color: #007700">(</span><span style="color: #9876AA">$tz</span><span style="color: #007700">)-&gt;</span><span style="color: #9876AA">format</span><span style="color: #007700">( </span><span style="color: #DD0000">'H:i:s T' </span><span style="color: #007700">),<br />        },<br />        </span><span style="color: #DD0000">": </span><span style="color: #007700">{</span><span style="color: #9876AA">$key</span><span style="color: #007700">}</span><span style="color: #DD0000">"</span><span style="color: #007700">,<br />        </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>never: sunrise<br>never: sunset<br>12:52:18 AKST: transit<br>10:53:19 AKST: civil_twilight_begin<br>14:51:17 AKST: civil_twilight_end<br>09:01:47 AKST: nautical_twilight_begin<br>16:42:48 AKST: nautical_twilight_end<br>07:40:47 AKST: astronomical_twilight_begin<br>18:03:49 AKST: astronomical_twilight_end<br></span></div>    </div>   </div>  </p>  <p class="para">   <div class="example" id="">    <p><strong>示例 #3 Midnight sun (Tromsø, Norway)</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$si </span><span style="color: #007700">= </span><span style="color: #9876AA">date_sun_info</span><span style="color: #007700">(</span><span style="color: #9876AA">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"2022-06-26"</span><span style="color: #007700">), </span><span style="color: #9876AA">69.68</span><span style="color: #007700">, </span><span style="color: #9876AA">18.94</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">print_r</span><span style="color: #007700">(</span><span style="color: #9876AA">$si</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Array<br>(<br>    [sunrise] =&gt; 1<br>    [sunset] =&gt; 1<br>    [transit] =&gt; 1656240426<br>    [civil_twilight_begin] =&gt; 1<br>    [civil_twilight_end] =&gt; 1<br>    [nautical_twilight_begin] =&gt; 1<br>    [nautical_twilight_end] =&gt; 1<br>    [astronomical_twilight_begin] =&gt; 1<br>    [astronomical_twilight_end] =&gt; 1<br>)<br></span></div>    </div>   </div>  </p>  <p class="para">   <div class="example" id="">    <p><strong>示例 #4 Calculating length of day (Kyiv)</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$si </span><span style="color: #007700">= </span><span style="color: #9876AA">date_sun_info</span><span style="color: #007700">(</span><span style="color: #9876AA">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">'2022-08-26'</span><span style="color: #007700">), </span><span style="color: #9876AA">50.45</span><span style="color: #007700">, </span><span style="color: #9876AA">30.52</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$diff </span><span style="color: #007700">= </span><span style="color: #9876AA">$si</span><span style="color: #007700">[</span><span style="color: #DD0000">'sunset'</span><span style="color: #007700">] - </span><span style="color: #9876AA">$si</span><span style="color: #007700">[</span><span style="color: #DD0000">'sunrise'</span><span style="color: #007700">];<br />echo </span><span style="color: #DD0000">"Length of day: "</span><span style="color: #007700">,<br />    </span><span style="color: #9876AA">floor</span><span style="color: #007700">(</span><span style="color: #9876AA">$diff </span><span style="color: #007700">/ </span><span style="color: #9876AA">3600</span><span style="color: #007700">), </span><span style="color: #DD0000">"h "</span><span style="color: #007700">,<br />    </span><span style="color: #9876AA">floor</span><span style="color: #007700">((</span><span style="color: #9876AA">$diff </span><span style="color: #007700">% </span><span style="color: #9876AA">3600</span><span style="color: #007700">) / </span><span style="color: #9876AA">60</span><span style="color: #007700">), </span><span style="color: #DD0000">"s\n"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Length of day: 13h 56s<br></span></div>    </div>   </div>  </p> </div></div>