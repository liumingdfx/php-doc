<div id="function.mhash-keygen-s2k" class="refentry"> <div class="refnamediv">  <h1 class="refname">mhash_keygen_s2k</h1>  <p class="verinfo">(PHP 4 &gt;= 4.0.4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">mhash_keygen_s2k</span> &mdash; <span class="dc-title">Generates a key</span></p> </div> <div id="function.mhash-keygen-s2k-refsynopsisdiv">  <div class="warning"><strong class="warning">警告</strong><p class="simpara">此函数自 PHP 8.1.0 起<em>弃用</em>。强烈建议不要应用此函数。</p></div> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.mhash-keygen-s2k-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>mhash_keygen_s2k</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$algo</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$password</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$salt</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$length</span></span><br>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   Generates a key according to the given <span class="parameter" style="color:#3A95FF">algo</span>, using an user   provided <span class="parameter" style="color:#3A95FF">password</span>.  </p>  <p class="para">   This is the Salted S2K algorithm as specified in the OpenPGP   document (<a href="http://www.faqs.org/rfcs/rfc2440" class="link external">&raquo;&nbsp;RFC 2440</a>).  </p>  <p class="para">   Keep in mind that user supplied passwords are not really suitable   to be used as keys in cryptographic algorithms, since users normally   choose keys they can write on keyboard. These passwords use   only 6 to 7 bits per character (or less). It is highly recommended   to use some kind of transformation (like this function) to the user   supplied key.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.mhash-keygen-s2k-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">algo</span></dt>     <dd>      <p class="para">       The hash ID used to create the key.       One of the <strong><span>MHASH_hashname</span></strong> constants.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">password</span></dt>     <dd>      <p class="para">       An user supplied password.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">salt</span></dt>     <dd>      <p class="para">       Must be different and random enough for every key you generate in       order to create different keys. Because <span class="parameter" style="color:#3A95FF">salt</span>       must be known when you check the keys, it is a good idea to append       the key to it. Salt has a fixed length of 8 bytes and will be padded       with zeros if you supply less bytes.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">length</span></dt>     <dd>      <p class="para">       The key length, in bytes.      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.mhash-keygen-s2k-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   Returns the generated key as a string, or <strong><span>false</span></strong> on error.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.mhash-keygen-s2k-changelog">  <h3 class="title">更新日志</h3>  <span>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>     </thead>     <tbody class="tbody">      <tr>       <td>8.1.0</td>       <td>        This function has been deprecated.        Use the <a href="https://www.php.net/manual/zh/ref.hash.php" class="link"><span>hash_*()</span> functions</a> instead.       </td>      </tr>     </tbody>       </table>  </span> </div> </div>