<div id="function.cubrid-bind" class="refentry"> <div class="refnamediv">  <h1 class="refname">cubrid_bind</h1>  <p class="verinfo">(PECL CUBRID &gt;= 8.3.0)</p><p class="refpurpose"><span class="refname">cubrid_bind</span> &mdash; <span class="dc-title">Bind variables to a prepared statement as parameters</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.cubrid-bind-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>cubrid_bind</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$req_identifier</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$bind_index</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$bind_value</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$bind_value_type</span><span class="initializer"> = ?</span></span><br>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   The <span class="function"><strong style="color:#CC7832">cubrid_bind()</strong></span> function is used to bind values to a   corresponding named or question mark placeholder in the SQL statement that   was passed to <span class="function">{@link cubrid_prepare()}</span>. If   <span class="parameter" style="color:#3A95FF">bind_value_type</span> is not given, string will be the   default.  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    If the type of data to be bound is BLOB/CLOB, CUBRID will try to map the    data as a PHP stream. If the actually bind value type is not stream,    CUBRID will convert it to string, and use it as the full path and file    name of a file on the client filesystem.   </p>   <p class="para">    If the type of data to be bound explicitly is ENUM, the <span class="parameter" style="color:#3A95FF">bind_value</span>    argument should be the enum element which is in string format.   </p>   <p class="para">    In CUBRID shard envrioment, the <span class="parameter" style="color:#3A95FF">bind_value_type</span> must be included in     the <span class="function"><strong style="color:#CC7832">cubrid_bind()</strong></span> function.   </p>  </p></blockquote>  <p class="para">  The following table shows the types of substitute values.  </p>  <p class="para">   <table class="doctable table">    <caption><strong>CUBRID Bind Date Types</strong></caption>         <thead>      <tr>       <th>Support</th>       <th>Bind Type</th>       <th>Corresponding SQL Type</th>      </tr>     </thead>     <tbody class="tbody">      <tr>       <td>Supported</td>       <td>STRING</td>       <td>CHAR, VARCHAR</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>NCHAR</td>       <td>NCHAR, NVARCHAR</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>BIT</td>       <td>BIT, VARBIT</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>NUMERIC or NUMBER</td>       <td>SHORT, INT, NUMERIC</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>FLOAT</td>       <td>FLOAT</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>DOUBLE</td>       <td>DOUBLE</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>TIME</td>       <td>TIME</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>DATE</td>       <td>DATE</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>TIMESTAMP</td>       <td>TIMESTAMP</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>OBJECT</td>       <td>OBJECT</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>ENUM</td>       <td>ENUM</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>BLOB</td>       <td>BLOB</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>CLOB</td>       <td>CLOB</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>NULL</td>       <td>NULL</td>      </tr>      <tr>       <td>Not supported</td>       <td>SET</td>       <td>SET</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>MULTISET</td>       <td>MULTISET</td>      </tr>      <tr>       <td class="empty">&nbsp;</td>       <td>SEQUENCE</td>       <td>SEQUENCE</td>      </tr>     </tbody>       </table>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.cubrid-bind-parameters"> <h3 class="title">参数</h3> <span>  <dl>      <dt><span class="parameter" style="color:#3A95FF">req_identifier</span></dt>  <dd><p class="para">Request identifier as a result of    <span class="function">{@link cubrid_prepare()}</span>.</p></dd>        <dt><span class="parameter" style="color:#3A95FF">bind_index</span></dt>  <dd><p class="para">Location of binding parameters. It starts with 1.</p></dd>        <dt><span class="parameter" style="color:#3A95FF">bind_value</span></dt>  <dd><p class="para">Actual value for binding.</p></dd>        <dt><span class="parameter" style="color:#3A95FF">bind_value_type</span></dt>  <dd><p class="para">A type of the value to bind. (It is omitted by default.    Thus, the system internally uses string by default. However, you need to    specify the exact type of the value as an argument when they are NCHAR,    BIT, or BLOB/CLOB).</p></dd>     </dl>  </span> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.cubrid-bind-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.cubrid-bind-changelog">  <h3 class="title">更新日志</h3>  <span>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>     </thead>     <tbody class="tbody">      <tr>       <td>8.3.1</td>       <td>        Added BLOB/CLOB data types support.       </td>      </tr>     </tbody>       </table>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.cubrid-bind-examples">  <h3 class="title">示例</h3>  <div class="example" id="example-3359">   <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">cubrid_bind()</strong></span> example</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$conn </span><span style="color: #007700">= </span><span style="color: #9876AA">cubrid_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"localhost"</span><span style="color: #007700">, </span><span style="color: #9876AA">33000</span><span style="color: #007700">, </span><span style="color: #DD0000">"demodb"</span><span style="color: #007700">, </span><span style="color: #DD0000">"dba"</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">cubrid_execute</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">, </span><span style="color: #DD0000">"SELECT code FROM event WHERE sports='Basketball' and gender='M'"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$row </span><span style="color: #007700">= </span><span style="color: #9876AA">cubrid_fetch_array</span><span style="color: #007700">(</span><span style="color: #9876AA">$result</span><span style="color: #007700">, </span><span style="color: #9876AA">CUBRID_ASSOC</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$event_code </span><span style="color: #007700">= </span><span style="color: #9876AA">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"code"</span><span style="color: #007700">];<br /><br /></span><span style="color: #9876AA">cubrid_close_request</span><span style="color: #007700">(</span><span style="color: #9876AA">$result</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$game_req </span><span style="color: #007700">= </span><span style="color: #9876AA">cubrid_prepare</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">, </span><span style="color: #DD0000">"SELECT athlete_code FROM game WHERE host_year=1992 and event_code=? and nation_code='USA'"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">cubrid_bind</span><span style="color: #007700">(</span><span style="color: #9876AA">$game_req</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$event_code</span><span style="color: #007700">, </span><span style="color: #DD0000">"number"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">cubrid_execute</span><span style="color: #007700">(</span><span style="color: #9876AA">$game_req</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"--- Dream Team (1992 United States men's Olympic basketball team) ---\n"</span><span style="color: #007700">);<br />while (</span><span style="color: #9876AA">$athlete_code </span><span style="color: #007700">= </span><span style="color: #9876AA">cubrid_fetch_array</span><span style="color: #007700">(</span><span style="color: #9876AA">$game_req</span><span style="color: #007700">, </span><span style="color: #9876AA">CUBRID_NUM</span><span style="color: #007700">)) {<br />    </span><span style="color: #9876AA">$athlete_req </span><span style="color: #007700">= </span><span style="color: #9876AA">cubrid_prepare</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">, </span><span style="color: #DD0000">"SELECT name FROM athlete WHERE code=? AND nation_code='USA' AND event='Basketball' AND gender='M'"</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">cubrid_bind</span><span style="color: #007700">(</span><span style="color: #9876AA">$athlete_req</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$athlete_code</span><span style="color: #007700">[</span><span style="color: #9876AA">0</span><span style="color: #007700">], </span><span style="color: #DD0000">"number"</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">cubrid_execute</span><span style="color: #007700">(</span><span style="color: #9876AA">$athlete_req</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">$row </span><span style="color: #007700">= </span><span style="color: #9876AA">cubrid_fetch_assoc</span><span style="color: #007700">(</span><span style="color: #9876AA">$athlete_req</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s\n"</span><span style="color: #007700">, </span><span style="color: #9876AA">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"name"</span><span style="color: #007700">]);<br />}<br /><br /></span><span style="color: #9876AA">cubrid_close_request</span><span style="color: #007700">(</span><span style="color: #9876AA">$game_req</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">cubrid_close_request</span><span style="color: #007700">(</span><span style="color: #9876AA">$athlete_req</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">cubrid_disconnect</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div><div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>--- Dream Team (1992 United States men&#039;s Olympic basketball team) ---<br>Stockton John<br>Robinson David<br>Pippen Scottie<br>Mullin C.<br>Malone Karl<br>Laettner C.<br>Jordan Michael<br>Johnson Earvin<br>Ewing Patrick<br>Drexler Clyde<br>Bird Larry<br>Barkley Charles<br></span></div>   </div>  </div>  <div class="example" id="example-3362">   <p><strong>示例 #2 <span class="function"><strong style="color:#CC7832">cubrid_bind()</strong></span> BLOB/CLOB example</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$con </span><span style="color: #007700">= </span><span style="color: #9876AA">cubrid_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"localhost"</span><span style="color: #007700">, </span><span style="color: #9876AA">33000</span><span style="color: #007700">, </span><span style="color: #DD0000">"demodb"</span><span style="color: #007700">, </span><span style="color: #DD0000">"dba"</span><span style="color: #007700">, </span><span style="color: #DD0000">""</span><span style="color: #007700">);<br />if (</span><span style="color: #9876AA">$con</span><span style="color: #007700">) {<br />    </span><span style="color: #9876AA">cubrid_execute</span><span style="color: #007700">(</span><span style="color: #9876AA">$con</span><span style="color: #007700">,</span><span style="color: #DD0000">"DROP TABLE if exists php_cubrid_lob_test"</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">cubrid_execute</span><span style="color: #007700">(</span><span style="color: #9876AA">$con</span><span style="color: #007700">,</span><span style="color: #DD0000">"CREATE TABLE php_cubrid_lob_test (doc_content CLOB)"</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">$sql </span><span style="color: #007700">= </span><span style="color: #DD0000">"INSERT INTO php_cubrid_lob_test(doc_content) VALUES(?)"</span><span style="color: #007700">; <br />    </span><span style="color: #9876AA">$req </span><span style="color: #007700">= </span><span style="color: #9876AA">cubrid_prepare</span><span style="color: #007700">(</span><span style="color: #9876AA">$con</span><span style="color: #007700">, </span><span style="color: #9876AA">$sql</span><span style="color: #007700">); <br /><br />    </span><span style="color: #9876AA">$fp </span><span style="color: #007700">= </span><span style="color: #9876AA">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">"book.txt"</span><span style="color: #007700">, </span><span style="color: #DD0000">"rb"</span><span style="color: #007700">);<br /><br />    </span><span style="color: #9876AA">cubrid_bind</span><span style="color: #007700">(</span><span style="color: #9876AA">$req</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">$fp</span><span style="color: #007700">, </span><span style="color: #DD0000">"clob"</span><span style="color: #007700">); <br />    </span><span style="color: #9876AA">cubrid_execute</span><span style="color: #007700">(</span><span style="color: #9876AA">$req</span><span style="color: #007700">);  <br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>  </div>  <div class="example" id="example-3365">   <p><strong>示例 #3 <span class="function"><strong style="color:#CC7832">cubrid_bind()</strong></span> BLOB/CLOB example</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$con </span><span style="color: #007700">= </span><span style="color: #9876AA">cubrid_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"localhost"</span><span style="color: #007700">, </span><span style="color: #9876AA">33000</span><span style="color: #007700">, </span><span style="color: #DD0000">"demodb"</span><span style="color: #007700">, </span><span style="color: #DD0000">"dba"</span><span style="color: #007700">, </span><span style="color: #DD0000">""</span><span style="color: #007700">);<br />if (</span><span style="color: #9876AA">$con</span><span style="color: #007700">) {<br />    </span><span style="color: #9876AA">cubrid_execute</span><span style="color: #007700">(</span><span style="color: #9876AA">$con</span><span style="color: #007700">,</span><span style="color: #DD0000">"DROP TABLE if exists php_cubrid_lob_test"</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">cubrid_execute</span><span style="color: #007700">(</span><span style="color: #9876AA">$con</span><span style="color: #007700">,</span><span style="color: #DD0000">"CREATE TABLE php_cubrid_lob_test (image BLOB)"</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">$sql </span><span style="color: #007700">= </span><span style="color: #DD0000">"INSERT INTO php_cubrid_lob_test(image) VALUES(?)"</span><span style="color: #007700">; <br />    </span><span style="color: #9876AA">$req </span><span style="color: #007700">= </span><span style="color: #9876AA">cubrid_prepare</span><span style="color: #007700">(</span><span style="color: #9876AA">$con</span><span style="color: #007700">, </span><span style="color: #9876AA">$sql</span><span style="color: #007700">); <br /><br />    </span><span style="color: #9876AA">cubrid_bind</span><span style="color: #007700">(</span><span style="color: #9876AA">$req</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #DD0000">"cubrid_logo.png"</span><span style="color: #007700">, </span><span style="color: #DD0000">"blob"</span><span style="color: #007700">); <br />    </span><span style="color: #9876AA">cubrid_execute</span><span style="color: #007700">(</span><span style="color: #9876AA">$req</span><span style="color: #007700">);  <br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>  </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.cubrid-bind-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link cubrid_execute()} - Execute a prepared SQL statement</span></li>    <li class="member"><span class="function">{@link cubrid_prepare()} - Prepare a SQL statement for execution</span></li>   </ul>  </span> </div></div>