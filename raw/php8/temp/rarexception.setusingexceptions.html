<div id="rarexception.setusingexceptions" class="refentry"> <div class="refnamediv">  <h1 class="refname">RarException::setUsingExceptions</h1>  <p class="verinfo">(PECL rar &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">RarException::setUsingExceptions</span> &mdash; <span class="dc-title">Activate and deactivate error handling with exceptions</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-rarexception.setusingexceptions-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="modifier">static</span> <span class="methodname" style="color:#CC7832"><strong>RarException::setUsingExceptions</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">bool</span> <span class="parameter" style="color:#3A95FF">$using_exceptions</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div>  <p class="para rdfs-comment">   If and only if the argument is <strong><span>true</span></strong>, then, instead of emitting warnings and returning a special value indicating error when the UnRAR library encounters an error, an exception of type <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.rarexception.php" class="type RarException" style="color:#EAB766">RarException</a></span> will be thrown.  </p>  <p class="para">   Exceptions will also be thrown for the following errors, which occur outside the library (their error code will be -1):  </p>  <ul class="itemizedlist">   <li class="listitem">    <span class="simpara">     attempting some operations on a closed <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.rararchive.php" class="type RarArchive" style="color:#EAB766">RarArchive</a></span> object or a <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.rarentry.php" class="type RarEntry" style="color:#EAB766">RarEntry</a></span> object relative to the first;    </span>   </li>      <li class="listitem">    <span class="simpara">     attempting to get an entry that does not exist with <span class="methodname" style="color:#CC7832">{@link RarArchive::getEntry()}</span>.    </span>   </li>  </ul> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-rarexception.setusingexceptions-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">using_exceptions</span></dt>     <dd>      <p class="para">       Should be <strong><span>true</span></strong> to activate exception throwing, <strong><span>false</span></strong> to deactivate (the default).      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-rarexception.setusingexceptions-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   没有返回值。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-rarexception.setusingexceptions-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="example-2468">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">RarException::setUsingExceptions()</strong></span> example</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">RarException</span><span style="color: #007700">::</span><span style="color: #9876AA">isUsingExceptions</span><span style="color: #007700">());<br /></span><span style="color: #9876AA">$arch </span><span style="color: #007700">= </span><span style="color: #9876AA">RarArchive</span><span style="color: #007700">::</span><span style="color: #9876AA">open</span><span style="color: #007700">(</span><span style="color: #DD0000">"does_not_exist.rar"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$arch</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">RarException</span><span style="color: #007700">::</span><span style="color: #9876AA">setUsingExceptions</span><span style="color: #007700">(</span><span style="color: #9876AA">true</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">RarException</span><span style="color: #007700">::</span><span style="color: #9876AA">isUsingExceptions</span><span style="color: #007700">());<br /></span><span style="color: #9876AA">$arch </span><span style="color: #007700">= </span><span style="color: #9876AA">RarArchive</span><span style="color: #007700">::</span><span style="color: #9876AA">open</span><span style="color: #007700">(</span><span style="color: #DD0000">"does_not_exist.rar"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$arch</span><span style="color: #007700">); </span><span style="color: #FF8000">//not reached<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例的输出类似于：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>bool(false)<br><br>Warning: RarArchive::open(): Failed to open does_not_exist.rar: ERAR_EOPEN (file open error) in C:\php_rar\trunk\tests\test.php on line 3<br>bool(false)<br>bool(true)<br><br>Fatal error: Uncaught exception &#039;RarException&#039; with message &#039;unRAR internal error: Failed to open does_not_exist.rar: ERAR_EOPEN (file open error)&#039; in C:\php_rar\trunk\tests\test.php:8<br>Stack trace:<br>#0 C:\php_rar\trunk\tests\test.php(8): RarArchive::open(&#039;does_not_exist....&#039;)<br>#1 {main}<br>  thrown in C:\php_rar\trunk\tests\test.php on line 8<br></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-rarexception.setusingexceptions-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="methodname" style="color:#CC7832">{@link RarException::isUsingExceptions()} - Check whether error handling with exceptions is in use</span></li>   </ul>  </span> </div></div>