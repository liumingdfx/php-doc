<div id="function.version-compare" class="refentry"> <div class="refnamediv">  <h1 class="refname">version_compare</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">version_compare</span> &mdash; <span class="dc-title">对比两个「PHP 规范化」的版本数字字符串</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.version-compare-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>version_compare</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$version1</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$version2</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$operator</span><span class="initializer"> = <strong><span>null</span></strong></span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span>|<span class="type" style="color:#EAB766">bool</span></span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">version_compare()</strong></span> 用于对比两个「PHP 规范化」的版本数字字符串。  </p>  <p class="para">   此函数首先在版本字符串里用一个点 <span>.</span> 替换 <span>_</span>、<span>-</span> 和 <span>+</span>，也会在任意非数字前后插入一个点 <span>.</span>，这样，类似 &#039;4.3.2RC1&#039; 将会变成 &#039;4.3.2.RC.1&#039;。   接下来它会分割结果，   然后它会从左往右对比各个部分。   如果某部分包含了特定的版本字符串，将会用以下顺序处理：   <span>列表中未找到的任意字符串</span> &lt;    <span>dev</span> &lt; <span>alpha</span> =   <span>a</span> &lt; <span>beta</span> =   <span>b</span> &lt; <span>RC</span> =     <span>rc</span> &lt; <span>#</span> &lt;   <span>pl</span> = <span>p</span>。      这种方式不仅能够对比类似 &#039;4.1&#039; 和 &#039;4.1.2&#039; 那种不同的版本级别，同时也可以指定对比任何包含 PHP 开发状态的版本。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.version-compare-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">version1</span></dt>     <dd>      <p class="para">       第一个版本数。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">version2</span></dt>     <dd>      <p class="para">       第二个版本数。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">operator</span></dt>     <dd>      <p class="para">       可选运算符。可能运算符有：<span>&lt;</span>、<span>lt</span>、<span>&lt;=</span>、<span>le</span>、       <span>&gt;</span>、<span>gt</span>、<span>&gt;=</span>、<span>ge</span>、<span>==</span>、       <span>=</span>、<span>eq</span>、<span>!=</span>、<span>&lt;&gt;</span>、<span>ne</span>。      </p>      <p class="para">       此参数区分大小写，它的值应该是小写的。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.version-compare-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">      默认情况下，在第一个版本低于第二个时，<span class="function"><strong style="color:#CC7832">version_compare()</strong></span> 返回 <span>-1</span>；如果两者相等，返回 <span>0</span>；第二个版本更低时则返回 <span>1</span>。  </p>  <p class="para">   当使用了可选参数 <span class="parameter" style="color:#3A95FF">operator</span> 时，如果关系是操作符所指定的那个，函数将返回 <strong><span>true</span></strong>，否则返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.version-compare-examples">  <h3 class="title">示例</h3>  <span>   下例使用了 <strong><span>PHP_VERSION</span></strong> 常量，因为它执行的代码包含了 PHP 版本的值。  </span>  <p class="para">   <div class="example" id="example-1784">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">version_compare()</strong></span> examples</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">if (</span><span style="color: #9876AA">version_compare</span><span style="color: #007700">(</span><span style="color: #9876AA">PHP_VERSION</span><span style="color: #007700">, </span><span style="color: #DD0000">'7.0.0'</span><span style="color: #007700">) &gt;= </span><span style="color: #9876AA">0</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">'I am at least PHP version 7.0.0, my version: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">PHP_VERSION </span><span style="color: #007700">. </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br />if (</span><span style="color: #9876AA">version_compare</span><span style="color: #007700">(</span><span style="color: #9876AA">PHP_VERSION</span><span style="color: #007700">, </span><span style="color: #DD0000">'5.3.0'</span><span style="color: #007700">) &gt;= </span><span style="color: #9876AA">0</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">'I am at least PHP version 5.3.0, my version: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">PHP_VERSION </span><span style="color: #007700">. </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br />if (</span><span style="color: #9876AA">version_compare</span><span style="color: #007700">(</span><span style="color: #9876AA">PHP_VERSION</span><span style="color: #007700">, </span><span style="color: #DD0000">'5.0.0'</span><span style="color: #007700">, </span><span style="color: #DD0000">'&gt;='</span><span style="color: #007700">)) {<br />    echo </span><span style="color: #DD0000">'I am at least PHP version 5.0.0, my version: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">PHP_VERSION </span><span style="color: #007700">. </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br />if (</span><span style="color: #9876AA">version_compare</span><span style="color: #007700">(</span><span style="color: #9876AA">PHP_VERSION</span><span style="color: #007700">, </span><span style="color: #DD0000">'5.0.0'</span><span style="color: #007700">, </span><span style="color: #DD0000">'&lt;'</span><span style="color: #007700">)) {<br />    echo </span><span style="color: #DD0000">'I am still PHP 4, my version: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">PHP_VERSION </span><span style="color: #007700">. </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.version-compare-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    <strong><span>PHP_VERSION</span></strong> 常量包含了当前 PHP 的版本。   </p>  </p></blockquote>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    注意，类似 5.3.0-dev 的预发行版本，被认为是低于它们的最终发行版本（就像 5.3.0）。   </p>  </p></blockquote>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    指定类似 <span>alpha</span>、<span>beta</span> 的版本字符串是大小写敏感的。    版本字符串的来源若不遵循 PHP 标准，可能需要在调用 <span class="function"><strong style="color:#CC7832">version_compare()</strong></span> 之前先用 <span class="function">{@link strtolower()}</span> 转成小写。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.version-compare-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link phpversion()} - 获取当前的PHP版本</span></li>    <li class="member"><span class="function">{@link php_uname()} - 返回运行 PHP 的系统的有关信息</span></li>    <li class="member"><span class="function">{@link function_exists()} - 如果给定的函数已经被定义就返回 true</span></li>   </ul>  </span> </div></div>