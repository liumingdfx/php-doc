<div id="function.unset" class="refentry"> <div class="refnamediv">  <h1 class="refname">unset</h1>  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">unset</span> &mdash; <span class="dc-title">清除指定变量</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.unset-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>unset</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$var</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">...$vars</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">unset()</strong></span> 销毁指定变量。  </p>  <p class="para">   <span class="function"><strong style="color:#CC7832">unset()</strong></span> 在函数中的行为会依赖于想要销毁的变量的类型而有所不同。  </p>  <p class="para">   如果在函数中 <span class="function"><strong style="color:#CC7832">unset()</strong></span>    一个全局变量，则只是局部变量被销毁，而在调用环境中的变量将保持调用   <span class="function"><strong style="color:#CC7832">unset()</strong></span> 之前一样的值。   <div class="informalexample">    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #9876AA">destroy_foo</span><span style="color: #007700">() <br />{<br />    global </span><span style="color: #9876AA">$foo</span><span style="color: #007700">;<br />    unset(</span><span style="color: #9876AA">$foo</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #9876AA">$foo </span><span style="color: #007700">= </span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">destroy_foo</span><span style="color: #007700">();<br />echo </span><span style="color: #9876AA">$foo</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p>  <p class="para">以上示例会输出：</p>  <p class="para">   <div class="informalexample">    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>bar<br></span></div>    </div>   </div>  </p>  <p class="para">   如果您想在函数中 <span class="function"><strong style="color:#CC7832">unset()</strong></span>   一个全局变量，可使用 <var class="varname"><a href="https://www.php.net/manual/zh/reserved.variables.globals.php" class="classname">$GLOBALS</a></var>   数组来实现：   <div class="informalexample">    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #9876AA">foo</span><span style="color: #007700">() <br />{<br />    unset(</span><span style="color: #9876AA">$GLOBALS</span><span style="color: #007700">[</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">]);<br />}<br /><br /></span><span style="color: #9876AA">$bar </span><span style="color: #007700">= </span><span style="color: #DD0000">"something"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">foo</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p>  <p class="para">   如果在函数中 <span class="function"><strong style="color:#CC7832">unset()</strong></span>    一个通过引用传递的变量，则只是局部变量被销毁，而在调用环境中的变量将保持调用   <span class="function"><strong style="color:#CC7832">unset()</strong></span> 之前一样的值。   <div class="informalexample">    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #9876AA">foo</span><span style="color: #007700">(&amp;</span><span style="color: #9876AA">$bar</span><span style="color: #007700">) <br />{<br />    unset(</span><span style="color: #9876AA">$bar</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">$bar </span><span style="color: #007700">= </span><span style="color: #DD0000">"blah"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #9876AA">$bar </span><span style="color: #007700">= </span><span style="color: #DD0000">'something'</span><span style="color: #007700">;<br />echo </span><span style="color: #DD0000">"</span><span style="color: #9876AA">$bar</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">foo</span><span style="color: #007700">(</span><span style="color: #9876AA">$bar</span><span style="color: #007700">);<br />echo </span><span style="color: #DD0000">"</span><span style="color: #9876AA">$bar</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p>   <p class="para">以上示例会输出：</p>  <p class="para">   <div class="informalexample">    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>something<br>something<br></span></div>    </div>   </div>  </p>  <p class="para">   如果在函数中 <span class="function"><strong style="color:#CC7832">unset()</strong></span>    一个静态变量，那么在函数内部此静态变量将被销毁。但是，当再次调用此函数时，此静态变量将被复原为上次被销毁之前的值。   <div class="informalexample">    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #9876AA">foo</span><span style="color: #007700">()<br />{<br />    static </span><span style="color: #9876AA">$bar</span><span style="color: #007700">;<br />    </span><span style="color: #9876AA">$bar</span><span style="color: #007700">++;<br />    echo </span><span style="color: #DD0000">"Before unset: </span><span style="color: #9876AA">$bar</span><span style="color: #DD0000">, "</span><span style="color: #007700">;<br />    unset(</span><span style="color: #9876AA">$bar</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">$bar </span><span style="color: #007700">= </span><span style="color: #9876AA">23</span><span style="color: #007700">;<br />    echo </span><span style="color: #DD0000">"after unset: </span><span style="color: #9876AA">$bar</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #9876AA">foo</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">foo</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">foo</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p>   <p class="para">以上示例会输出：</p>  <p class="para">   <div class="informalexample">    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Before unset: 1, after unset: 23<br>Before unset: 2, after unset: 23<br>Before unset: 3, after unset: 23<br></span></div>    </div>   </div>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.unset-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">var</span></dt>     <dd>      <p class="para">       要销毁的变量。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">vars</span></dt>     <dd>      <p class="para">       更多变量。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.unset-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   没有返回值。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.unset-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">unset()</strong></span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// 销毁单个变量<br /></span><span style="color: #007700">unset(</span><span style="color: #9876AA">$foo</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 销毁单个数组元素<br /></span><span style="color: #007700">unset(</span><span style="color: #9876AA">$bar</span><span style="color: #007700">[</span><span style="color: #DD0000">'quux'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">// 销毁一个以上的变量<br /></span><span style="color: #007700">unset(</span><span style="color: #9876AA">$foo1</span><span style="color: #007700">, </span><span style="color: #9876AA">$foo2</span><span style="color: #007700">, </span><span style="color: #9876AA">$foo3</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>   <div class="example" id="">    <p><strong>示例 #2 使用 <span>(unset)</span> 类型强制转换</strong></p>    <div class="example-contents"><p>     <a href="https://www.php.net/manual/zh/language.types.null.php#language.types.null.casting" class="link"><span>(unset)</span></a>     类型强制转换经常与函数 <span class="function"><strong style="color:#CC7832">unset()</strong></span> 引起困惑。     为了完整性，<span>(unset)</span> 是作为 <span>NULL</span> 类型的强制转换。     它不会改变变量的类型。自 PHP 7.2.0 起，弃用 (unset) 强制转换，自 8.0.0 起移除。    </p></div>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$name </span><span style="color: #007700">= </span><span style="color: #DD0000">'Felipe'</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">((unset) </span><span style="color: #9876AA">$name</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$name</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>NULL<br>string(6) &quot;Felipe&quot;<br></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.unset-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>: <span class="simpara">因为是语言构造器而不是函数，不能被<a href="https://www.php.net/manual/zh/functions.variable-functions.php" class="link">可变函数</a> 或者<a href="https://www.php.net/manual/zh/functions.arguments.php#functions.named-arguments" class="link">命名参数</a> 调用。</span></p></blockquote>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    它可以取消设置当前上下文中可见的对象属性。   </p>   <p class="para">    如果已声明，则在访问未设置的属性时调用 <a href="https://www.php.net/manual/zh/language.oop5.overloading.php#object.get" class="link">__get()</a>，    在设置未设置的属性时调用 <a href="https://www.php.net/manual/zh/language.oop5.overloading.php#object.set" class="link">__set()</a>。   </p>  </p></blockquote>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    无法在对象里销毁 <span>$this</span>。   </p>  </p></blockquote>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    在 <span class="function"><strong style="color:#CC7832">unset()</strong></span> 一个无法访问的对象属性时，如果定义了    <a href="https://www.php.net/manual/zh/language.oop5.overloading.php#object.unset" class="link">__unset()</a> 则会调用这个重载方法。   </p>  </p></blockquote> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.unset-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link isset()} - 检测变量是否已声明并且其值不为 null</span></li>    <li class="member"><span class="function">{@link empty()} - 检查变量是否为空</span></li>    <li class="member"><a href="https://www.php.net/manual/zh/language.oop5.overloading.php#object.unset" class="link">__unset()</a></li>    <li class="member"><span class="function">{@link array_splice()} - 去掉数组中的某一部分并用其它值取代</span></li>    <li class="member"><a href="https://www.php.net/manual/zh/language.types.null.php#language.types.null.casting" class="link">(unset) 强制转换</a></li>   </ul>  </span> </div></div>