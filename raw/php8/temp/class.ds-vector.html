<div id="class.ds-vector" class="reference"> <h1 class="title">The Vector class</h1>  <div class="partintro"><p class="verinfo">(PECL ds &gt;= 1.0.0)</p>  <div class="section" id="ds-vector.intro">   <h2 class="title">简介</h2>   <p class="para">    A Vector is a sequence of values in a contiguous buffer that grows and    shrinks automatically. It’s the most efficient sequential structure because    a value’s index is a direct mapping to its index in the buffer, and the    growth factor isn&#039;t bound to a specific multiple or exponent.   </p>  </div><div class="section" id="ds-vector.strengths">    <h2 class="title">Strengths</h2>    <p class="para">        <ul class="simplelist">            <li class="member">Supports array syntax (square brackets).</li>            <li class="member">Uses less overall memory than an <span class="type" style="color:#EAB766">array</span> for the same number of values.</li>            <li class="member">Automatically frees allocated memory when its size drops low enough.</li>            <li class="member">Capacity does not have to be a power of 2.</li>            <li class="member">                <span class="function"><strong style="color:#CC7832">get()</strong></span>,                <span class="function"><strong style="color:#CC7832">set()</strong></span>,                <span class="function"><strong style="color:#CC7832">push()</strong></span>,                <span class="function"><strong style="color:#CC7832">pop()</strong></span> are all O(1).            </li>        </ul>   </p></div><div class="section" id="ds-vector.weaknesses">    <h2 class="title">Weaknesses</h2>    <p class="para">        <ul class="simplelist">            <li class="member">                <span class="function"><strong style="color:#CC7832">shift()</strong></span>,                <span class="function"><strong style="color:#CC7832">unshift()</strong></span>,                <span class="function"><strong style="color:#CC7832">insert()</strong></span> and                <span class="function"><strong style="color:#CC7832">remove()</strong></span> are all O(n).            </li>        </ul>   </p></div>  <div class="section" id="ds-vector.synopsis">   <h2 class="title">类摘要</h2>   <div class="classsynopsis">    <span class="ooclass">        <strong class="classname"></strong>    </span>    <div class="classsynopsisinfo">    <span class="ooclass"><span class="modifier">class</span> <strong class="classname">Ds\Vector</strong></span>    <span class="oointerface"><span class="modifier">implements</span>  <a href="https://www.php.net/manual/zh/class.ds-sequence.php" class="interfacename">Ds\Sequence</a></span><span class="oointerface">,  <a href="https://www.php.net/manual/zh/class.arrayaccess.php" class="interfacename">ArrayAccess</a></span> {</div>    <div class="classsynopsisinfo classsynopsisinfo_comment">// 常量 </div>    <div class="fieldsynopsis">     <span class="modifier">const</span>     <span class="type" style="color:#EAB766">int</span>      <var class="fieldsynopsis_varname"><a href="https://www.php.net/manual/zh/class.ds-vector.php#ds-vector.constants.min-capacity"><var class="varname">MIN_CAPACITY</var></a></var><span class="initializer"> = 10</span>;</div>    <div class="classsynopsisinfo classsynopsisinfo_comment">// 方法 </div>    <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.allocate.php" class="methodname" style="color:#CC7832">allocate</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$capacity</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.apply.php" class="methodname" style="color:#CC7832">apply</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.callable.php" class="type callable" style="color:#EAB766">callable</a></span> <span class="parameter" style="color:#3A95FF">$callback</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.capacity.php" class="methodname" style="color:#CC7832">capacity</a></span>(): <span class="type" style="color:#EAB766">int</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.clear.php" class="methodname" style="color:#CC7832">clear</a></span>(): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.contains.php" class="methodname" style="color:#CC7832">contains</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">...$values</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.copy.php" class="methodname" style="color:#CC7832">copy</a></span>(): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.ds-vector.php" class="type Ds\Vector" style="color:#EAB766">Ds\Vector</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.filter.php" class="methodname" style="color:#CC7832">filter</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.callable.php" class="type callable" style="color:#EAB766">callable</a></span> <span class="parameter" style="color:#3A95FF">$callback</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.ds-vector.php" class="type Ds\Vector" style="color:#EAB766">Ds\Vector</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.find.php" class="methodname" style="color:#CC7832">find</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$value</span></span>): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.first.php" class="methodname" style="color:#CC7832">first</a></span>(): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.get.php" class="methodname" style="color:#CC7832">get</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$index</span></span>): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.insert.php" class="methodname" style="color:#CC7832">insert</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$index</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">...$values</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.isempty.php" class="methodname" style="color:#CC7832">isEmpty</a></span>(): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.join.php" class="methodname" style="color:#CC7832">join</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$glue</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">string</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.last.php" class="methodname" style="color:#CC7832">last</a></span>(): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.map.php" class="methodname" style="color:#CC7832">map</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.callable.php" class="type callable" style="color:#EAB766">callable</a></span> <span class="parameter" style="color:#3A95FF">$callback</span></span>): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.ds-vector.php" class="type Ds\Vector" style="color:#EAB766">Ds\Vector</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.merge.php" class="methodname" style="color:#CC7832">merge</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$values</span></span>): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.ds-vector.php" class="type Ds\Vector" style="color:#EAB766">Ds\Vector</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.pop.php" class="methodname" style="color:#CC7832">pop</a></span>(): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.push.php" class="methodname" style="color:#CC7832">push</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">...$values</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.reduce.php" class="methodname" style="color:#CC7832">reduce</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.callable.php" class="type callable" style="color:#EAB766">callable</a></span> <span class="parameter" style="color:#3A95FF">$callback</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$initial</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.remove.php" class="methodname" style="color:#CC7832">remove</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$index</span></span>): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.reverse.php" class="methodname" style="color:#CC7832">reverse</a></span>(): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.reversed.php" class="methodname" style="color:#CC7832">reversed</a></span>(): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.ds-vector.php" class="type Ds\Vector" style="color:#EAB766">Ds\Vector</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.rotate.php" class="methodname" style="color:#CC7832">rotate</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$rotations</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.set.php" class="methodname" style="color:#CC7832">set</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$index</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$value</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.shift.php" class="methodname" style="color:#CC7832">shift</a></span>(): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.slice.php" class="methodname" style="color:#CC7832">slice</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$index</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$length</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.ds-vector.php" class="type Ds\Vector" style="color:#EAB766">Ds\Vector</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.sort.php" class="methodname" style="color:#CC7832">sort</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.callable.php" class="type callable" style="color:#EAB766">callable</a></span> <span class="parameter" style="color:#3A95FF">$comparator</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.sorted.php" class="methodname" style="color:#CC7832">sorted</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.callable.php" class="type callable" style="color:#EAB766">callable</a></span> <span class="parameter" style="color:#3A95FF">$comparator</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.ds-vector.php" class="type Ds\Vector" style="color:#EAB766">Ds\Vector</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.sum.php" class="methodname" style="color:#CC7832">sum</a></span>(): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span>|<span class="type" style="color:#EAB766">float</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.toarray.php" class="methodname" style="color:#CC7832">toArray</a></span>(): <span class="type" style="color:#EAB766">array</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/ds-vector.unshift.php" class="methodname" style="color:#CC7832">unshift</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$values</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div>   }</div>  </div>  <div class="section" id="ds-vector.constants">   <h2 class="title">预定义常量</h2>   <dl>         <dt id="ds-vector.constants.min-capacity"><strong><span>Ds\Vector::MIN_CAPACITY</span></strong></dt>     <dd>      <p class="para"/>     </dd>       </dl>  </div>  <div class="section">   <h2 class="title">更新日志</h2>   <p class="para">    <table class="doctable informaltable">           <thead>       <tr>        <th>版本</th>        <th>说明</th>       </tr>      </thead>      <tbody class="tbody">       <tr>        <td>PECL ds 1.3.0</td>        <td>         The class now implements <span class="classname"><a href="https://www.php.net/manual/zh/class.arrayaccess.php" class="classname">ArrayAccess</a></span>.        </td>       </tr>      </tbody>         </table>   </p>  </div> </div> <h2>目录</h2><ul class="chunklist chunklist_reference"><li>{@link Ds\Vector::allocate} — Allocates enough memory for a required capacity</li><li>{@link Ds\Vector::apply} — Updates all values by applying a callback function to each value</li><li>{@link Ds\Vector::capacity} — Returns the current capacity</li><li>{@link Ds\Vector::clear} — Removes all values</li><li>{@link Ds\Vector::__construct} — Creates a new instance</li><li>{@link Ds\Vector::contains} — Determines if the vector contains given values</li><li>{@link Ds\Vector::copy} — Returns a shallow copy of the vector</li><li>{@link Ds\Vector::count} — Returns the number of values in the collection</li><li>{@link Ds\Vector::filter} — Creates a new vector using a callable to    determine which values to include</li><li>{@link Ds\Vector::find} — Attempts to find a value's index</li><li>{@link Ds\Vector::first} — Returns the first value in the vector</li><li>{@link Ds\Vector::get} — Returns the value at a given index</li><li>{@link Ds\Vector::insert} — Inserts values at a given index</li><li>{@link Ds\Vector::isEmpty} — Returns whether the vector is empty</li><li>{@link Ds\Vector::join} — Joins all values together as a string</li><li>{@link Ds\Vector::jsonSerialize} — Returns a representation that can be converted to JSON</li><li>{@link Ds\Vector::last} — Returns the last value</li><li>{@link Ds\Vector::map} — Returns the result of applying a callback to each value</li><li>{@link Ds\Vector::merge} — Returns the result of adding all given values to the vector</li><li>{@link Ds\Vector::pop} — Removes and returns the last value</li><li>{@link Ds\Vector::push} — Adds values to the end of the vector</li><li>{@link Ds\Vector::reduce} — Reduces the vector to a single value using a callback function</li><li>{@link Ds\Vector::remove} — Removes and returns a value by index</li><li>{@link Ds\Vector::reverse} — Reverses the vector in-place</li><li>{@link Ds\Vector::reversed} — Returns a reversed copy</li><li>{@link Ds\Vector::rotate} — Rotates the vector by a given number of rotations</li><li>{@link Ds\Vector::set} — Updates a value at a given index</li><li>{@link Ds\Vector::shift} — Removes and returns the first value</li><li>{@link Ds\Vector::slice} — Returns a sub-vector of a given range</li><li>{@link Ds\Vector::sort} — Sorts the vector in-place</li><li>{@link Ds\Vector::sorted} — Returns a sorted copy</li><li>{@link Ds\Vector::sum} — Returns the sum of all values in the vector</li><li>{@link Ds\Vector::toArray} — Converts the vector to an array</li><li>{@link Ds\Vector::unshift} — Adds values to the front of the vector</li></ul></div>