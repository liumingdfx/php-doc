<div id="solrclient.setresponsewriter" class="refentry"> <div class="refnamediv">  <h1 class="refname">SolrClient::setResponseWriter</h1>  <p class="verinfo">(PECL solr &gt;= 0.9.11)</p><p class="refpurpose"><span class="refname">SolrClient::setResponseWriter</span> &mdash; <span class="dc-title">Sets the response writer used to prepare the response from Solr</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-solrclient.setresponsewriter-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>SolrClient::setResponseWriter</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$responseWriter</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div>  <p class="para rdfs-comment">   Sets the response writer used to prepare the response from Solr  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-solrclient.setresponsewriter-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">responseWriter</span></dt>     <dd>      <p class="para">One of the following:</p>      <ul class="simplelist">       <li class="member"><span>json</span></li>       <li class="member"><span>phps</span></li>       <li class="member"><span>xml</span></li>      </ul>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-solrclient.setresponsewriter-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">  没有返回值。  </p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-solrclient.setresponsewriter-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="methodname" style="color:#CC7832"><strong>SolrClient::setResponseWriter()</strong></span> example</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">// This is my custom class for objects<br /></span><span style="color: #007700">class </span><span style="color: #9876AA">SolrClass<br /></span><span style="color: #007700">{<br />   public </span><span style="color: #9876AA">$_properties </span><span style="color: #007700">= array();<br /><br />   public function </span><span style="color: #9876AA">__get</span><span style="color: #007700">(</span><span style="color: #9876AA">$property_name</span><span style="color: #007700">) {<br />      <br />      if (</span><span style="color: #9876AA">property_exists</span><span style="color: #007700">(</span><span style="color: #9876AA">$this</span><span style="color: #007700">, </span><span style="color: #9876AA">$property_name</span><span style="color: #007700">)) {<br />      <br />          return </span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">$property_name</span><span style="color: #007700">;<br />      <br />      } else if (isset(</span><span style="color: #9876AA">$_properties</span><span style="color: #007700">[</span><span style="color: #9876AA">$property_name</span><span style="color: #007700">])) {<br />      <br />          return </span><span style="color: #9876AA">$_properties</span><span style="color: #007700">[</span><span style="color: #9876AA">$property_name</span><span style="color: #007700">];<br />      }<br />      <br />      return </span><span style="color: #9876AA">null</span><span style="color: #007700">;<br />   }<br />}<br /><br /></span><span style="color: #9876AA">$options </span><span style="color: #007700">= array<br />(<br />  </span><span style="color: #DD0000">'hostname' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,<br />  </span><span style="color: #DD0000">'port' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">8983</span><span style="color: #007700">,<br />  </span><span style="color: #DD0000">'path' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'/solr/core1'<br /></span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$client </span><span style="color: #007700">= new </span><span style="color: #9876AA">SolrClient</span><span style="color: #007700">(</span><span style="color: #9876AA">$options</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$client</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setResponseWriter</span><span style="color: #007700">(</span><span style="color: #DD0000">"json"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//$response = $client-&gt;ping();<br /><br /></span><span style="color: #9876AA">$query </span><span style="color: #007700">= new </span><span style="color: #9876AA">SolrQuery</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">$query</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setQuery</span><span style="color: #007700">(</span><span style="color: #DD0000">"*:*"</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$query</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">set</span><span style="color: #007700">(</span><span style="color: #DD0000">"objectClassName"</span><span style="color: #007700">, </span><span style="color: #DD0000">"SolrClass"</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$query</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">set</span><span style="color: #007700">(</span><span style="color: #DD0000">"objectPropertiesStorageMode"</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">); </span><span style="color: #FF8000">// 0 for independent properties, 1 for combined<br /><br /></span><span style="color: #007700">try<br />{<br /><br /></span><span style="color: #9876AA">$response </span><span style="color: #007700">= </span><span style="color: #9876AA">$client</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">query</span><span style="color: #007700">(</span><span style="color: #9876AA">$query</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$resp </span><span style="color: #007700">= </span><span style="color: #9876AA">$response</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getResponse</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">print_r</span><span style="color: #007700">(</span><span style="color: #9876AA">$response</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">print_r</span><span style="color: #007700">(</span><span style="color: #9876AA">$resp</span><span style="color: #007700">);<br /><br />} catch (</span><span style="color: #9876AA">Exception $e</span><span style="color: #007700">) {<br /><br /></span><span style="color: #9876AA">print_r</span><span style="color: #007700">(</span><span style="color: #9876AA">$e</span><span style="color: #007700">);<br /><br />}<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div></div>