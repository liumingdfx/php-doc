<div id="function.virtual" class="refentry"> <div class="refnamediv">  <h1 class="refname">virtual</h1>  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">virtual</span> &mdash; <span class="dc-title">执行 Apache 子请求</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.virtual-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>virtual</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$uri</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">virtual()</strong></span> 是一个 Apache 特有函数，   类似于   <span>mod_include</span> 中的 <span>&lt;!--#include virtual...--&gt;</span>。   它执行一个 Apache 子请求。可用于包含一个   CGI 脚本或 <var class="filename">.shtml</var> 文件，或任何其它可通过   Apache 解析的请求。注意对一个 CGI 脚本，该脚本   生成合法的 CGI 头，至少必须   生成<span>Content-Type</span> 头。  </p>  <p class="para">   为运行子请求，所有缓冲将中止并刷新至浏览器，包括头信息。  </p>  <p class="simpara">仅在 PHP 以 Apache 模块运行时，才支持此函数。 </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.virtual-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">uri</span></dt>     <dd>      <p class="para">       virtual命令将执行的文件      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.virtual-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功执行 virtual 命令，或失败时返回 <strong><span>false</span></strong> 。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.virtual-examples">  <h3 class="title">示例</h3>  <span>   示例请看 <span class="function">{@link apache_note()}</span> 。  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.virtual-notes">  <h3 class="title">注释</h3>  <div class="warning"><strong class="warning">警告</strong>   <p class="para">    查询字符串可被传递至被包含文件，但是    <var class="varname"><a href="https://www.php.net/manual/zh/reserved.variables.get.php" class="classname">$_GET</a></var> 是拷贝于父文件，仅有    <var class="varname"><a href="https://www.php.net/manual/zh/reserved.variables.server.php" class="classname">$_SERVER['QUERY_STRING']</a></var> 将填充传递入的查询字符串。    且此查询字符串只在使用 Apache 2 时被填充。    此请求文件将不会显示在 Apache 访问日志中。   </p>  </div>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    在被请求文件中设置的环境变量在原请求文件中不可见。   </p>  </p></blockquote>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    此函数可以用于 PHP 文件。然而一般来说对 PHP 文件最好是使用     <span class="function">{@link include}</span> 或者 <span class="function">{@link require}</span>。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.virtual-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link apache_note()} - 取得或设置 apache 请求记录</span></li>   </ul>  </span> </div></div>