<div id="snmp.construct" class="refentry"> <div class="refnamediv">  <h1 class="refname">SNMP::__construct</h1>  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SNMP::__construct</span> &mdash; <span class="dc-title">Creates SNMP instance representing session to remote <abbr title="Simple Network Management Protocol">SNMP</abbr> agent</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-snmp.construct-description">  <h3 class="title">说明</h3>  <div class="constructorsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>SNMP::__construct</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$version</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$hostname</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$community</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$timeout</span><span class="initializer"> = -1</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$retries</span><span class="initializer"> = -1</span></span><br>)</div>  <p class="para rdfs-comment">   The function description goes here.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-snmp.construct-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">version</span></dt>    <dd>     <span>      <abbr title="Simple Network Management Protocol">SNMP</abbr> protocol version:      <strong><span>SNMP::VERSION_1</span></strong>,       <strong><span>SNMP::VERSION_2C</span></strong>,       <strong><span>SNMP::VERSION_3</span></strong>.     </span>    </dd>          <dt><span class="parameter" style="color:#3A95FF">hostname</span></dt>    <dd>     <p class="para">      The <abbr title="Simple Network Management Protocol">SNMP</abbr> agent. <span class="parameter" style="color:#3A95FF">hostname</span> may be suffixed with      optional <abbr title="Simple Network Management Protocol">SNMP</abbr> agent port after colon. IPv6 addresses must be enclosed in square      brackets if used with port. If FQDN is used for <span class="parameter" style="color:#3A95FF">hostname</span>      it will be resolved by php-snmp library, not by Net-SNMP engine. Usage      of IPv6 addresses when specifying FQDN may be forced by enclosing FQDN      into square brackets. Here it is some examples:     <table class="doctable table">                   <tbody class="tbody">        <tr><td>IPv4 with default port</td><td>127.0.0.1</td></tr>        <tr><td>IPv6 with default port</td><td>::1 or [::1]</td></tr>        <tr><td>IPv4 with specific port</td><td>127.0.0.1:1161</td></tr>        <tr><td>IPv6 with specific port</td><td>[::1]:1161</td></tr>        <tr><td>FQDN with default port</td><td>host.domain</td></tr>        <tr><td>FQDN with specific port</td><td>host.domain:1161</td></tr>        <tr><td>FQDN with default port, force usage of IPv6 address</td><td>[host.domain]</td></tr>        <tr><td>FQDN with specific port, force usage of IPv6 address</td><td>[host.domain]:1161</td></tr>       </tbody>           </table>     </p>    </dd>          <dt><span class="parameter" style="color:#3A95FF">community</span></dt>    <dd>     <p class="para">The purpuse of <span class="parameter" style="color:#3A95FF">community</span> is     <abbr title="Simple Network Management Protocol">SNMP</abbr> version specific:</p>     <table class="doctable table">                   <tbody class="tbody">        <tr><td>SNMP::VERSION_1</td><td><abbr title="Simple Network Management Protocol">SNMP</abbr> community</td></tr>        <tr><td>SNMP::VERSION_2C</td><td><abbr title="Simple Network Management Protocol">SNMP</abbr> community</td></tr>        <tr><td>SNMP::VERSION_3</td><td><abbr title="Simple Network Management Protocol">SNMP</abbr>v3 securityName</td></tr>       </tbody>           </table>    </dd>            <dt><span class="parameter" style="color:#3A95FF">timeout</span></dt>     <dd>      <p class="para">       The number of microseconds until the first timeout.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">retries</span></dt>     <dd>      <p class="para">       The number of retries in case timeout occurs.      </p>     </dd>      </dl> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 errors" id="refsect1-snmp.construct-errors">  <h3 class="title">错误／异常</h3>  <p class="para">   <span class="methodname" style="color:#CC7832"><strong>SNMP::__construct()</strong></span> throws an exception when   parameters count or types are wrong or unknown <abbr title="Simple Network Management Protocol">SNMP</abbr>   protocol version specified.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-snmp.construct-examples">  <h3 class="title">示例</h3>  <div class="example" id="">   <p><strong>示例 #1 Fetching sysLocation</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />  $session </span><span style="color: #007700">= new </span><span style="color: #9876AA">SNMP</span><span style="color: #007700">(</span><span style="color: #9876AA">SNMP</span><span style="color: #007700">::</span><span style="color: #9876AA">VERSION_1</span><span style="color: #007700">, </span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">, </span><span style="color: #DD0000">"public"</span><span style="color: #007700">);<br />  </span><span style="color: #9876AA">$sysdescr </span><span style="color: #007700">= </span><span style="color: #9876AA">$session</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">get</span><span style="color: #007700">(</span><span style="color: #DD0000">"sysDescr.0"</span><span style="color: #007700">);<br />  echo </span><span style="color: #DD0000">"</span><span style="color: #9876AA">$sysdescr</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>   <div class="example-contents"><p>以上示例的输出类似于：</p></div>   <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>STRING: Test server<br></span></div>   </div>  </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-snmp.construct-seealso">  <h3 class="title">参见</h3>  <ul class="simplelist">   <li class="member"><span class="methodname" style="color:#CC7832">{@link SNMP::close()} - Close SNMP session</span></li>  </ul> </div></div>