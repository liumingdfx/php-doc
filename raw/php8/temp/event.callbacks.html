<div id="event.callbacks" class="chapter"> <h1>Event callbacks</h1> <p class="para">  If a callback is registered for an event, it will be called when the event  becomes active. To associate a callback with event one can pass a  <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.callable.php" class="type callable" style="color:#EAB766">callable</a></span>  to either  <span class="methodname" style="color:#CC7832">{@link Event::__construct()}</span>  , or  <span class="methodname" style="color:#CC7832">{@link Event::set()}</span>  , or one of the factory methods like  <span class="methodname" style="color:#CC7832">{@link Event::timer()}</span>  . </p> <p class="para">  An event callback should match the following prototype: </p> <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>callback</strong></span>(<span class="methodparam">   <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span>    <span class="parameter" style="color:#3A95FF">$fd</span>   <span class="initializer"> = <strong><span>null</span></strong></span>  </span>, <span class="methodparam">   <span class="type" style="color:#EAB766">int</span>    <span class="parameter" style="color:#3A95FF">$what</span>  <span class="initializer"> = ?</span></span>, <span class="methodparam">   <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span>    <span class="parameter" style="color:#3A95FF">$arg</span>   <span class="initializer"> = <strong><span>null</span></strong></span>  </span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div> <p class="para">  <dl>       <dt>     <span class="parameter" style="color:#3A95FF">fd</span>    </dt>    <dd>     <p class="para">      The file descriptor, stream resource or socket associated with the      event. For signal event      <span class="parameter" style="color:#3A95FF">fd</span>      is equal to the signal number.     </p>    </dd>          <dt>     <span class="parameter" style="color:#3A95FF">what</span>    </dt>    <dd>     <p class="para">      Bit mask of      <em>all</em>      events triggered.     </p>    </dd>          <dt>     <span class="parameter" style="color:#3A95FF">arg</span>    </dt>    <dd>     <p class="para">      User custom data.     </p>    </dd>     </dl> </p> <p class="para">  <span class="methodname" style="color:#CC7832">{@link Event::timer()}</span>  expects the callback to match the following prototype: </p> <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>callback</strong></span>(<span class="methodparam">   <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span>    <span class="parameter" style="color:#3A95FF">$arg</span>   <span class="initializer"> = <strong><span>null</span></strong></span>  </span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div> <p class="para">  <dl>       <dt>     <span class="parameter" style="color:#3A95FF">arg</span>    </dt>    <dd>     <p class="para">      User custom data.     </p>    </dd>     </dl> </p> <p class="para">  <span class="methodname" style="color:#CC7832">{@link Event::signal()}</span>  expects the callback to match the following prototype: </p> <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>callback</strong></span>(<span class="methodparam">   <span class="type" style="color:#EAB766">int</span>    <span class="parameter" style="color:#3A95FF">$signum</span>  <span class="initializer"> = ?</span></span>, <span class="methodparam">   <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span>    <span class="parameter" style="color:#3A95FF">$arg</span>   <span class="initializer"> = <strong><span>null</span></strong></span>  </span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div> <p class="para">  <dl>       <dt>     <span class="parameter" style="color:#3A95FF">signum</span>    </dt>    <dd>     <p class="para">      The number of the triggered signal(e.g.      <strong><span>SIGTERM</span></strong>      ).     </p>    </dd>          <dt>     <span class="parameter" style="color:#3A95FF">arg</span>    </dt>    <dd>     <p class="para">      User custom data.     </p>    </dd>     </dl> </p></div>