<div id="soapclient.construct" class="refentry"> <div class="refnamediv">  <h1 class="refname">SoapClient::__construct</h1>  <p class="verinfo">(PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SoapClient::__construct</span> &mdash; <span class="dc-title">SoapClient constructor</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-soapclient.construct-description">  <h3 class="title">说明</h3>  <div class="constructorsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>SoapClient::__construct</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$wsdl</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$options</span><span class="initializer"> = []</span></span>)</div>  <p class="para rdfs-comment">   Creates a <span class="classname"><a href="https://www.php.net/manual/zh/class.soapclient.php" class="classname">SoapClient</a></span> object to connect to a SOAP service.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-soapclient.construct-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">wsdl</span></dt>     <dd>      <p class="para">       URI of a WSDL file describing the service, which is used to automatically       configure the client. If not provided, the client will operate in non-WSDL       mode.      </p>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <p class="para">        By default, the WSDL file will be cached for performance. To disable        or configure this caching, see        <a href="https://www.php.net/manual/zh/" class="link">SOAP 配置选项</a>        and the <a href="https://www.php.net/manual/zh/soapclient.construct.php#soapclient.construct.options.cache-wsdl" class="link">        <span>cache_wsdl</span> option</a>.       </p>      </p></blockquote>     </dd>             <dt><span class="parameter" style="color:#3A95FF">options</span></dt>     <dd>      <p class="para">       An associative array specifying additional options for the SOAP client.       If <span class="parameter" style="color:#3A95FF">wsdl</span> is provided, this is optional; otherwise,       at least <span>location</span> and <span>url</span> must be       provided.       <dl>                 <dt id="soapclient.construct.options.location">          <span class="parameter" style="color:#3A95FF">location</span>          <span class="type" style="color:#EAB766">string</span>         </dt>         <dd>          <p class="para">           The URL of the SOAP server to send the request to.          </p>          <p class="para">           Required if the <span class="parameter" style="color:#3A95FF">wsdl</span> parameter is not provided.           If both a <span class="parameter" style="color:#3A95FF">wsdl</span> parameter and           <span>location</span> option are provided, the           <span>location</span> option will over-ride any location           specified in the WSDL file.          </p>         </dd>                         <dt id="soapclient.construct.options.uri">          <span class="parameter" style="color:#3A95FF">uri</span>          <span class="type" style="color:#EAB766">string</span>         </dt>         <dd>          <p class="para">           The target namespace of the SOAP service.          </p>          <p class="para">           Required if the <span class="parameter" style="color:#3A95FF">wsdl</span> parameter is not provided;           ignored otherwise.          </p>         </dd>                         <dt id="soapclient.construct.options.style">          <span class="parameter" style="color:#3A95FF">style</span>          <span class="type" style="color:#EAB766">int</span>         </dt>         <dd>          <p class="para">           Specifies the binding style to use for this client, using the constants           <strong><span>SOAP_RPC</span></strong> and <strong><span>SOAP_DOCUMENT</span></strong>.           <strong><span>SOAP_RPC</span></strong> indicates RPC-style binding, where the           SOAP request body contains a standard encoding of a function call.           <strong><span>SOAP_DOCUMENT</span></strong> indicates document-style binding,           where the SOAP request body contains an XML document with           service-defined meaning.          </p>          <p class="para">           If the <span class="parameter" style="color:#3A95FF">wsdl</span> parameter is provided, this           option is ignored, and the style is read from the WSDL file.          </p>          <p class="para">           If neither this option nor the <span class="parameter" style="color:#3A95FF">wsdl</span> parameter           is provided, RPC-style is used.          </p>         </dd>                         <dt id="soapclient.construct.options.use">          <span class="parameter" style="color:#3A95FF">use</span>          <span class="type" style="color:#EAB766">int</span>         </dt>         <dd>          <p class="para">           Specifies the encoding style to use for this client, using the           constants <strong><span>SOAP_ENCODED</span></strong> or <strong><span>SOAP_LITERAL</span></strong>.           <strong><span>SOAP_ENCODED</span></strong> indicates encoding using the types           defined in the SOAP specification.           <strong><span>SOAP_LITERAL</span></strong> indicates encoding using a schema           defined by the service.          </p>          <p class="para">           If the <span class="parameter" style="color:#3A95FF">wsdl</span> parameter is provided, this           option is ignored, and the encoding is read from the WSDL file.          </p>          <p class="para">           If neither this option nor the <span class="parameter" style="color:#3A95FF">wsdl</span> parameter           is provided, the &quot;encoded&quot; style is used.          </p>         </dd>                         <dt id="soapclient.construct.options.soap-version">          <span class="parameter" style="color:#3A95FF">soap_version</span>          <span class="type" style="color:#EAB766">int</span>         </dt>         <dd>          <p class="para">           Specifies the version of the SOAP protocol to use:           <strong><span>SOAP_1_1</span></strong> for SOAP 1.1,           or <strong><span>SOAP_1_2</span></strong> for SOAP 1.2.          </p>          <p class="para">           If omitted, SOAP 1.1 is used.          </p>         </dd>                         <dt id="soapclient.construct.options.authentication">          <span class="parameter" style="color:#3A95FF">authentication</span>          <span class="type" style="color:#EAB766">int</span>         </dt>         <dd>          <p class="para">           Specifies the authentication method when using HTTP authentication           in requests. The value may be either           <strong><span>SOAP_AUTHENTICATION_BASIC</span></strong>           or <strong><span>SOAP_AUTHENTICATION_DIGEST</span></strong>.          </p>          <p class="para">           If omitted, and the <span>login</span> option is provided,           Basic Authentication is used.          </p>         </dd>                         <dt id="soapclient.construct.options.login">          <span class="parameter" style="color:#3A95FF">login</span>          <span class="type" style="color:#EAB766">string</span>         </dt>         <dd>          <p class="para">           Username to use with HTTP Basic or Digest Authentication.          </p>         </dd>                         <dt id="soapclient.construct.options.password">          <span class="parameter" style="color:#3A95FF">password</span>          <span class="type" style="color:#EAB766">string</span>         </dt>         <dd>          <p class="para">           Password to use with HTTP Basic or Digest Authentication.          </p>          <p class="para">           Not to be confused with <span>passphrase</span>,           which is used with HTTPS Client Certificate authentication.          </p>         </dd>                         <dt id="soapclient.construct.options.local-cert">          <span class="parameter" style="color:#3A95FF">local_cert</span>          <span class="type" style="color:#EAB766">string</span>         </dt>         <dd>          <p class="para">           Path to a client certificate for use with HTTPS authentication.           It must be a <abbr title="Privacy-Enhanced Mail">PEM</abbr> encoded file which contains your certificate           and private key.          </p>          <p class="para">           The file can also include a chain of issuers, which must come           after the client certificate.          </p>          <p class="para">           Can also be set via           <a href="https://www.php.net/manual/zh/soapclient.construct.php#soapclient.construct.options.stream-context" class="link">           <span class="parameter" style="color:#3A95FF">stream_context</span></a>,           which also supports specifying a separate private key file.          </p>         </dd>                         <dt id="soapclient.construct.options.passphrase">          <span class="parameter" style="color:#3A95FF">passphrase</span>          <span class="type" style="color:#EAB766">string</span>         </dt>         <dd>          <p class="para">           Passphrase for the client certificate specified in the           <span>local_cert</span> option.          </p>          <p class="para">           Not to be confused with <span>password</span>,           which is used for Basic or Digest Authentication.          </p>          <p class="para">           Can also be set via           <a href="https://www.php.net/manual/zh/soapclient.construct.php#soapclient.construct.options.stream-context" class="link">           <span class="parameter" style="color:#3A95FF">stream_context</span></a>.          </p>         </dd>                         <dt id="soapclient.construct.options.proxy-host">          <span class="parameter" style="color:#3A95FF">proxy_host</span>          <span class="type" style="color:#EAB766">string</span>         </dt>         <dd>          <p class="para">           Hostname to use as a proxy server for HTTP requests.          </p>          <p class="para">           The <span>proxy_port</span> option must also be specified.          </p>         </dd>                         <dt id="soapclient.construct.options.proxy-port">          <span class="parameter" style="color:#3A95FF">proxy_port</span>          <span class="type" style="color:#EAB766">int</span>         </dt>         <dd>          <p class="para">           TCP port to use when connecting to the proxy server           specified in <span>proxy_host</span>.          </p>         </dd>                         <dt id="soapclient.construct.options.proxy-login">          <span class="parameter" style="color:#3A95FF">proxy_login</span>          <span class="type" style="color:#EAB766">string</span>         </dt>         <dd>          <p class="para">           Optional username to authenticate with the proxy server           specified in <span>proxy_host</span>, using HTTP           Basic Authentication.          </p>         </dd>                         <dt id="soapclient.construct.options.proxy-password">          <span class="parameter" style="color:#3A95FF">proxy_password</span>          <span class="type" style="color:#EAB766">string</span>         </dt>         <dd>          <p class="para">           Optional password to authenticate with the proxy server           specified in <span>proxy_host</span>, using HTTP           Basic Authentication.          </p>         </dd>                         <dt id="soapclient.construct.options.compression">          <span class="parameter" style="color:#3A95FF">compression</span>          <span class="type" style="color:#EAB766">int</span>         </dt>         <dd>          <p class="para">           Enables compression of HTTP SOAP requests and responses.          </p>          <p class="para">           The value should be the bitwise OR of three parts:           an optional <strong><span>SOAP_COMPRESSION_ACCEPT</span></strong>,           to send an &quot;Accept-Encoding&quot; header; either           <strong><span>SOAP_COMPRESSION_GZIP</span></strong>           or <strong><span>SOAP_COMPRESSION_DEFLATE</span></strong> to indicate           the compression algorithm to use; and a number between 1 and 9           to indicate the level of compression to use in the request.           For example, to enable two-way gzip compression with the maximum           compression level, use           <span>SOAP_COMPRESSION_ACCEPT | SOAP_COMPRESSION_GZIP | 9</span>.          </p>         </dd>                         <dt id="soapclient.construct.options.encoding">          <span class="parameter" style="color:#3A95FF">encoding</span>          <span class="type" style="color:#EAB766">string</span>         </dt>         <dd>          <p class="para">           Defines the internal character encoding. Requests are always sent           in UTF-8, and converted to and from this encoding.          </p>         </dd>                         <dt id="soapclient.construct.options.trace">          <span class="parameter" style="color:#3A95FF">trace</span>          <span class="type" style="color:#EAB766">bool</span>         </dt>         <dd>          <p class="para">           Captures request and response information, which can then be           accessed with the methods           <span class="methodname" style="color:#CC7832">{@link SoapClient::__getLastRequest()}</span>,           <span class="methodname" style="color:#CC7832">{@link SoapClient::__getLastRequestHeaders()}</span>,           <span class="methodname" style="color:#CC7832">{@link SoapClient::__getLastResponse()}</span>,           and <span class="methodname" style="color:#CC7832">{@link SoapClient::__getLastResponseHeaders()}</span>.          </p>          <p class="para">           If omitted, defaults to <strong><span>false</span></strong>          </p>         </dd>                         <dt id="soapclient.construct.options.classmap">          <span class="parameter" style="color:#3A95FF">classmap</span>          <span class="type" style="color:#EAB766">array</span>         </dt>         <dd>          <p class="para">           Used to map types defined in the WSDL to PHP classes.           It should be specified as an associative <span class="type" style="color:#EAB766">array</span> with           type names from the WSDL as keys and names of PHP classes as values.           Note that the type names of an element is not necessarily the same as           the element (tag) name.          </p>          <p class="para">           The provided class names should always be fully qualified with any           <a href="https://www.php.net/manual/zh/language.namespaces.php" class="link">namespaces</a>, and never           start with a leading <span>\</span>. The correct form can be           generated by using           {@link ::class}.          </p>          <p class="para">           Note that when creating a class, the constructor will not be called,           but magic <a href="https://www.php.net/manual/zh/language.oop5.overloading.php#object.set" class="link">__set()</a> and           <a href="https://www.php.net/manual/zh/language.oop5.overloading.php#object.get" class="link">__get()</a> methods for individual           properties will be.          </p>         </dd>                         <dt id="soapclient.construct.options.typemap">          <span class="parameter" style="color:#3A95FF">typemap</span>          <span class="type" style="color:#EAB766">array</span>         </dt>         <dd>          <p class="para">           Used to define type mappings using user-defined callback functions.           Each type mapping should be an array with keys           <span>type_name</span> (<span class="type" style="color:#EAB766">string</span> specifying the           XML element type);           <span>type_ns</span> (<span class="type" style="color:#EAB766">string</span> containing namespace           URI);           <span>from_xml</span> (<span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.callable.php" class="type callable" style="color:#EAB766">callable</a></span> accepting one           string parameter and returning an object) and           <span>to_xml</span> (<span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.callable.php" class="type callable" style="color:#EAB766">callable</a></span> accepting one           object parameter and returning a string).          </p>         </dd>                         <dt id="soapclient.construct.options.exceptions">          <span class="parameter" style="color:#3A95FF">exceptions</span>          <span class="type" style="color:#EAB766">bool</span>         </dt>         <dd>          <p class="para">           Defines whether errors throw exceptions of type           <span class="classname"><a href="https://www.php.net/manual/zh/class.soapfault.php" class="classname">SoapFault</a></span>.          </p>          <p class="para">           Defaults to <strong><span>true</span></strong>          </p>         </dd>                         <dt id="soapclient.construct.options.connection-timeout">          <span class="parameter" style="color:#3A95FF">connection_timeout</span>          <span class="type" style="color:#EAB766">int</span>         </dt>         <dd>          <p class="para">           Defines a timeout in seconds for the connection to the SOAP service.           This option does not define a timeout for services with slow responses.           To limit the time to wait for calls to finish the           <a href="https://www.php.net/manual/zh/filesystem.configuration.php#ini.default-socket-timeout" class="link">default_socket_timeout</a>           configuration option is available.          </p>         </dd>                         <dt id="soapclient.construct.options.cache-wsdl">          <span class="parameter" style="color:#3A95FF">cache_wsdl</span>          <span class="type" style="color:#EAB766">int</span>         </dt>         <dd>          <p class="para">           If the <span class="parameter" style="color:#3A95FF">wsdl</span> parameter is provided, and the           <a href="https://www.php.net/manual/zh/soap.configuration.php#ini.soap.wsdl-cache-enabled" class="link">soap.wsdl_cache_enabled</a>           configuration option is on, this option determines the type of caching.           One of <strong><span>WSDL_CACHE_NONE</span></strong>,           <strong><span>WSDL_CACHE_DISK</span></strong>,           <strong><span>WSDL_CACHE_MEMORY</span></strong> or           <strong><span>WSDL_CACHE_BOTH</span></strong>.          </p>          <p class="para">           Two types of cache are available: in-memory caching, which caches the WSDL           in the memory of the current process; and disk caching, which caches the           WSDL in a file on disk, shared between all processes.           The directory to use for the disk cache is determined by the           <a href="https://www.php.net/manual/zh/soap.configuration.php#ini.soap.wsdl-cache-dir" class="link">soap.wsdl_cache_dir</a>           configuration option.           Both caches use the same lifetime, determined by the           <a href="https://www.php.net/manual/zh/soap.configuration.php#ini.soap.wsdl-cache-ttl" class="link">soap.wsdl_cache_ttl</a>           configuration option. The in-memory cache also has a maximum number of entries           determined by the           <a href="https://www.php.net/manual/zh/soap.configuration.php#ini.soap.wsdl-cache-limit" class="link">soap.wsdl_cache_limit</a>           configuration option.          </p>          <p class="para">           If not specified, the <a href="https://www.php.net/manual/zh/soap.configuration.php#ini.soap.wsdl-cache" class="link">           soap.wsdl_cache</a> configuration option will be used.          </p>         </dd>                         <dt id="soapclient.construct.options.user-agent">          <span class="parameter" style="color:#3A95FF">user_agent</span>          <span class="type" style="color:#EAB766">string</span>         </dt>         <dd>          <p class="para">           The value to use in the <span>User-Agent</span> HTTP header           when making requests.          </p>          <p class="para">           Can also be set via <a href="https://www.php.net/manual/zh/soapclient.construct.php#soapclient.construct.options.stream-context" class="link">           <span class="parameter" style="color:#3A95FF">stream_context</span></a>.          </p>          <p class="para">           If not specified, the user agent will be <span>&quot;PHP-SOAP/&quot;</span>           followed by the value of <strong><span>PHP_VERSION</span></strong>.          </p>         </dd>                         <dt id="soapclient.construct.options.stream-context">          <span class="parameter" style="color:#3A95FF">stream_context</span>          <span class="type" style="color:#EAB766">resource</span>         </dt>         <dd>          <p class="para">           A <a href="https://www.php.net/manual/zh/context.php" class="link">stream context</a> created by           <span class="function">{@link stream_context_create()}</span>, which allows additional           options to be set.          </p>          <p class="para">           The context may include <a href="https://www.php.net/manual/zh/context.socket.php" class="link">socket context options</a>,           <a href="https://www.php.net/manual/zh/context.ssl.php" class="link">SSL context options</a>,           plus selected <a href="https://www.php.net/manual/zh/context.http.php" class="link">HTTP context options</a>:           <span>content_type</span>, <span>header</span>,           <span>max_redirects</span>, <span>protocol_version</span>,           and <span>user_agent</span>.          </p>          <p class="para">           Note that the following HTTP headers are generated automatically or from other           options, and will be ignored if specified in the <span>&#039;header&#039;</span>           context option: <span>host</span>, <span>connection</span>,           <span>user-agent</span>, <span>content-length</span>,           <span>content-type</span>, <span>cookie</span>,           <span>authorization</span>, and <span>proxy-authorization</span>          </p>         </dd>                         <dt id="soapclient.construct.options.features">          <span class="parameter" style="color:#3A95FF">features</span>          <span class="type" style="color:#EAB766">int</span>         </dt>         <dd>          <p class="para">           A bitmask to enable one or more of the following features:           <dl>                         <dt>              <strong><span>SOAP_SINGLE_ELEMENT_ARRAYS</span></strong>             </dt>             <dd>              <p class="para">               When decoding a response to an array, the default behaviour is to detect whether               an element name appears once or multiple times in a particular parent element.               For elements which appear only once, an object property allows direct access to               the content; for elements which appear more than once, the property contains an               array with the content of each matching element.              </p>              <p class="para">               If the <strong><span>SOAP_SINGLE_ELEMENT_ARRAYS</span></strong> feature is enabled,               elements which appear only once are placed in a single-element array, so that               access is consistent for all elements. This only has an effect when using a WSDL               containing a schema for the response. See Examples section for an illustration.              </p>             </dd>                                     <dt>              <strong><span>SOAP_USE_XSI_ARRAY_TYPE</span></strong>             </dt>             <dd>              <p class="para">               When the <a href="https://www.php.net/manual/zh/soapclient.construct.php#soapclient.construct.options.use" class="link"><span>use</span>               option</a> or WSDL property is set to <span>encoded</span>,               force arrays to use a type of <span>SOAP-ENC:Array</span>, rather than a               schema-specific type.              </p>             </dd>                                     <dt>              <strong><span>SOAP_WAIT_ONE_WAY_CALLS</span></strong>             </dt>             <dd>              <p class="para">               Wait for a response even if the WSDL indicates a one-way request.              </p>             </dd>                       </dl>          </p>         </dd>                         <dt id="soapclient.construct.options.keep-alive">          <span class="parameter" style="color:#3A95FF">keep_alive</span>          <span class="type" style="color:#EAB766">bool</span>         </dt>         <dd>          <p class="para">           a boolean value defining whether           to send the <span>Connection: Keep-Alive</span> header or           <span>Connection: close</span>.          </p>          <p class="para">           Defaults to <strong><span>true</span></strong>          </p>         </dd>                         <dt id="soapclient.construct.options.ssl-method">          <span class="parameter" style="color:#3A95FF">ssl_method</span>          <span class="type" style="color:#EAB766">string</span>         </dt>         <dd>          <p class="para">           Specifies the SSL or TLS protocol version to use with secure HTTP           connections, instead of the default negotiation.           Specifying <strong><span>SOAP_SSL_METHOD_SSLv2</span></strong>           or <strong><span>SOAP_SSL_METHOD_SSLv3</span></strong> will force use of SSL 2           or SSL 3, respectively.           Specifying <strong><span>SOAP_SSL_METHOD_SSLv23</span></strong> has no effect;           the constant exists only for backwards compatibility.           As of PHP 7.2, specifying <strong><span>SOAP_SSL_METHOD_TLS</span></strong>           also has no effect; in earlier versions, it forced use of TLS 1.0.          </p>          <p class="para">           Note that SSL versions 2 and 3 are considered insecure, and may not           be supported by the installed OpenSSL library.          </p>          <p class="para">           This option is <em>DEPRECATED</em> as of PHP 8.1.0.           A more flexible alternative, which allows specifying           individual versions of TLS, is to use the           <a href="https://www.php.net/manual/zh/soapclient.construct.php#soapclient.construct.options.stream-context" class="link">           <span class="parameter" style="color:#3A95FF">stream_context</span></a> option with           the &#039;crypto_method&#039; context parameter.           <div class="example" id="">            <p><strong>示例 #1 Specifying use of TLS 1.3 only</strong></p>            <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$context </span><span style="color: #007700">= </span><span style="color: #9876AA">stream_context_create</span><span style="color: #007700">([<br />    </span><span style="color: #DD0000">'ssl' </span><span style="color: #007700">=&gt; [<br />        </span><span style="color: #DD0000">'crypto_method' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">STREAM_CRYPTO_METHOD_TLSv1_3_CLIENT<br />     </span><span style="color: #007700">]<br />]);<br /></span><span style="color: #9876AA">$client </span><span style="color: #007700">= new </span><span style="color: #9876AA">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"some.wsdl"</span><span style="color: #007700">, [</span><span style="color: #DD0000">'context' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">$context</span><span style="color: #007700">]);</span></span></span></div>            </div>           </div>          </p>         </dd>               </dl>      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 errors" id="refsect1-soapclient.construct-errors">  <h3 class="title">错误／异常</h3>  <p class="para">   <span class="methodname" style="color:#CC7832"><strong>SoapClient::__construct()</strong></span> will generate an   <strong><span>E_ERROR</span></strong> error if the <span>location</span> and   <span>uri</span> options aren&#039;t provided in non-WSDL mode.  </p>  <p class="para">   A <span class="classname"><a href="https://www.php.net/manual/zh/class.soapfault.php" class="classname">SoapFault</a></span> exception will be thrown if the   <span class="parameter" style="color:#3A95FF">wsdl</span> URI cannot be loaded.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-soapclient.construct-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #2      <span class="methodname" style="color:#CC7832"><strong>SoapClient::__construct()</strong></span> example    </strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$client </span><span style="color: #007700">= new </span><span style="color: #9876AA">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"some.wsdl"</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$client </span><span style="color: #007700">= new </span><span style="color: #9876AA">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"some.wsdl"</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'soap_version'   </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">SOAP_1_2</span><span style="color: #007700">));<br /><br /></span><span style="color: #9876AA">$client </span><span style="color: #007700">= new </span><span style="color: #9876AA">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"some.wsdl"</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'login'          </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"some_name"</span><span style="color: #007700">,<br />                                            </span><span style="color: #DD0000">'password'       </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"some_password"</span><span style="color: #007700">));<br /><br /></span><span style="color: #9876AA">$client </span><span style="color: #007700">= new </span><span style="color: #9876AA">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"some.wsdl"</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'proxy_host'     </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"localhost"</span><span style="color: #007700">,<br />                                            </span><span style="color: #DD0000">'proxy_port'     </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">8080</span><span style="color: #007700">));<br /><br /></span><span style="color: #9876AA">$client </span><span style="color: #007700">= new </span><span style="color: #9876AA">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"some.wsdl"</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'proxy_host'     </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"localhost"</span><span style="color: #007700">,<br />                                            </span><span style="color: #DD0000">'proxy_port'     </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">8080</span><span style="color: #007700">,<br />                                            </span><span style="color: #DD0000">'proxy_login'    </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"some_name"</span><span style="color: #007700">,<br />                                            </span><span style="color: #DD0000">'proxy_password' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"some_password"</span><span style="color: #007700">));<br /><br /></span><span style="color: #9876AA">$client </span><span style="color: #007700">= new </span><span style="color: #9876AA">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"some.wsdl"</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'local_cert'     </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"cert_key.pem"</span><span style="color: #007700">));<br /><br /></span><span style="color: #9876AA">$client </span><span style="color: #007700">= new </span><span style="color: #9876AA">SoapClient</span><span style="color: #007700">(</span><span style="color: #9876AA">null</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'location' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"http://localhost/soap.php"</span><span style="color: #007700">,<br />                                     </span><span style="color: #DD0000">'uri'      </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"http://test-uri/"</span><span style="color: #007700">));<br /><br /></span><span style="color: #9876AA">$client </span><span style="color: #007700">= new </span><span style="color: #9876AA">SoapClient</span><span style="color: #007700">(</span><span style="color: #9876AA">null</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'location' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"http://localhost/soap.php"</span><span style="color: #007700">,<br />                                     </span><span style="color: #DD0000">'uri'      </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"http://test-uri/"</span><span style="color: #007700">,<br />                                     </span><span style="color: #DD0000">'style'    </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">SOAP_DOCUMENT</span><span style="color: #007700">,<br />                                     </span><span style="color: #DD0000">'use'      </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">SOAP_LITERAL</span><span style="color: #007700">));<br /><br /></span><span style="color: #9876AA">$client </span><span style="color: #007700">= new </span><span style="color: #9876AA">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"some.wsdl"</span><span style="color: #007700">,<br />  array(</span><span style="color: #DD0000">'compression' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">SOAP_COMPRESSION_ACCEPT </span><span style="color: #007700">| </span><span style="color: #9876AA">SOAP_COMPRESSION_GZIP </span><span style="color: #007700">| </span><span style="color: #9876AA">9</span><span style="color: #007700">));<br /><br /></span><span style="color: #9876AA">$client </span><span style="color: #007700">= new </span><span style="color: #9876AA">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"some.wsdl"</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'encoding'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'ISO-8859-1'</span><span style="color: #007700">));<br /><br />class </span><span style="color: #9876AA">MyBook </span><span style="color: #007700">{<br />    public </span><span style="color: #9876AA">$title</span><span style="color: #007700">;<br />    public </span><span style="color: #9876AA">$author</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #9876AA">$client </span><span style="color: #007700">= new </span><span style="color: #9876AA">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"books.wsdl"</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'classmap' </span><span style="color: #007700">=&gt; array(</span><span style="color: #DD0000">'book' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"MyBook"</span><span style="color: #007700">)));<br /><br /></span><span style="color: #9876AA">$typemap </span><span style="color: #007700">= array(<br />    array(</span><span style="color: #DD0000">"type_ns"  </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"http://schemas.example.com"</span><span style="color: #007700">,<br />         </span><span style="color: #DD0000">"type_name" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"book"</span><span style="color: #007700">,<br />         </span><span style="color: #DD0000">"from_xml"  </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"unserialize_book"</span><span style="color: #007700">,<br />         </span><span style="color: #DD0000">"to_xml"    </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"serialize_book"</span><span style="color: #007700">)<br />);<br /></span><span style="color: #9876AA">$client </span><span style="color: #007700">= new </span><span style="color: #9876AA">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"books.wsdl"</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'typemap' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">$typemap</span><span style="color: #007700">));<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #3 Using the <strong><span>SOAP_SINGLE_ELEMENT_ARRAYS</span></strong> feature</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000">// Assuming a response like this, and an appropriate WSDL:<br />&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br />&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns="urn:example"&gt;<br />    &lt;SOAP-ENV:Body&gt;<br />        &lt;response&gt;<br />            &lt;collection&gt;<br />                &lt;item&gt;Single&lt;/item&gt;<br />            &lt;/collection&gt;<br />            &lt;collection&gt;<br />                &lt;item&gt;First&lt;/item&gt;<br />                &lt;item&gt;Second&lt;/item&gt;<br />            &lt;/collection&gt;<br />        &lt;/response&gt;<br />    &lt;/SOAP-ENV:Body&gt;<br />&lt;/SOAP-ENV:Envelope&gt;<br /><br /><br />echo "Default:\n";<br /><br />$client = new TestSoapClient(__DIR__ . '/temp.wsdl');<br />$response = $client-&gt;exampleRequest();<br />var_dump( $response-&gt;collection[0]-&gt;item );<br />var_dump( $response-&gt;collection[1]-&gt;item );<br /><br />echo "\nWith SOAP_SINGLE_ELEMENT_ARRAYS:\n";<br /><br />$client = new TestSoapClient(__DIR__ . '/temp.wsdl', ['features' =&gt; SOAP_SINGLE_ELEMENT_ARRAYS]);<br />$response = $client-&gt;exampleRequest();<br />var_dump( $response-&gt;collection[0]-&gt;item );<br />var_dump( $response-&gt;collection[1]-&gt;item );</span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Default:<br>string(6) &quot;Single&quot;<br>array(2) {<br>  [0] =&gt;<br>  string(5) &quot;First&quot;<br>  [1] =&gt;<br>  string(6) &quot;Second&quot;<br>}<br><br>With SOAP_SINGLE_ELEMENT_ARRAYS:<br>array(1) {<br>  [0] =&gt;<br>  string(6) &quot;Single&quot;<br>}<br>array(2) {<br>  [0] =&gt;<br>  string(5) &quot;First&quot;<br>  [1] =&gt;<br>  string(6) &quot;Second&quot;<br>}<br></span></div>    </div>   </div>  </p> </div></div>