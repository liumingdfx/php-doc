<div id="reserved.variables.server" class="refentry"> <div class="refnamediv">  <h1 class="refname">$_SERVER</h1>  <p class="refpurpose"><span class="refname">$_SERVER</span> &mdash; <span class="dc-title">服务器和执行环境信息</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-reserved.variables.server-description">  <h3 class="title">说明</h3>  <p class="para">   <var class="varname">$_SERVER</var> 是一个包含了诸如头信息（header）、路径（path）、以及脚本位置（script locations）等信息的   <span class="type" style="color:#EAB766">array</span>。这个数组中的条目由 Web 服务器创建，所以不能保证每个 Web   服务器都提供全部条目；服务器可能会忽略一些，或者提供此处没有列举出来的其它内容。然而，大部分变量在   <a href="http://www.faqs.org/rfcs/rfc3875" class="link external">&raquo;&nbsp;CGI 1.1 规范</a>中都有说明，并且很可能会定义。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <span class="simpara">    当在<a href="https://www.php.net/manual/zh/features.commandline.php" class="link">命令行</a>运行 PHP    时，这些条目都将无效或者没有任何意义。   </span>  </p></blockquote>  <p class="para">   除了下面列出的元素之外，PHP 还将使用请求报头中的值创建其它元素，这些条目将命名为 <span>HTTP_</span>   后跟报头名称，大写且使用下划线而不是连字符。例如 <span>Accept-Language</span> 报头将作为   <span>$_SERVER[&#039;HTTP_ACCEPT_LANGUAGE&#039;]</span> 提供。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 indices" id="refsect1-reserved.variables.server-indices">  <h3 class="title">目录</h3>  <p class="para">   <dl>         <dt>&#039;<var class="varname">PHP_SELF</var>&#039;</dt>     <dd>      <span class="simpara">       当前执行脚本的文件名，与 document root 有关。例如，在地址为 <var class="filename">http://example.com/foo/bar.php</var> 的脚本中使用 <var class="varname">$_SERVER['PHP_SELF']</var> 将得到 <var class="filename">/foo/bar.php</var>。<a href="https://www.php.net/manual/zh/language.constants.predefined.php" class="link">__FILE__</a> 常量包含当前(例如包含)文件的完整路径和文件名。      </span>      <span class="simpara">       如果 PHP 以命令行模式运行，这个变量将包含脚本名。      </span>     </dd>             <dt>&#039;<a href="https://www.php.net/manual/zh/reserved.variables.argv.php" class="link">argv</a>&#039;</dt>     <dd>      <span class="simpara">        传递给该脚本的参数的数组。当脚本以命令行方式运行时，argv 变量传递给程序 C 语言样式的命令行参数。当通过 GET 方式调用时，该变量包含query string。      </span>     </dd>             <dt>&#039;<a href="https://www.php.net/manual/zh/reserved.variables.argc.php" class="link">argc</a>&#039;</dt>     <dd>      <span class="simpara">       包含命令行模式下传递给该脚本的参数的数目(如果运行在命令行模式下)。      </span>     </dd>             <dt>&#039;<var class="varname">GATEWAY_INTERFACE</var>&#039;</dt>     <dd>      <span class="simpara">       服务器使用的 CGI 规范的版本；例如，<span>&#039;CGI/1.1&#039;</span>。      </span>     </dd>             <dt>&#039;<var class="varname">SERVER_ADDR</var>&#039;</dt>     <dd>      <span class="simpara">       当前运行脚本所在的服务器的 IP 地址。      </span>     </dd>             <dt>&#039;<var class="varname">SERVER_NAME</var>&#039;</dt>     <dd>      <span class="simpara">       当前运行脚本所在的服务器的主机名。如果脚本运行于虚拟主机中，该名称是由那个虚拟主机所设置的值决定。      </span>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <span class="simpara">        在 Apache 2 里，必须设置 <span>UseCanonicalName = On</span> 和        <span>ServerName</span>。否则该值会由客户端提供，就有可能被伪造。上下文有安全性要求的环境里，不应该依赖此值。       </span>      </p></blockquote>     </dd>             <dt>&#039;<var class="varname">SERVER_SOFTWARE</var>&#039;</dt>     <dd>      <span class="simpara">       服务器标识字符串，在响应请求时的头信息中给出。      </span>     </dd>             <dt>&#039;<var class="varname">SERVER_PROTOCOL</var>&#039;</dt>     <dd>      <span class="simpara">       请求页面时通信协议的名称和版本。例如，<span>&#039;HTTP/1.0&#039;</span>。      </span>     </dd>                 <dt>&#039;<var class="varname">REQUEST_METHOD</var>&#039;</dt>     <dd>      <span class="simpara">       访问页面使用的请求方法；例如，<span>&#039;GET&#039;</span>、<span>&#039;HEAD&#039;</span>、<span>&#039;POST&#039;</span>、<span>&#039;PUT&#039;</span>。      </span>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <p class="para">        如果请求方法为 <span>HEAD</span>，PHP 脚本将在发送 Header 头信息之后终止(这意味着在产生任何输出后，不再有输出缓冲)。       </p>      </p></blockquote>     </dd>             <dt>&#039;<var class="varname">REQUEST_TIME</var>&#039;</dt>     <dd>      <span class="simpara">       请求开始时的时间戳。      </span>     </dd>                 <dt>&#039;<var class="varname">REQUEST_TIME_FLOAT</var>&#039;</dt>     <dd>      <span class="simpara">       请求开始时的时间戳，微秒级别的精准度。      </span>     </dd>                  <dt>&#039;<var class="varname">QUERY_STRING</var>&#039;</dt>     <dd>      <span class="simpara">       query string（查询字符串），如果有的话，通过它进行页面访问。      </span>     </dd>             <dt>&#039;<var class="varname">DOCUMENT_ROOT</var>&#039;</dt>     <dd>      <span class="simpara">       当前运行脚本所在的文档根目录。在服务器配置文件中定义。      </span>     </dd>             <dt>&#039;<var class="varname">HTTPS</var>&#039;</dt>     <dd>      <span class="simpara">      如果脚本是通过 HTTPS 协议被访问，则被设为一个非空的值。       </span>     </dd>             <dt>&#039;<var class="varname">REMOTE_ADDR</var>&#039;</dt>     <dd>      <span class="simpara">       浏览当前页面的用户的 IP 地址。      </span>     </dd>             <dt>&#039;<var class="varname">REMOTE_HOST</var>&#039;</dt>     <dd>      <span class="simpara">       浏览当前页面的用户的主机名。DNS 反向解析不依赖于用户的 <var class="varname">REMOTE_ADDR</var>。      </span>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <span class="simpara">        必须配置 Web 服务器以创建这个变量。例如在 Apache 中，<span>HostnameLookups On</span>        必须在 <var class="filename">httpd.conf</var> 中设置才能存在。参见 <span class="function">{@link gethostbyaddr()}</span>。       </span>      </p></blockquote>     </dd>             <dt>&#039;<var class="varname">REMOTE_PORT</var>&#039;</dt>     <dd>      <span class="simpara">       用户机器上连接到 Web 服务器所使用的端口号。      </span>     </dd>             <dt>&#039;<var class="varname">REMOTE_USER</var>&#039;</dt>     <dd>      <span class="simpara">        经验证的用户      </span>     </dd>             <dt>&#039;<var class="varname">REDIRECT_REMOTE_USER</var>&#039;</dt>     <dd>      <span class="simpara">        验证的用户，如果请求已在内部重定向。      </span>     </dd>             <dt>&#039;<var class="varname">SCRIPT_FILENAME</var>&#039;</dt>     <dd>      <p class="para">       当前执行脚本的绝对路径。       <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:         <p class="para">         如果在命令行界面（Command Line Interface, CLI）使用相对路径执行脚本，例如 <var class="filename">file.php</var> 或 <var class="filename">../file.php</var>，那么 <var class="varname">$_SERVER['SCRIPT_FILENAME']</var> 将包含用户指定的相对路径。        </p>       </p></blockquote>      </p>     </dd>             <dt>&#039;<var class="varname">SERVER_ADMIN</var>&#039;</dt>     <dd>      <span class="simpara">       该值指明了 Apache 服务器配置文件中的 SERVER_ADMIN 参数。如果脚本运行在一个虚拟主机上，则该值是那个虚拟主机的值。       </span>     </dd>                 <dt>&#039;<var class="varname">SERVER_PORT</var>&#039;</dt>     <dd>      <span class="simpara">        Web 服务器使用的端口。默认值为 <span>&#039;80&#039;</span>。如果使用 SSL 安全连接，则这个值为用户设置的 HTTP 端口。      </span>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <span class="simpara">        在 Apache 2 里，为了获取真实物理端口，必须设置 <span>UseCanonicalName = On</span> 以及        <span>UseCanonicalPhysicalPort = On</span>，否则可能伪造此值，不一定会返回真实端口值。        上下文有安全性要求的环境里，不应该依赖此值。       </span>      </p></blockquote>     </dd>             <dt>&#039;<var class="varname">SERVER_SIGNATURE</var>&#039;</dt>     <dd>      <span class="simpara">       包含了服务器版本和虚拟主机名的字符串。      </span>     </dd>             <dt>&#039;<var class="varname">PATH_TRANSLATED</var>&#039;</dt>     <dd>      <span class="simpara">       当前脚本所在文件系统（非文档根目录）的基本路径。这是在服务器进行虚拟到真实路径的映像后的结果。      </span>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <span class="simpara">        Apache 2 用户可以在 <var class="filename">httpd.conf</var> 中设置 <span>AcceptPathInfo = On</span> 来定义 <var class="envar">PATH_INFO</var>。       </span>      </p></blockquote>     </dd>             <dt>&#039;<var class="varname">SCRIPT_NAME</var>&#039;</dt>     <dd>      <span class="simpara">       包含当前脚本的路径。这在页面需要指向自己时非常有用。<a href="https://www.php.net/manual/zh/language.constants.predefined.php" class="link">__FILE__</a> 常量包含当前脚本(例如包含文件)的完整路径和文件名。      </span>     </dd>             <dt>&#039;<var class="varname">REQUEST_URI</var>&#039;</dt>     <dd>      <span class="simpara">       URI 用来指定要访问的页面。例如 “<span>/index.html</span>”。      </span>     </dd>             <dt>&#039;<var class="varname">PHP_AUTH_DIGEST</var>&#039;</dt>     <dd>      <span class="simpara">       当作为 Apache 模块运行时，进行 HTTP Digest 认证的过程中，此变量被设置成客户端发送的“Authorization” HTTP 头内容（以便作进一步的认证操作）。       </span>     </dd>             <dt>&#039;<var class="varname">PHP_AUTH_USER</var>&#039;</dt>     <dd>      <span class="simpara">       当 PHP 运行在 Apache 或 IIS（PHP 5 是 ISAPI）模块方式下，并且正在使用 HTTP 认证功能，这个变量便是用户输入的用户名。      </span>     </dd>             <dt>&#039;<var class="varname">PHP_AUTH_PW</var>&#039;</dt>     <dd>      <span class="simpara">       当 PHP 运行在 Apache 或 IIS（PHP 5 是 ISAPI）模块方式下，并且正在使用 HTTP 认证功能，这个变量便是用户输入的密码。       </span>     </dd>             <dt>&#039;<var class="varname">AUTH_TYPE</var>&#039;</dt>     <dd>      <span class="simpara">       当 PHP 运行在 Apache 模块方式下，并且正在使用 HTTP 认证功能，这个变量便是认证的类型。      </span>     </dd>             <dt>&#039;<var class="varname">PATH_INFO</var>&#039;</dt>     <dd>      <span class="simpara">       如果存在的话，包含由客户端提供的、跟在真实脚本名称之后并且在查询字符串之前的路径信息。例如，如果当前脚本是通过       URI <var class="filename">http://www.example.com/php/path_info.php/some/stuff?foo=bar</var> 访问，那么       <var class="varname">$_SERVER['PATH_INFO']</var> 将包含 <span>/some/stuff</span>。      </span>     </dd>             <dt>&#039;<var class="varname">ORIG_PATH_INFO</var>&#039;</dt>     <dd>      <span class="simpara">       在被 PHP 处理之前，“<var class="varname">PATH_INFO</var>” 的原始版本。      </span>     </dd>       </dl>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-reserved.variables.server-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="example-1082">    <p><strong>示例 #1 <var class="varname">$_SERVER</var> 范例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SERVER_NAME'</span><span style="color: #007700">];<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例的输出类似于：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>www.example.com<br></span></div>    </div>   </div>  </span> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-reserved.variables.server-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>: <p class="para">“Superglobal”也称为自动化的全局变量。这就表示其在脚本的所有作用域中都是可用的。不需要在函数或方法中用<strong class="command">global $variable;</strong> 来访问它。</p></p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-reserved.variables.server-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><a href="https://www.php.net/manual/zh/book.filter.php" class="link">过滤器扩展</a></li>   </ul>  </span> </div></div>