<div id="function.json-encode" class="refentry"> <div class="refnamediv">  <h1 class="refname">json_encode</h1>  <p class="verinfo">(PHP 5 &gt;= 5.2.0, PHP 7, PHP 8, PECL json &gt;= 1.2.0)</p><p class="refpurpose"><span class="refname">json_encode</span> &mdash; <span class="dc-title">对变量进行 JSON 编码</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.json-encode-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>json_encode</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$value</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span><span class="initializer"> = 0</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$depth</span><span class="initializer"> = 512</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   返回字符串，包含了 <span class="parameter" style="color:#3A95FF">value</span> 值 JSON 形式的表示。如果参数是 <span class="type" style="color:#EAB766">array</span> 或 <span class="type" style="color:#EAB766">object</span>，则会递归序列化。  </p>  <p class="para">   如果要序列化的值是对象，则默认仅包含公开可见的属性，或者类可以实现 <span class="interfacename"><a href="https://www.php.net/manual/zh/class.jsonserializable.php" class="interfacename">JsonSerializable</a></span>   控制其值如何序列化为 <abbr title="JavaScript Object Notation">JSON</abbr>。  </p>  <p class="para">   编码受传入的 <span class="parameter" style="color:#3A95FF">flags</span> 参数影响，此外浮点值的编码依赖于 <a href="https://www.php.net/manual/zh/ini.core.php#ini.serialize-precision" class="link">serialize_precision</a>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.json-encode-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">value</span></dt>     <dd>      <p class="para">       待编码的 <span class="parameter" style="color:#3A95FF">value</span> ，除了 <a href="https://www.php.net/manual/zh/language.types.resource.php" class="link">resource</a>       类型之外，可以为任何数据类型。      </p>      <p class="para">       所有字符串数据的编码必须是 UTF-8。      </p>       <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:   <p class="para">   PHP 实现了 JSON 的一个超集，参考   <a href="http://www.faqs.org/rfcs/rfc7159" class="link external">&raquo;&nbsp;RFC 7159</a>.  </p> </p></blockquote>     </dd>             <dt><span class="parameter" style="color:#3A95FF">flags</span></dt>     <dd>      <p class="para">       由以下常量组成的二进制掩码：       <strong><span>JSON_FORCE_OBJECT</span></strong>、       <strong><span>JSON_HEX_QUOT</span></strong>、       <strong><span>JSON_HEX_TAG</span></strong>、       <strong><span>JSON_HEX_AMP</span></strong>、       <strong><span>JSON_HEX_APOS</span></strong>、       <strong><span>JSON_INVALID_UTF8_IGNORE</span></strong>、       <strong><span>JSON_INVALID_UTF8_SUBSTITUTE</span></strong>、       <strong><span>JSON_NUMERIC_CHECK</span></strong>、       <strong><span>JSON_PARTIAL_OUTPUT_ON_ERROR</span></strong>、       <strong><span>JSON_PRESERVE_ZERO_FRACTION</span></strong>、       <strong><span>JSON_PRETTY_PRINT</span></strong>、       <strong><span>JSON_UNESCAPED_LINE_TERMINATORS</span></strong>、       <strong><span>JSON_UNESCAPED_SLASHES</span></strong>、       <strong><span>JSON_UNESCAPED_UNICODE</span></strong>、       <strong><span>JSON_THROW_ON_ERROR</span></strong>。       关于 JSON 常量详情参考       <a href="https://www.php.net/manual/zh/json.constants.php" class="link">JSON 常量</a>页面。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">depth</span></dt>     <dd>      <p class="para">       设置最大深度。 必须大于0。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.json-encode-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功则返回 JSON 编码的 <span class="type" style="color:#EAB766">string</span>  或者在失败时返回 <strong><span>false</span></strong> 。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.json-encode-changelog">  <h3 class="title">更新日志</h3>  <span>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>     </thead>     <tbody class="tbody">      <tr>       <td>7.3.0</td>       <td>        <span class="parameter" style="color:#3A95FF">flags</span> 参数新增        <strong><span>JSON_THROW_ON_ERROR</span></strong>        常量。       </td>      </tr>      <tr>       <td>7.2.0</td>       <td>        <span class="parameter" style="color:#3A95FF">flags</span> 参数新增        <strong><span>JSON_INVALID_UTF8_IGNORE</span></strong> 和        <strong><span>JSON_INVALID_UTF8_SUBSTITUTE</span></strong>        常量。       </td>      </tr>      <tr>       <td>7.1.0</td>       <td>        <span class="parameter" style="color:#3A95FF">flags</span> 参数新增        <strong><span>JSON_UNESCAPED_LINE_TERMINATORS</span></strong>        常量。       </td>      </tr>      <tr>       <td>7.1.0</td>       <td>        对 <span class="type" style="color:#EAB766">float</span> 值进行编码时，使用        <a href="https://www.php.net/manual/zh/ini.core.php#ini.serialize-precision" class="link">serialize_precision</a> 代替        <a href="https://www.php.net/manual/zh/ini.core.php#ini.precision" class="link">precision</a>。       </td>      </tr>     </tbody>       </table>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.json-encode-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">json_encode()</strong></span> 例子</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$arr </span><span style="color: #007700">= array (</span><span style="color: #DD0000">'a'</span><span style="color: #007700">=&gt;</span><span style="color: #9876AA">1</span><span style="color: #007700">,</span><span style="color: #DD0000">'b'</span><span style="color: #007700">=&gt;</span><span style="color: #9876AA">2</span><span style="color: #007700">,</span><span style="color: #DD0000">'c'</span><span style="color: #007700">=&gt;</span><span style="color: #9876AA">3</span><span style="color: #007700">,</span><span style="color: #DD0000">'d'</span><span style="color: #007700">=&gt;</span><span style="color: #9876AA">4</span><span style="color: #007700">,</span><span style="color: #DD0000">'e'</span><span style="color: #007700">=&gt;</span><span style="color: #9876AA">5</span><span style="color: #007700">);<br /><br />echo </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$arr</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>{&quot;a&quot;:1,&quot;b&quot;:2,&quot;c&quot;:3,&quot;d&quot;:4,&quot;e&quot;:5}<br></span></div>    </div>   </div>      <div class="example" id="">    <p><strong>示例 #2  <span class="function"><strong style="color:#CC7832">json_encode()</strong></span> 函数中 flags 参数的用法</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$a </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'&lt;foo&gt;'</span><span style="color: #007700">,</span><span style="color: #DD0000">"'bar'"</span><span style="color: #007700">,</span><span style="color: #DD0000">'"baz"'</span><span style="color: #007700">,</span><span style="color: #DD0000">'&amp;blong&amp;'</span><span style="color: #007700">, </span><span style="color: #DD0000">"\xc3\xa9"</span><span style="color: #007700">);<br /><br />echo </span><span style="color: #DD0000">"Normal: "</span><span style="color: #007700">,  </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$a</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #DD0000">"Tags: "</span><span style="color: #007700">,    </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$a</span><span style="color: #007700">, </span><span style="color: #9876AA">JSON_HEX_TAG</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #DD0000">"Apos: "</span><span style="color: #007700">,    </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$a</span><span style="color: #007700">, </span><span style="color: #9876AA">JSON_HEX_APOS</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #DD0000">"Quot: "</span><span style="color: #007700">,    </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$a</span><span style="color: #007700">, </span><span style="color: #9876AA">JSON_HEX_QUOT</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #DD0000">"Amp: "</span><span style="color: #007700">,     </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$a</span><span style="color: #007700">, </span><span style="color: #9876AA">JSON_HEX_AMP</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #DD0000">"Unicode: "</span><span style="color: #007700">, </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$a</span><span style="color: #007700">, </span><span style="color: #9876AA">JSON_UNESCAPED_UNICODE</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #DD0000">"All: "</span><span style="color: #007700">,     </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$a</span><span style="color: #007700">, </span><span style="color: #9876AA">JSON_HEX_TAG </span><span style="color: #007700">| </span><span style="color: #9876AA">JSON_HEX_APOS </span><span style="color: #007700">| </span><span style="color: #9876AA">JSON_HEX_QUOT </span><span style="color: #007700">| </span><span style="color: #9876AA">JSON_HEX_AMP </span><span style="color: #007700">| </span><span style="color: #9876AA">JSON_UNESCAPED_UNICODE</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">$b </span><span style="color: #007700">= array();<br /><br />echo </span><span style="color: #DD0000">"Empty array output as array: "</span><span style="color: #007700">, </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$b</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #DD0000">"Empty array output as object: "</span><span style="color: #007700">, </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$b</span><span style="color: #007700">, </span><span style="color: #9876AA">JSON_FORCE_OBJECT</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">$c </span><span style="color: #007700">= array(array(</span><span style="color: #9876AA">1</span><span style="color: #007700">,</span><span style="color: #9876AA">2</span><span style="color: #007700">,</span><span style="color: #9876AA">3</span><span style="color: #007700">));<br /><br />echo </span><span style="color: #DD0000">"Non-associative array output as array: "</span><span style="color: #007700">, </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$c</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #DD0000">"Non-associative array output as object: "</span><span style="color: #007700">, </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$c</span><span style="color: #007700">, </span><span style="color: #9876AA">JSON_FORCE_OBJECT</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">$d </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'foo' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'bar'</span><span style="color: #007700">, </span><span style="color: #DD0000">'baz' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'long'</span><span style="color: #007700">);<br /><br />echo </span><span style="color: #DD0000">"Associative array always output as object: "</span><span style="color: #007700">, </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$d</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #DD0000">"Associative array always output as object: "</span><span style="color: #007700">, </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$d</span><span style="color: #007700">, </span><span style="color: #9876AA">JSON_FORCE_OBJECT</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n\n"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Normal: [&quot;&lt;foo&gt;&quot;,&quot;&#039;bar&#039;&quot;,&quot;\&quot;baz\&quot;&quot;,&quot;&amp;blong&amp;&quot;,&quot;\u00e9&quot;]<br>Tags: [&quot;\u003Cfoo\u003E&quot;,&quot;&#039;bar&#039;&quot;,&quot;\&quot;baz\&quot;&quot;,&quot;&amp;blong&amp;&quot;,&quot;\u00e9&quot;]<br>Apos: [&quot;&lt;foo&gt;&quot;,&quot;\u0027bar\u0027&quot;,&quot;\&quot;baz\&quot;&quot;,&quot;&amp;blong&amp;&quot;,&quot;\u00e9&quot;]<br>Quot: [&quot;&lt;foo&gt;&quot;,&quot;&#039;bar&#039;&quot;,&quot;\u0022baz\u0022&quot;,&quot;&amp;blong&amp;&quot;,&quot;\u00e9&quot;]<br>Amp: [&quot;&lt;foo&gt;&quot;,&quot;&#039;bar&#039;&quot;,&quot;\&quot;baz\&quot;&quot;,&quot;\u0026blong\u0026&quot;,&quot;\u00e9&quot;]<br>Unicode: [&quot;&lt;foo&gt;&quot;,&quot;&#039;bar&#039;&quot;,&quot;\&quot;baz\&quot;&quot;,&quot;&amp;blong&amp;&quot;,&quot;é&quot;]<br>All: [&quot;\u003Cfoo\u003E&quot;,&quot;\u0027bar\u0027&quot;,&quot;\u0022baz\u0022&quot;,&quot;\u0026blong\u0026&quot;,&quot;é&quot;]<br><br>Empty array output as array: []<br>Empty array output as object: {}<br><br>Non-associative array output as array: [[1,2,3]]<br>Non-associative array output as object: {&quot;0&quot;:{&quot;0&quot;:1,&quot;1&quot;:2,&quot;2&quot;:3}}<br><br>Associative array always output as object: {&quot;foo&quot;:&quot;bar&quot;,&quot;baz&quot;:&quot;long&quot;}<br>Associative array always output as object: {&quot;foo&quot;:&quot;bar&quot;,&quot;baz&quot;:&quot;long&quot;}<br></span></div>    </div>   </div>   <div class="example" id="">    <p><strong>示例 #3 选项 JSON_NUMERIC_CHECK 例子</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #DD0000">"Strings representing numbers automatically turned into numbers"</span><span style="color: #007700">.</span><span style="color: #9876AA">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$numbers </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'+123123'</span><span style="color: #007700">, </span><span style="color: #DD0000">'-123123'</span><span style="color: #007700">, </span><span style="color: #DD0000">'1.2e3'</span><span style="color: #007700">, </span><span style="color: #DD0000">'0.00001'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(<br /> </span><span style="color: #9876AA">$numbers</span><span style="color: #007700">,<br /> </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$numbers</span><span style="color: #007700">, </span><span style="color: #9876AA">JSON_NUMERIC_CHECK</span><span style="color: #007700">)<br />);<br />echo </span><span style="color: #DD0000">"Strings containing improperly formatted numbers"</span><span style="color: #007700">.</span><span style="color: #9876AA">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$strings </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'+a33123456789'</span><span style="color: #007700">, </span><span style="color: #DD0000">'a123'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(<br /> </span><span style="color: #9876AA">$strings</span><span style="color: #007700">,<br /> </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$strings</span><span style="color: #007700">, </span><span style="color: #9876AA">JSON_NUMERIC_CHECK</span><span style="color: #007700">)<br />);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例的输出类似于：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Strings representing numbers automatically turned into numbers<br>array(4) {<br>  [0]=&gt;<br>  string(7) &quot;+123123&quot;<br>  [1]=&gt;<br>  string(7) &quot;-123123&quot;<br>  [2]=&gt;<br>  string(5) &quot;1.2e3&quot;<br>  [3]=&gt;<br>  string(7) &quot;0.00001&quot;<br>}<br>string(28) &quot;[123123,-123123,1200,1.0e-5]&quot;<br>Strings containing improperly formatted numbers<br>array(2) {<br>  [0]=&gt;<br>  string(13) &quot;+a33123456789&quot;<br>  [1]=&gt;<br>  string(4) &quot;a123&quot;<br>}<br>string(24) &quot;[&quot;+a33123456789&quot;,&quot;a123&quot;]&quot;<br></span></div>    </div>   </div>   <div class="example" id="">    <p><strong>示例 #4 连续与非连续数组示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #DD0000">"连续数组"</span><span style="color: #007700">.</span><span style="color: #9876AA">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$sequential </span><span style="color: #007700">= array(</span><span style="color: #DD0000">"foo"</span><span style="color: #007700">, </span><span style="color: #DD0000">"bar"</span><span style="color: #007700">, </span><span style="color: #DD0000">"baz"</span><span style="color: #007700">, </span><span style="color: #DD0000">"blong"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(<br /> </span><span style="color: #9876AA">$sequential</span><span style="color: #007700">,<br /> </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$sequential</span><span style="color: #007700">)<br />);<br /><br />echo </span><span style="color: #9876AA">PHP_EOL</span><span style="color: #007700">.</span><span style="color: #DD0000">"非连续数组"</span><span style="color: #007700">.</span><span style="color: #9876AA">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$nonsequential </span><span style="color: #007700">= array(</span><span style="color: #9876AA">1</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">"foo"</span><span style="color: #007700">, </span><span style="color: #9876AA">2</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">"bar"</span><span style="color: #007700">, </span><span style="color: #9876AA">3</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">"baz"</span><span style="color: #007700">, </span><span style="color: #9876AA">4</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">"blong"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(<br /> </span><span style="color: #9876AA">$nonsequential</span><span style="color: #007700">,<br /> </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$nonsequential</span><span style="color: #007700">)<br />);<br /><br />echo </span><span style="color: #9876AA">PHP_EOL</span><span style="color: #007700">.</span><span style="color: #DD0000">"删除一个连续数组值的方式产生的非连续数组"</span><span style="color: #007700">.</span><span style="color: #9876AA">PHP_EOL</span><span style="color: #007700">;<br />unset(</span><span style="color: #9876AA">$sequential</span><span style="color: #007700">[</span><span style="color: #9876AA">1</span><span style="color: #007700">]);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(<br /> </span><span style="color: #9876AA">$sequential</span><span style="color: #007700">,<br /> </span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">$sequential</span><span style="color: #007700">)<br />);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>连续数组<br>array(4) {<br>  [0]=&gt;<br>  string(3) &quot;foo&quot;<br>  [1]=&gt;<br>  string(3) &quot;bar&quot;<br>  [2]=&gt;<br>  string(3) &quot;baz&quot;<br>  [3]=&gt;<br>  string(5) &quot;blong&quot;<br>}<br>string(27) &quot;[&quot;foo&quot;,&quot;bar&quot;,&quot;baz&quot;,&quot;blong&quot;]&quot;<br><br>非连续数组<br>array(4) {<br>  [1]=&gt;<br>  string(3) &quot;foo&quot;<br>  [2]=&gt;<br>  string(3) &quot;bar&quot;<br>  [3]=&gt;<br>  string(3) &quot;baz&quot;<br>  [4]=&gt;<br>  string(5) &quot;blong&quot;<br>}<br>string(43) &quot;{&quot;1&quot;:&quot;foo&quot;,&quot;2&quot;:&quot;bar&quot;,&quot;3&quot;:&quot;baz&quot;,&quot;4&quot;:&quot;blong&quot;}&quot;<br><br>删除一个连续数组值的方式产生的非连续数组<br>array(3) {<br>  [0]=&gt;<br>  string(3) &quot;foo&quot;<br>  [2]=&gt;<br>  string(3) &quot;baz&quot;<br>  [3]=&gt;<br>  string(5) &quot;blong&quot;<br>}<br>string(33) &quot;{&quot;0&quot;:&quot;foo&quot;,&quot;2&quot;:&quot;baz&quot;,&quot;3&quot;:&quot;blong&quot;}&quot;<br></span></div>    </div>   </div>   <div class="example" id="">    <p><strong>示例 #5 <strong><span>选项 JSON_PRESERVE_ZERO_FRACTION</span></strong> 的例子</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">12.0</span><span style="color: #007700">, </span><span style="color: #9876AA">JSON_PRESERVE_ZERO_FRACTION</span><span style="color: #007700">));<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">json_encode</span><span style="color: #007700">(</span><span style="color: #9876AA">12.0</span><span style="color: #007700">));<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>string(4) &quot;12.0&quot;<br>string(2) &quot;12&quot;<br></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.json-encode-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    如果执行失败，可以通过 <span class="function">{@link json_last_error()}</span> 函数来获取详细错误信息。   </p>  </p></blockquote>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    如果要编码的数组的键不是从0开始的数字，所有的键将会被当作字符串，并明确声明为 key-value 对。   </p>  </p></blockquote>    <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    参考 JSON 解析器，如果指定简单的 <span class="type" style="color:#EAB766">string</span>、<span class="type" style="color:#EAB766">integer</span>、<span class="type" style="color:#EAB766">float</span> 或    <span class="type" style="color:#EAB766">boolean</span> 作为输入 <span class="parameter" style="color:#3A95FF">value</span>，<span class="function"><strong style="color:#CC7832">json_encode()</strong></span>    将生成简单的值的 JSON（既不是对象又不是数组）。虽然大多数解码器会接受这些值作为有效的    JSON，但有些可能不会，因为在这一点上规范是模棱两可的。   </p>   <p class="para">    总而言之，应该测试下 JSON decoder 能否处理 <span class="function"><strong style="color:#CC7832">json_encode()</strong></span> 生成的数据。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.json-encode-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="interfacename"><a href="https://www.php.net/manual/zh/class.jsonserializable.php" class="interfacename">JsonSerializable</a></span></li>    <li class="member"><span class="function">{@link json_decode()} - 对 JSON 格式的字符串进行解码</span></li>    <li class="member"><span class="function">{@link json_last_error()} - 返回最后发生的错误</span></li>    <li class="member"><span class="function">{@link serialize()} - 生成值的可存储表示</span></li>   </ul>  </span> </div></div>