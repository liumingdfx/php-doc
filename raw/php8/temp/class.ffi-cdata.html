<div id="class.ffi-cdata" class="reference"> <h1 class="title">C Data Handles</h1>  <div class="partintro"><p class="verinfo">(PHP 7 &gt;= 7.4.0, PHP 8)</p>  <div class="section" id="ffi-cdata.intro">   <h2 class="title">简介</h2>   <p class="para">    <span class="classname"><strong class="classname">FFI\CData</strong></span> objects can be used in a number of ways as a regular    PHP data:    <ul class="itemizedlist">     <li class="listitem">      <span class="simpara">       C data of scalar types can be read and assigned via the <span class="property">$cdata</span> property, e.g.        <span>$x = FFI::new(&#039;int&#039;); $x-&gt;cdata = 42;</span>      </span>     </li>     <li class="listitem">      <span class="simpara">       C struct and union fields can be accessed as regular PHP object property, e.g.       <span>$cdata-&gt;field</span>      </span>     </li>     <li class="listitem">      <span class="simpara">       C array elements can be accessed as regular PHP array elements, e.g.       <span>$cdata[$offset]</span>      </span>     </li>     <li class="listitem">      <span class="simpara">       C arrays can be iterated using <a href="https://www.php.net/manual/zh/control-structures.foreach.php" class="link">foreach</a> statements.      </span>     </li>     <li class="listitem">      <span class="simpara">       C arrays can be used as arguments of <span class="function">{@link count()}</span>.      </span>     </li>     <li class="listitem">      <span class="simpara">       C pointers can be dereferenced as arrays, e.g. <span>$cdata[0]</span>      </span>     </li>     <li class="listitem">      <span class="simpara">       C pointers can be compared using regular comparison operators (<span>&lt;</span>,       <span>&lt;=</span>, <span>==</span>, <span>!=</span>, <span>&gt;=</span>, <span>&gt;</span>).      </span>     </li>     <li class="listitem">      <span class="simpara">       C pointers can be incremented and decremented using regular <span>+</span>/<span>-</span>/       <span>++</span>/<span>–-</span> operations, e.g. <span>$cdata += 5</span>      </span>     </li>     <li class="listitem">      <span class="simpara">       C pointers can be subtracted from another using regular <span>-</span> operations.      </span>     </li>     <li class="listitem">      <span class="simpara">       C pointers to functions can be called as a regular PHP closure, e.g. <span>$cdata()</span>      </span>     </li>     <li class="listitem">      <span class="simpara">       Any C data can be duplicated using the <a href="https://www.php.net/manual/zh/language.oop5.cloning.php" class="link">clone</a>       operator, e.g. <span>$cdata2 = clone $cdata;</span>      </span>     </li>     <li class="listitem">      <span class="simpara">       Any C data can be visualized using <span class="function">{@link var_dump()}</span>, <span class="function">{@link print_r()}</span>, etc.      </span>     </li>    </ul>    <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:      <span class="simpara">      Notable limitations are that <span class="classname"><strong class="classname">FFI\CData</strong></span> instances do not support      <span class="function">{@link isset()}</span>, <span class="function">{@link empty()}</span> and <span class="function">{@link unset()}</span>,      and that wrapped C structs and unions do not implement <span class="interfacename"><a href="https://www.php.net/manual/zh/class.traversable.php" class="interfacename">Traversable</a></span>.     </span>    </p></blockquote>   </p>  </div>  <div class="section" id="ffi-cdata.synopsis">   <h2 class="title">类摘要</h2>   <div class="classsynopsis"><div class="classsynopsisinfo">         <span class="modifier">final</span>     <span class="modifier">class</span> <strong class="classname"><strong class="classname">FFI\CData</strong></strong>     {</div>   }</div>  </div> </div> </div>