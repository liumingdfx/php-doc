<div id="class.evwatcher" class="reference"> <h1 class="title">The EvWatcher class</h1>  <div class="partintro"><p class="verinfo">(PECL ev &gt;= 0.2.0)</p>  <div class="section" id="evwatcher.intro">   <h2 class="title">简介</h2>   <p class="para">    <span class="classname"><strong class="classname">EvWatcher</strong></span>    is a base class for all watchers(    <span class="classname"><a href="https://www.php.net/manual/zh/class.evcheck.php" class="classname">EvCheck</a></span>    ,    <span class="classname"><a href="https://www.php.net/manual/zh/class.evchild.php" class="classname">EvChild</a></span>    etc.). Since    <span class="classname"><strong class="classname">EvWatcher</strong></span>    &#039;s constructor is    <span class="modifier">abstract</span>    , one can&#039;t(and don&#039;t need to) create EvWatcher objects    directly.   </p>  </div>  <div class="section" id="evwatcher.synopsis">   <h2 class="title">类摘要</h2>   <div class="classsynopsis">    <span class="ooclass">     <strong class="classname"></strong>    </span>    <div class="classsynopsisinfo">     <span class="ooclass">      <span class="modifier">abstract</span>      <span class="modifier">class</span> <strong class="classname">EvWatcher</strong>     </span>     {</div>    <div class="classsynopsisinfo classsynopsisinfo_comment">// 属性 </div>    <div class="fieldsynopsis">     <span class="modifier">public</span>      <var class="varname"><a href="https://www.php.net/manual/zh/class.evwatcher.php#evwatcher.props.is-active">$<var class="varname">is_active</var></a></var>;</div>    <div class="fieldsynopsis"><span class="modifier">public</span>      <var class="varname"><a href="https://www.php.net/manual/zh/class.evwatcher.php#evwatcher.props.data">$<var class="varname">data</var></a></var>;</div>    <div class="fieldsynopsis"><span class="modifier">public</span>      <var class="varname"><a href="https://www.php.net/manual/zh/class.evwatcher.php#evwatcher.props.is-pending">$<var class="varname">is_pending</var></a></var>;</div>    <div class="fieldsynopsis"><span class="modifier">public</span>      <var class="varname"><a href="https://www.php.net/manual/zh/class.evwatcher.php#evwatcher.props.priority">$<var class="varname">priority</var></a></var>;</div>    <div class="classsynopsisinfo classsynopsisinfo_comment">// 方法 </div>    <div class="constructorsynopsis dc-description">   <span class="modifier">abstract</span>   <span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/evwatcher.construct.php" class="methodname" style="color:#CC7832">__construct</a></span>()</div>    <div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/evwatcher.clear.php" class="methodname" style="color:#CC7832">clear</a></span>(): <span class="type" style="color:#EAB766">int</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/evwatcher.feed.php" class="methodname" style="color:#CC7832">feed</a></span>(<span class="methodparam">    <span class="type" style="color:#EAB766">int</span>     <span class="parameter" style="color:#3A95FF">$revents</span>   </span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/evwatcher.getloop.php" class="methodname" style="color:#CC7832">getLoop</a></span>(): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.evloop.php" class="type EvLoop" style="color:#EAB766">EvLoop</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/evwatcher.invoke.php" class="methodname" style="color:#CC7832">invoke</a></span>(<span class="methodparam">    <span class="type" style="color:#EAB766">int</span>     <span class="parameter" style="color:#3A95FF">$revents</span>   </span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/evwatcher.keepalive.php" class="methodname" style="color:#CC7832">keepalive</a></span>(<span class="methodparam">    <span class="type" style="color:#EAB766">bool</span>     <span class="parameter" style="color:#3A95FF">$value</span>   <span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/evwatcher.setcallback.php" class="methodname" style="color:#CC7832">setCallback</a></span>(<span class="methodparam">    <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.callable.php" class="type callable" style="color:#EAB766">callable</a></span>     <span class="parameter" style="color:#3A95FF">$callback</span>   </span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/evwatcher.start.php" class="methodname" style="color:#CC7832">start</a></span>(): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/evwatcher.stop.php" class="methodname" style="color:#CC7832">stop</a></span>(): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div>   }</div>  </div>  <div class="section" id="evwatcher.props">   <h2 class="title">属性</h2>   <dl>         <dt id="evwatcher.props.is-active">      <var class="varname">is_active</var>     </dt>     <dd>      <p class="para">       <em>Readonly</em>       . <strong><span>true</span></strong> if the watcher is active. <strong><span>false</span></strong> otherwise.      </p>     </dd>             <dt id="evwatcher.props.data">      <var class="varname">data</var>     </dt>     <dd>      <p class="para">       User custom data associated with the watcher      </p>     </dd>             <dt id="evwatcher.props.is-pending">      <var class="varname">is_pending</var>     </dt>     <dd>      <p class="para">       <em>Readonly</em>       .<strong><span>true</span></strong> if the watcher is pending, i.e. it has outstanding events, but       its callback has not yet been invoked. <strong><span>false</span></strong> otherwise. As long, as a       watcher is pending(but not active), one must       <em>not</em>       change its priority.      </p>     </dd>             <dt id="evwatcher.props.priority">      <var class="varname">priority</var>     </dt>     <dd>      <p class="para">       <span class="type" style="color:#EAB766">int</span>       between       <strong><span>Ev::MINPRI</span></strong>       and       <strong><span>Ev::MAXPRI</span></strong>       . Pending watchers with higher priority will be invoked before watchers       with lower priority, but priority will not keep watchers from being       executed(except for       <span class="classname"><a href="https://www.php.net/manual/zh/class.evidle.php" class="classname">EvIdle</a></span>       watchers).       <span class="classname"><a href="https://www.php.net/manual/zh/class.evidle.php" class="classname">EvIdle</a></span>       watchers provide functionality to suppress invocation when higher       priority events are pending.      </p>     </dd>       </dl>  </div> </div> <h2>目录</h2><ul class="chunklist chunklist_reference"><li>{@link EvWatcher::clear} — Clear watcher pending status</li><li>{@link EvWatcher::__construct} — Abstract constructor of a watcher object</li><li>{@link EvWatcher::feed} — Feeds the given revents set into the event loop</li><li>{@link EvWatcher::getLoop} — Returns the loop responsible for the watcher</li><li>{@link EvWatcher::invoke} — Invokes the watcher callback with the given received events bit  mask</li><li>{@link EvWatcher::keepalive} — Configures whether to keep the loop from returning</li><li>{@link EvWatcher::setCallback} — Sets new callback for the watcher</li><li>{@link EvWatcher::start} — Starts the watcher</li><li>{@link EvWatcher::stop} — Stops the watcher</li></ul></div>