<div id="evtimer.createstopped" class="refentry"> <div class="refnamediv">  <h1 class="refname">EvTimer::createStopped</h1>  <p class="verinfo">(PECL ev &gt;= 0.2.0)</p><p class="refpurpose"><span class="refname">EvTimer::createStopped</span> &mdash; <span class="dc-title">Creates EvTimer stopped watcher object</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-evtimer.createstopped-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="modifier">final</span>   <span class="modifier">public</span>   <span class="modifier">static</span>   <span class="methodname" style="color:#CC7832"><strong>EvTimer::createStopped</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam">    <span class="type" style="color:#EAB766">float</span>     <span class="parameter" style="color:#3A95FF">$after</span>   </span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam">    <span class="type" style="color:#EAB766">float</span>     <span class="parameter" style="color:#3A95FF">$repeat</span>   </span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam">    <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.callable.php" class="type callable" style="color:#EAB766">callable</a></span>     <span class="parameter" style="color:#3A95FF">$callback</span>   </span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam">    <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span>     <span class="parameter" style="color:#3A95FF">$data</span>    <span class="initializer"> = <strong><span>null</span></strong></span>   </span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam">    <span class="type" style="color:#EAB766">int</span>     <span class="parameter" style="color:#3A95FF">$priority</span>    <span class="initializer"> = 0</span>   </span><br>): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.evtimer.php" class="type EvTimer" style="color:#EAB766">EvTimer</a></span></div>  <p class="para rdfs-comment">   Creates EvTimer stopped watcher object. Unlike   <span class="methodname" style="color:#CC7832">{@link EvTimer::__construct()}</span>   , this method doesn&#039;t start the watcher automatically.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-evtimer.createstopped-parameters">  <h3 class="title">参数</h3>  <dl>       <dt>     <span class="parameter" style="color:#3A95FF">after</span>    </dt>    <dd>     <span>      Configures the timer to trigger after      <span class="parameter" style="color:#3A95FF">after</span>      seconds.     </span>    </dd>          <dt>     <span class="parameter" style="color:#3A95FF">repeat</span>    </dt>    <dd>     <p class="para">      If repeat is      <strong><span>0.0</span></strong>      , then it will automatically be stopped once the timeout is reached. If      it is positive, then the timer will automatically be configured to      trigger again every repeat seconds later, until stopped manually.     </p>    </dd>          <dt>     <span class="parameter" style="color:#3A95FF">callback</span>    </dt>    <dd>     <p class="para">      See      <a href="https://www.php.net/manual/zh/ev.watcher-callbacks.php" class="link">Watcher callbacks</a>      .     </p>    </dd>          <dt>     <span class="parameter" style="color:#3A95FF">data</span>    </dt>    <dd>     <p class="para">      Custom data associated with the watcher.     </p>    </dd>          <dt>     <span class="parameter" style="color:#3A95FF">priority</span>    </dt>    <dd>     <p class="para">      <a href="https://www.php.net/manual/zh/class.ev.php#ev.constants.watcher-pri" class="link">Watcher priority</a>     </p>    </dd>     </dl> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-evtimer.createstopped-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   Returns EvTimer watcher object on success.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-evtimer.createstopped-examples">  <h3 class="title">示例</h3> <div class="example" id="">   <p><strong>示例 #1 Monotor changes of /var/log/messages. Avoid missing updates by means of one second delay</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$timer </span><span style="color: #007700">= </span><span style="color: #9876AA">EvTimer</span><span style="color: #007700">::</span><span style="color: #9876AA">createStopped</span><span style="color: #007700">(</span><span style="color: #9876AA">0.</span><span style="color: #007700">, </span><span style="color: #9876AA">1.02</span><span style="color: #007700">, function (</span><span style="color: #9876AA">$w</span><span style="color: #007700">) {<br />    </span><span style="color: #9876AA">$w</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">stop</span><span style="color: #007700">();<br /><br />    </span><span style="color: #9876AA">$stat </span><span style="color: #007700">= </span><span style="color: #9876AA">$w</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">data</span><span style="color: #007700">;<br /><br />    </span><span style="color: #FF8000">// 1 second after the most recent change of the file<br />    </span><span style="color: #9876AA">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Current size: %ld\n"</span><span style="color: #007700">, </span><span style="color: #9876AA">$stat</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">attr</span><span style="color: #007700">()[</span><span style="color: #DD0000">'size'</span><span style="color: #007700">]);<br />});<br /><br /></span><span style="color: #9876AA">$stat </span><span style="color: #007700">= new </span><span style="color: #9876AA">EvStat</span><span style="color: #007700">(</span><span style="color: #DD0000">"/var/log/messages"</span><span style="color: #007700">, </span><span style="color: #9876AA">0.</span><span style="color: #007700">, function () use (</span><span style="color: #9876AA">$timer</span><span style="color: #007700">) {<br />    </span><span style="color: #FF8000">// Reset timer watcher<br />    </span><span style="color: #9876AA">$timer</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">again</span><span style="color: #007700">();<br />});<br /><br /></span><span style="color: #9876AA">$timer</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">data </span><span style="color: #007700">= </span><span style="color: #9876AA">$stat</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">Ev</span><span style="color: #007700">::</span><span style="color: #9876AA">run</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>  </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-evtimer.createstopped-seealso">  <h3 class="title">参见</h3>  <ul class="simplelist">   <li class="member">    <span class="methodname" style="color:#CC7832">{@link EvTimer::__construct()} - Constructs an EvTimer watcher object</span>   </li>   <li class="member">    <span class="classname"><a href="https://www.php.net/manual/zh/class.evperiodic.php" class="classname">EvPeriodic</a></span>   </li>  </ul> </div></div>