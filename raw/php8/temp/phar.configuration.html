<div id="phar.configuration" class="section"> <h2 class="title">运行时配置</h2> <p class="simpara">这些函数的行为受 <var class="filename">php.ini</var> 中的设置影响。</p> <p class="para">  <table class="doctable table">   <caption><strong>文件系统和 stream 配置选项</strong></caption>       <thead>     <tr>      <th>名字</th>      <th>默认</th>      <th>可修改范围</th>      <th>更新日志</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td><a href="https://www.php.net/manual/zh/phar.configuration.php#ini.phar.readonly" class="link">phar.readonly</a></td>      <td>&quot;1&quot;</td>      <td>PHP_INI_ALL</td>      <td class="empty">&nbsp;</td>     </tr>     <tr>      <td><a href="https://www.php.net/manual/zh/phar.configuration.php#ini.phar.require-hash" class="link">phar.require_hash</a></td>      <td>&quot;1&quot;</td>      <td>PHP_INI_ALL</td>      <td class="empty">&nbsp;</td>     </tr>     <tr>      <td><a href="https://www.php.net/manual/zh/phar.configuration.php#ini.phar.cache-list" class="link">phar.cache_list</a></td>      <td>&quot;&quot;</td>      <td>PHP_INI_SYSTEM</td>      <td class="empty">&nbsp;</td>     </tr>    </tbody>     </table> </p> <p class="para">这是配置指令的简短说明。</p> <p class="para">  <dl>       <dt id="ini.phar.readonly">     <span class="parameter" style="color:#3A95FF">phar.readonly</span>     <span class="type" style="color:#EAB766">bool</span>    </dt>    <dd>     <p class="para">      在使用 <span>phar</span> 流或 <span class="classname"><a href="https://www.php.net/manual/zh/class.phar.php" class="classname">Phar</a></span> 对象的写入操作时，      本选项可以禁止创建、修改 Phar 归档。      在生产环境中推荐始终启用本设置，否则伴随其他常见安全漏洞，      phar 扩展支持写入时也能创建基于 PHP 的病毒。     </p>     <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:       <p class="para">       出于安全考虑，只能在 php.ini 中取消此设置。       若在 php.ini 中禁用 <span>phar.readonly</span>，可以在代码中启用 <span>phar.readonly</span> 或其后禁用它。       若在 php.ini 中启用 <span>phar.readonly</span>，在代码中只能 &quot;重复启用&quot; INI 变量，不能禁用。      </p>     </p></blockquote>    </dd>          <dt id="ini.phar.require-hash">     <span class="parameter" style="color:#3A95FF">phar.require_hash</span>     <span class="type" style="color:#EAB766">bool</span>    </dt>    <dd>     <p class="para">      此选项要求调用的所有 Phar 归档必须包含签名（目前支持的签名类型有 MD5、SHA1、SHA256、SHA512、OpenSSL），      而且会拒绝处理不含签名的 Phar 归档。     </p>     <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:       <p class="para">       只能在 php.ini 中取消此设置。       若在 php.ini 中禁用 <span>phar.require_hash</span>，可以在代码中启用 <span>phar.require_hash</span> 或其后禁用它。       若在 php.ini 中启用 <span>phar.require_hash</span>，在代码中可以 &quot;重复启用&quot; INI 变量，但不能禁用它。      </p>      <p class="para">       此选项不影响 <span class="classname"><a href="https://www.php.net/manual/zh/class.phardata.php" class="classname">PharData</a></span> 类读取普通 tar 文件。      </p>     </p></blockquote>     <div class="caution"><strong class="caution">警告</strong>      <p class="simpara">       <span>phar.require_hash</span> 本身不提供任何安全保障，它只能阻止运行因意外而损坏的 Phar 归档，       因为任何人都可以篡改 Phar 归档后轻松修改成对应的签名。      </p>     </div>    </dd>          <dt id="ini.phar.cache-list">     <span class="parameter" style="color:#3A95FF">phar.cache_list</span>     <span class="type" style="color:#EAB766">string</span>    </dt>    <dd>     <p class="para">      允许 web 服务启动时预先解析映射 phar 归档，提供性能上的优化，      使得从 phar 归档中运行文件的速度几乎接近从传统的基于磁盘安装运行这些文件的速度。      <div class="example" id="example-2132">       <p><strong>示例 #1 phar.cache_list 用法示例</strong></p>       <div class="example-contents"><div class="cdata"><span>在 php.ini 中（windows）：<br>phar.cache_list =C:\path\to\phar1.phar;C:\path\to\phar2.phar<br>在 php.ini 中（unix）：<br>phar.cache_list =/path/to/phar1.phar:/path/to/phar2.phar<br></span></div>       </div>      </div>     </p>    </dd>     </dl> </p></div>