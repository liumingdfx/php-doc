<div id="function.pg-escape-identifier" class="refentry"> <div class="refnamediv">  <h1 class="refname">pg_escape_identifier</h1>  <p class="verinfo">(PHP 5 &gt;= 5.4.4, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">pg_escape_identifier</span> &mdash; <span class="dc-title">   Escape a identifier for insertion into a text field  </span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.pg-escape-identifier-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>pg_escape_identifier</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.pgsql-connection.php" class="type PgSql\Connection" style="color:#EAB766">PgSql\Connection</a></span> <span class="parameter" style="color:#3A95FF">$connection</span><span class="initializer"> = ?</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$data</span></span>): <span class="type" style="color:#EAB766">string</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">pg_escape_identifier()</strong></span> escapes a identifier   (e.g. table, field names) for querying the database.  It returns an   escaped identifier string for PostgreSQL   server. <span class="function"><strong style="color:#CC7832">pg_escape_identifier()</strong></span> adds double   quotes before and after data. Users should not add double   quotes. Use of this function is recommended for identifier   parameters in query. For SQL literals (i.e. parameters except   bytea), <span class="function">{@link pg_escape_literal()}</span>   or <span class="function">{@link pg_escape_string()}</span> must be used. For bytea   type fields, <span class="function">{@link pg_escape_bytea()}</span> must be used   instead.  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    This function has internal escape code and can also be used with    PostgreSQL 8.4 or less.    </p>  </p></blockquote> </div><br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.pg-escape-identifier-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">connection</span></dt>     <dd>      <p class="para">An <span class="classname"><a href="https://www.php.net/manual/zh/class.pgsql-connection.php" class="classname">PgSql\Connection</a></span> instance.When <span class="parameter" style="color:#3A95FF">connection</span> is unspecified, the default connection is used.The default connection is the last connection made by <span class="function">{@link pg_connect()}</span>or <span class="function">{@link pg_pconnect()}</span>.<div class="warning"><strong class="warning">警告</strong><p class="simpara">As of PHP 8.1.0, using the default connection is deprecated.</p></div></p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">data</span></dt>     <dd>      <p class="para">       A <span class="type" style="color:#EAB766">string</span> containing text to be escaped.      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.pg-escape-identifier-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   A <span class="type" style="color:#EAB766">string</span> containing the escaped data.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.pg-escape-identifier-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr> <td>8.1.0</td> <td>  现在 <span class="parameter" style="color:#3A95FF">connection</span> 参数接受 <span class="classname"><a href="https://www.php.net/manual/zh/class.pgsql-connection.php" class="classname">PgSql\Connection</a></span>  实例，之前接受 <a href="https://www.php.net/manual/zh/language.types.resource.php" class="link">resource</a>。 </td></tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.pg-escape-identifier-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">pg_escape_identifier()</strong></span> example</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php <br />  </span><span style="color: #FF8000">// Connect to the database<br />  </span><span style="color: #9876AA">$dbconn </span><span style="color: #007700">= </span><span style="color: #9876AA">pg_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'dbname=foo'</span><span style="color: #007700">);<br />  <br />  </span><span style="color: #FF8000">// Escape the table name data<br />  </span><span style="color: #9876AA">$escaped </span><span style="color: #007700">= </span><span style="color: #9876AA">pg_escape_identifier</span><span style="color: #007700">(</span><span style="color: #9876AA">$table_name</span><span style="color: #007700">);<br />  <br />  </span><span style="color: #FF8000">// Select rows from $table_name<br />  </span><span style="color: #9876AA">pg_query</span><span style="color: #007700">(</span><span style="color: #DD0000">"SELECT * FROM </span><span style="color: #007700">{</span><span style="color: #9876AA">$escaped</span><span style="color: #007700">}</span><span style="color: #DD0000">;"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.pg-escape-identifier-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link pg_escape_literal()} - Escape a literal for insertion into a text field</span></li>    <li class="member"><span class="function">{@link pg_escape_bytea()} - 转义字符串以插入到 bytea 字段</span></li>    <li class="member"><span class="function">{@link pg_escape_string()} - 转义字符串以供查询</span></li>   </ul>  </span> </div></div>