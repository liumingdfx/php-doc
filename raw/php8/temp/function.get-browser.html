<div id="function.get-browser" class="refentry"> <div class="refnamediv">  <h1 class="refname">get_browser</h1>  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">get_browser</span> &mdash; <span class="dc-title">获取浏览器具有的功能</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.get-browser-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>get_browser</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$user_agent</span><span class="initializer"> = <strong><span>null</span></strong></span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">bool</span> <span class="parameter" style="color:#3A95FF">$return_array</span><span class="initializer"> = <strong><span>false</span></strong></span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">object</span>|<span class="type" style="color:#EAB766">array</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   通过查找 <var class="filename">browscap.ini</var> 文件中的浏览器信息，尝试检测用户的浏览器所具有的功能。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.get-browser-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">user_agent</span></dt>     <dd>      <p class="para">       要分析的用户代理。默认使用HTTP头中User-Agent的值，不过，你可以通过传递该参数改变User-Agent。(比如查找另一个浏览器的信息)       </p>      <p class="para">       你可以传递一个 <strong><span>null</span></strong> 来忽略该参数。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">return_array</span></dt>     <dd>      <p class="para">       如果设置为 <strong><span>true</span></strong>，该函数会返回一个 <span class="type" style="color:#EAB766">array</span>，而不是 <span class="type" style="color:#EAB766">object</span>。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.get-browser-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   信息会以包含一系列数据的数组或者对象返回。例如：浏览器的主版本号、次版本号和ID字符串；框架、JavaScript、cookies等功能是否支持 <strong><span>true</span></strong>/<strong><span>false</span></strong> 的值。  </p>  <p class="para">   <span>cookies</span> 的值仅意味着浏览器是否具有接收cookies的功能，不代表用户是否已允许启用cookies。   测试的唯一办法，只有通过 <span class="function">{@link setcookie()}</span> 设置一个cookie，刷新页面并检测该cookie的值。  </p>  <p class="para">    当无法检索到信息时返回 <strong><span>false</span></strong>，比如未设置 <var class="filename">php.ini</var> 中的    <a href="https://www.php.net/manual/zh/misc.configuration.php#ini.browscap" class="link">browscap</a> 配置项。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.get-browser-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 列出所有用户浏览器的信息</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_USER_AGENT'</span><span style="color: #007700">] . </span><span style="color: #DD0000">"\n\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">$browser </span><span style="color: #007700">= </span><span style="color: #9876AA">get_browser</span><span style="color: #007700">(</span><span style="color: #9876AA">null</span><span style="color: #007700">, </span><span style="color: #9876AA">true</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">print_r</span><span style="color: #007700">(</span><span style="color: #9876AA">$browser</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例的输出类似于：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040803 Firefox/0.9.3<br><br>Array<br>(<br>    [browser_name_regex] =&gt; ^mozilla/5\.0 (windows; .; windows nt 5\.1; .*rv:.*) gecko/.* firefox/0\.9.*$<br>    [browser_name_pattern] =&gt; Mozilla/5.0 (Windows; ?; Windows NT 5.1; *rv:*) Gecko// Firefox/0.9*<br>    [parent] =&gt; Firefox 0.9<br>    [platform] =&gt; WinXP<br>    [browser] =&gt; Firefox<br>    [version] =&gt; 0.9<br>    [majorver] =&gt; 0<br>    [minorver] =&gt; 9<br>    [cssversion] =&gt; 2<br>    [frames] =&gt; 1<br>    [iframes] =&gt; 1<br>    [tables] =&gt; 1<br>    [cookies] =&gt; 1<br>    [backgroundsounds] =&gt;<br>    [vbscript] =&gt;<br>    [javascript] =&gt; 1<br>    [javaapplets] =&gt; 1<br>    [activexcontrols] =&gt;<br>    [cdf] =&gt;<br>    [aol] =&gt;<br>    [beta] =&gt; 1<br>    [win16] =&gt;<br>    [crawler] =&gt;<br>    [stripper] =&gt;<br>    [wap] =&gt;<br>    [netclr] =&gt;<br>)<br></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.get-browser-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    为了能让该函数运作，在 <var class="filename">php.ini</var> 中配置的 <a href="https://www.php.net/manual/zh/misc.configuration.php#ini.browscap" class="link">browscap</a> 必须指向 <var class="filename">browscap.ini</var> 文件的正确位置。   </p>   <p class="para">    <var class="filename">browscap.ini</var> 并未内置在PHP中，不过你可以在这里找到最新的 <a href="http://browscap.org/" class="link external">&raquo;&nbsp;php_browscap.ini</a>。   </p>   <p class="para">    <var class="filename">browscap.ini</var> 包含的诸多浏览器信息依赖于用户更新该数据库。该文件的格式不言自明。   </p>  </p></blockquote> </div></div>