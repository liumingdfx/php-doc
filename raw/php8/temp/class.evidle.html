<div id="class.evidle" class="reference"> <h1 class="title">The EvIdle class</h1>  <div class="partintro"><p class="verinfo">(PECL ev &gt;= 0.2.0)</p>  <div class="section" id="evidle.intro">   <h2 class="title">简介</h2>   <p class="para">    <span class="classname"><strong class="classname">EvIdle</strong></span>    watchers trigger events when no other events of the same or higher    priority are pending (    <span class="classname"><a href="https://www.php.net/manual/zh/class.evprepare.php" class="classname">EvPrepare</a></span>    ,    <span class="classname"><a href="https://www.php.net/manual/zh/class.evcheck.php" class="classname">EvCheck</a></span>    and other    <span class="classname"><strong class="classname">EvIdle</strong></span>    watchers do not count as receiving    <em>events</em>    ).   </p>   <p class="para">    Thus, as long as the process is busy handling sockets or timeouts(or even    signals) of the same or higher priority it will not be triggered. But when    the process is in idle(or only lower-priority watchers are pending), the    <span class="classname"><strong class="classname">EvIdle</strong></span>    watchers are being called once per event loop iteration - until stopped,    that is, or the process receives more events and becomes busy again with    higher priority stuff.   </p>   <p class="para">    Apart from keeping the process non-blocking(which is a useful on its own    sometimes),    <span class="classname"><strong class="classname">EvIdle</strong></span>    watchers are a good place to do    <em>&quot;pseudo-background processing&quot;</em>    , or delay processing stuff to after the event loop has handled all    outstanding events.   </p>   <p class="para">    The most noticeable effect is that as long as any    <em>idle</em>    watchers are active, the process will    <em>not</em>    block when waiting for new events.   </p>  </div>  <div class="section" id="evidle.synopsis">   <h2 class="title">类摘要</h2>   <div class="classsynopsis">    <span class="ooclass">     <strong class="classname"></strong>    </span>    <div class="classsynopsisinfo">     <span class="ooclass">      <span class="modifier">class</span> <strong class="classname">EvIdle</strong>     </span>     <span class="ooclass">      <span class="modifier">extends</span>       <a href="https://www.php.net/manual/zh/class.evwatcher.php" class="classname">EvWatcher</a>     </span>     {</div>    <div class="classsynopsisinfo classsynopsisinfo_comment">// 继承的属性 </div>    <div class="fieldsynopsis">     <span class="modifier">public</span>      <var class="varname"><a href="https://www.php.net/manual/zh/class.evwatcher.php#evwatcher.props.is-active">$<var class="varname">is_active</var></a></var>;</div><div class="fieldsynopsis"><span class="modifier">public</span>      <var class="varname"><a href="https://www.php.net/manual/zh/class.evwatcher.php#evwatcher.props.data">$<var class="varname">data</var></a></var>;</div><div class="fieldsynopsis"><span class="modifier">public</span>      <var class="varname"><a href="https://www.php.net/manual/zh/class.evwatcher.php#evwatcher.props.is-pending">$<var class="varname">is_pending</var></a></var>;</div><div class="fieldsynopsis"><span class="modifier">public</span>      <var class="varname"><a href="https://www.php.net/manual/zh/class.evwatcher.php#evwatcher.props.priority">$<var class="varname">priority</var></a></var>;</div>    <div class="classsynopsisinfo classsynopsisinfo_comment">// 方法 </div>    <div class="constructorsynopsis dc-description">   <span class="modifier">public</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/evidle.construct.php" class="methodname" style="color:#CC7832">__construct</a></span>(<span class="methodparam">    <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.callable.php" class="type callable" style="color:#EAB766">callable</a></span>     <span class="parameter" style="color:#3A95FF">$callback</span>   </span>, <span class="methodparam">    <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span>     <span class="parameter" style="color:#3A95FF">$data</span>   <span class="initializer"> = ?</span></span>, <span class="methodparam">    <span class="type" style="color:#EAB766">int</span>     <span class="parameter" style="color:#3A95FF">$priority</span>   <span class="initializer"> = ?</span></span>)</div>    <div class="methodsynopsis dc-description"><span class="modifier">final</span>   <span class="modifier">public</span>   <span class="modifier">static</span>   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/evidle.createstopped.php" class="methodname" style="color:#CC7832">createStopped</a></span>(<span class="methodparam">    <span class="type" style="color:#EAB766">string</span>     <span class="parameter" style="color:#3A95FF">$callback</span>   </span>, <span class="methodparam">    <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span>     <span class="parameter" style="color:#3A95FF">$data</span>   <span class="initializer"> = ?</span></span>, <span class="methodparam">    <span class="type" style="color:#EAB766">int</span>     <span class="parameter" style="color:#3A95FF">$priority</span>   <span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">object</span></div>    <div class="classsynopsisinfo classsynopsisinfo_comment">// 继承的方法 </div>    <div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832">{@link EvWatcher::clear}</span>(): <span class="type" style="color:#EAB766">int</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832">{@link EvWatcher::feed}</span>(<span class="methodparam">    <span class="type" style="color:#EAB766">int</span>     <span class="parameter" style="color:#3A95FF">$revents</span>   </span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832">{@link EvWatcher::getLoop}</span>(): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.evloop.php" class="type EvLoop" style="color:#EAB766">EvLoop</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832">{@link EvWatcher::invoke}</span>(<span class="methodparam">    <span class="type" style="color:#EAB766">int</span>     <span class="parameter" style="color:#3A95FF">$revents</span>   </span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832">{@link EvWatcher::keepalive}</span>(<span class="methodparam">    <span class="type" style="color:#EAB766">bool</span>     <span class="parameter" style="color:#3A95FF">$value</span>   <span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832">{@link EvWatcher::setCallback}</span>(<span class="methodparam">    <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.callable.php" class="type callable" style="color:#EAB766">callable</a></span>     <span class="parameter" style="color:#3A95FF">$callback</span>   </span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832">{@link EvWatcher::start}</span>(): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span>   <span class="methodname" style="color:#CC7832">{@link EvWatcher::stop}</span>(): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div>   }</div>  </div> </div> <h2>目录</h2><ul class="chunklist chunklist_reference"><li>{@link EvIdle::__construct} — Constructs the EvIdle watcher object</li><li>{@link EvIdle::createStopped} — Creates instance of a stopped EvIdle watcher object</li></ul></div>