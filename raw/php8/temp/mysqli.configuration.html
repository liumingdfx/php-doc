<div id="mysqli.configuration" class="section"> <h2 class="title">运行时配置</h2> <p class="simpara">这些函数的行为受 <var class="filename">php.ini</var> 中的设置影响。</p> <p class="para">  <table id="mysqli.configuration.options" class="doctable table">   <caption><strong>MySQLi配置选项</strong></caption>       <thead>     <tr>      <th>名字</th>      <th>默认</th>      <th>可修改范围</th>      <th>更新日志</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td><a href="https://www.php.net/manual/zh/mysqli.configuration.php#ini.mysqli.allow-local-infile" class="link">mysqli.allow_local_infile</a></td>      <td>&quot;0&quot;</td>      <td>PHP_INI_SYSTEM</td>      <td>在 PHP 7.2.16 和 7.3.3 之前，默认值为 &quot;1&quot;</td>     </tr>     <tr>      <td><a href="https://www.php.net/manual/zh/mysqli.configuration.php#ini.mysqli.local-infile-directory" class="link">mysqli.local_infile_directory</a></td>      <td class="empty">&nbsp;</td>      <td>PHP_INI_SYSTEM</td>      <td>自 PHP 8.1.0 起可用。</td>     </tr>     <tr>      <td><a href="https://www.php.net/manual/zh/mysqli.configuration.php#ini.mysqli.allow-persistent" class="link">mysqli.allow_persistent</a></td>      <td>&quot;1&quot;</td>      <td>PHP_INI_SYSTEM</td>      <td class="empty">&nbsp;</td>     </tr>     <tr>      <td><a href="https://www.php.net/manual/zh/mysqli.configuration.php#ini.mysqli.max-persistent" class="link">mysqli.max_persistent</a></td>      <td>&quot;-1&quot;</td>      <td>PHP_INI_SYSTEM</td>      <td class="empty">&nbsp;</td>     </tr>     <tr>      <td><a href="https://www.php.net/manual/zh/mysqli.configuration.php#ini.mysqli.max-links" class="link">mysqli.max_links</a></td>      <td>&quot;-1&quot;</td>      <td>PHP_INI_SYSTEM</td>      <td class="empty">&nbsp;</td>     </tr>     <tr>      <td><a href="https://www.php.net/manual/zh/mysqli.configuration.php#ini.mysqli.default-port" class="link">mysqli.default_port</a></td>      <td>&quot;3306&quot;</td>      <td>PHP_INI_ALL</td>      <td class="empty">&nbsp;</td>     </tr>     <tr>      <td><a href="https://www.php.net/manual/zh/mysqli.configuration.php#ini.mysqli.default-socket" class="link">mysqli.default_socket</a></td>      <td>NULL</td>      <td>PHP_INI_ALL</td>      <td class="empty">&nbsp;</td>     </tr>     <tr>      <td><a href="https://www.php.net/manual/zh/mysqli.configuration.php#ini.mysqli.default-host" class="link">mysqli.default_host</a></td>      <td>NULL</td>      <td>PHP_INI_ALL</td>      <td class="empty">&nbsp;</td>     </tr>     <tr>      <td><a href="https://www.php.net/manual/zh/mysqli.configuration.php#ini.mysqli.default-user" class="link">mysqli.default_user</a></td>      <td>NULL</td>      <td>PHP_INI_ALL</td>      <td>自PHP 5.0.0起可用。</td>     </tr>     <tr>      <td><a href="https://www.php.net/manual/zh/mysqli.configuration.php#ini.mysqli.default-pw" class="link">mysqli.default_pw</a></td>      <td>NULL</td>      <td>PHP_INI_ALL</td>      <td class="empty">&nbsp;</td>     </tr>     <tr>      <td><a href="https://www.php.net/manual/zh/mysqli.configuration.php#ini.mysqli.reconnect" class="link">mysqli.reconnect</a></td>      <td>&quot;0&quot;</td>      <td>PHP_INI_SYSTEM</td>      <td>自 PHP 8.2.0 起移除</td>     </tr>     <tr>      <td><a href="https://www.php.net/manual/zh/mysqli.configuration.php#ini.mysqli.rollback-on-cached-plink" class="link">mysqli.rollback_on_cached_plink</a></td>      <td>&quot;0&quot;</td>      <td>PHP_INI_SYSTEM</td>      <td class="empty">&nbsp;</td>     </tr>    </tbody>     </table> </p> <p class="para"> 关于前面出现的PHP_INI_*系列常量的详细定义，请参阅<a href="https://www.php.net/manual/zh/configuration.changes.php" class="link">配置的修改</a>一章。 </p> <p class="para">这是配置指令的简短说明。</p> <p class="para"> <dl>         <dt id="ini.mysqli.allow-local-infile">    <span class="parameter" style="color:#3A95FF">mysqli.allow_local_infile</span>    <span class="type" style="color:#EAB766">int</span>   </dt>   <dd>    <p class="para">     允许Mysql的Load Data语句访问PHP角度看的本地文件。    </p>   </dd>       <dt id="ini.mysqli.local-infile-directory">    <span class="parameter" style="color:#3A95FF">mysqli.local_infile_directory</span>    <span class="type" style="color:#EAB766">string</span>   </dt>   <dd>    <p class="para">     限制加载 LOCAL DATA 文件为指定的目录。    </p>   </dd>         <dt id="ini.mysqli.allow-persistent">    <span class="parameter" style="color:#3A95FF">mysqli.allow_persistent</span>    <span class="type" style="color:#EAB766">int</span>   </dt>   <dd>    <p class="para">    开启使用<span class="function">{@link mysqli_connect()}</span>函数创建持久化连接的能力。    </p>   </dd>       <dt id="ini.mysqli.max-persistent">    <span class="parameter" style="color:#3A95FF">mysqli.max_persistent</span>    <span class="type" style="color:#EAB766">int</span>   </dt>   <dd>    <p class="para">    可以创建的持久化连接的最大数量，设置为0表明不限制。    </p>   </dd>       <dt id="ini.mysqli.max-links">    <span class="parameter" style="color:#3A95FF">mysqli.max_links</span>    <span class="type" style="color:#EAB766">int</span>   </dt>   <dd>    <p class="para">    每个进程中Mysql连接的最大数量。    </p>   </dd>        <dt id="ini.mysqli.default-port">    <span class="parameter" style="color:#3A95FF">mysqli.default_port</span>    <span class="type" style="color:#EAB766">int</span>   </dt>   <dd>    <p class="para">    当没有指定其他端口号时使用的默认的用于连接数据库服务器的TCP端口号。如果没有设置默认值，    端口号将会按照顺序从环境变量<span>MYSQL_TCP_PORT</span>，<var class="filename">/etc/services</var>    文件中的<span>mysql-tcp</span>条目或编译期的<span>MYSQL_PORT</span>常量等位置获取。    Win32仅使用<span>MYSQL_PORT</span>常量。    </p>   </dd>         <dt id="ini.mysqli.default-socket">    <span class="parameter" style="color:#3A95FF">mysqli.default_socket</span>    <span class="type" style="color:#EAB766">string</span>   </dt>   <dd>    <p class="para">    当连接到本地数据库服务器时如果没有指定其他socket名称，使用的默认socket名称。    </p>   </dd>              <dt id="ini.mysqli.default-host">    <span class="parameter" style="color:#3A95FF">mysqli.default_host</span>    <span class="type" style="color:#EAB766">string</span>   </dt>   <dd>    <p class="para">    当连接到数据库服务器时， 如果没有指定其他主机地址，使用的默认服务器主机。    </p>   </dd>           <dt id="ini.mysqli.default-user">    <span class="parameter" style="color:#3A95FF">mysqli.default_user</span>    <span class="type" style="color:#EAB766">string</span>   </dt>   <dd>    <p class="para">    当连接到数据库服务器时，如果没有指定其他用户名，使用的默认用户名。    </p>   </dd>           <dt id="ini.mysqli.default-pw">    <span class="parameter" style="color:#3A95FF">mysqli.default_pw</span>    <span class="type" style="color:#EAB766">string</span>   </dt>   <dd>    <p class="para">    当连接到数据库服务器时，如果没有指定其他密码，使用的默认密码。    </p>   </dd>             <dt id="ini.mysqli.reconnect">    <span class="parameter" style="color:#3A95FF">mysqli.reconnect</span>    <span class="type" style="color:#EAB766">int</span>   </dt>   <dd>    <p class="para">    连接丢失时是否自动重新连接。    </p>    <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:      <span class="simpara">mysqlnd 驱动已此忽略此 <var class="filename">php.ini</var> 设置，并于 PHP 8.2.0 起移除。</span>    </p></blockquote>   </dd>       <dt id="ini.mysqli.rollback-on-cached-plink">    <span class="parameter" style="color:#3A95FF">mysqli.rollback_on_cached_plink</span>    <span class="type" style="color:#EAB766">bool</span>   </dt>   <dd>    <p class="para">     If this option is enabled, closing a persistent connection will rollback     any pending transactions of this connection before it is put back into the     persistent connection pool. Otherwise, pending transactions will be rolled     back only when the connection is reused, or when it is actually closed.    </p>   </dd>     </dl> </p> <p class="para"> 用户不能通过API调用或运行时配置来设置<span>MYSQL_OPT_READ_TIMEOUT</span>。 注意，如果可能这样做那么<span>libmysqlclient</span>和流对<span>MYSQL_OPT_READ_TIMEOUT</span> 的值将会有不同的解释。  </p></div>