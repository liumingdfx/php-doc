<div id="memcache.examples-overview" class="section">  <h2 class="title">基础用法</h2>  <p class="para">   <div class="example" id="">    <p><strong>示例 #1 memcache 扩展概述示例</strong></p>    <div class="example-contents"><p>     在这个例子中，一个对象被保存到缓存中，又被取回。存储之前会序列化对象和其他非标量类型，因此不能在缓存中存储资源（即连接标识符和其它）。    </p></div>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$memcache </span><span style="color: #007700">= new </span><span style="color: #9876AA">Memcache</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$memcache</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">, </span><span style="color: #9876AA">11211</span><span style="color: #007700">) or die (</span><span style="color: #DD0000">"Could not connect"</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$version </span><span style="color: #007700">= </span><span style="color: #9876AA">$memcache</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getVersion</span><span style="color: #007700">();<br />echo </span><span style="color: #DD0000">"Server's version: "</span><span style="color: #007700">.</span><span style="color: #9876AA">$version</span><span style="color: #007700">.</span><span style="color: #DD0000">"&lt;br/&gt;\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">$tmp_object </span><span style="color: #007700">= new </span><span style="color: #9876AA">stdClass</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$tmp_object</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">str_attr </span><span style="color: #007700">= </span><span style="color: #DD0000">'test'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$tmp_object</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">int_attr </span><span style="color: #007700">= </span><span style="color: #9876AA">123</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">$memcache</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">set</span><span style="color: #007700">(</span><span style="color: #DD0000">'key'</span><span style="color: #007700">, </span><span style="color: #9876AA">$tmp_object</span><span style="color: #007700">, </span><span style="color: #9876AA">false</span><span style="color: #007700">, </span><span style="color: #9876AA">10</span><span style="color: #007700">) or die (</span><span style="color: #DD0000">"Failed to save data at the server"</span><span style="color: #007700">);<br />echo </span><span style="color: #DD0000">"Store data in the cache (data will expire in 10 seconds)&lt;br/&gt;\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">$get_result </span><span style="color: #007700">= </span><span style="color: #9876AA">$memcache</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">get</span><span style="color: #007700">(</span><span style="color: #DD0000">'key'</span><span style="color: #007700">);<br />echo </span><span style="color: #DD0000">"Data from the cache:&lt;br/&gt;\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$get_result</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 使用 memcache session 处理程序</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$session_save_path </span><span style="color: #007700">= </span><span style="color: #DD0000">"tcp://</span><span style="color: #9876AA">$host</span><span style="color: #DD0000">:</span><span style="color: #9876AA">$port</span><span style="color: #DD0000">?persistent=1&amp;weight=2&amp;timeout=2&amp;retry_interval=10,  ,tcp://</span><span style="color: #9876AA">$host</span><span style="color: #DD0000">:</span><span style="color: #9876AA">$port</span><span style="color: #DD0000">  "</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'session.save_handler'</span><span style="color: #007700">, </span><span style="color: #DD0000">'memcache'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'session.save_path'</span><span style="color: #007700">, </span><span style="color: #9876AA">$session_save_path</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p> </div>