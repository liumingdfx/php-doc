<div id="function.yaz-es" class="refentry"> <div class="refnamediv">  <h1 class="refname">yaz_es</h1>  <p class="verinfo">(PECL yaz &gt;= 0.9.0)</p><p class="refpurpose"><span class="refname">yaz_es</span> &mdash; <span class="dc-title">   Prepares for an Extended Service Request  </span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.yaz-es-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>yaz_es</strong></span>(<span class="methodparam">    <span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$id</span>   </span>, <span class="methodparam">    <span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$type</span>   </span>, <span class="methodparam">    <span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$args</span>   </span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div>  <p class="para rdfs-comment">   This function prepares for an Extended Service Request.   Extended Services is family of various Z39.50 facilities, such   as Record Update, Item Order, Database administration etc.  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    Many Z39.50 Servers do not support Extended Services.   </p>  </p></blockquote>  <p class="para">   The <span class="function"><strong style="color:#CC7832">yaz_es()</strong></span> creates an Extended Service Request   packages and puts it into a queue of operations.   Use <span class="function">{@link yaz_wait()}</span> to send the request(s) to the server.   After completion of <span class="function">{@link yaz_wait()}</span> the result of   the Extended Service operation should be expected with   a call to <span class="function">{@link yaz_es_result()}</span>.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.yaz-es-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">id</span></dt>     <dd>      <p class="para">       The connection resource returned by <span class="function">{@link yaz_connect()}</span>.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">type</span></dt>     <dd>      <p class="para">       A string which represents the type of the Extended Service:        <span>itemorder</span> (Item Order),       <span>create</span> (Create Database),       <span>drop</span> (Drop Database),       <span>commit</span> (Commit Operation),       <span>update</span> (Update Record),       <span>xmlupdate</span> (XML Update).       Each type is specified in the following section.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">args</span></dt>     <dd>      <p class="para">       An array with extended service options plus       package specific options. The options are identical to       those offered in the C API of ZOOM C. Refer to       the ZOOM <a href="http://www.indexdata.dk/yaz/doc/zoom.tkl" class="link external">&raquo;&nbsp;Extended Services</a>.      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.yaz-es-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   没有返回值。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.yaz-es-examples">  <h3 class="title">示例</h3>  <div class="example" id="">   <p><strong>示例 #1 Record Update</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$con </span><span style="color: #007700">= </span><span style="color: #9876AA">yaz_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"myhost/database"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$args </span><span style="color: #007700">= array (<br />    </span><span style="color: #DD0000">"record" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"&lt;gils&gt;&lt;title&gt;some title&lt;/title&gt;&lt;/gils&gt;"</span><span style="color: #007700">,<br />    </span><span style="color: #DD0000">"syntax" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"xml"</span><span style="color: #007700">,<br />    </span><span style="color: #DD0000">"action" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"specialUpdate"<br /></span><span style="color: #007700">);<br /></span><span style="color: #9876AA">yaz_es</span><span style="color: #007700">(</span><span style="color: #9876AA">$con</span><span style="color: #007700">, </span><span style="color: #DD0000">"update"</span><span style="color: #007700">, </span><span style="color: #9876AA">$args</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">yaz_wait</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">yaz_es_result</span><span style="color: #007700">(</span><span style="color: #9876AA">$id</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>   </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.yaz-es-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link yaz_es_result()} - Inspects Extended Services Result</span></li>   </ul>  </span> </div></div>