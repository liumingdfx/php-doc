<div id="function.imagefilter" class="refentry"> <div class="refnamediv">  <h1 class="refname">imagefilter</h1>  <p class="verinfo">(PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">imagefilter</span> &mdash; <span class="dc-title">对图像使用过滤器</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.imagefilter-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>imagefilter</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.gdimage.php" class="type GdImage" style="color:#EAB766">GdImage</a></span> <span class="parameter" style="color:#3A95FF">$image</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$filter</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span>|<span class="type" style="color:#EAB766">int</span>|<span class="type" style="color:#EAB766">float</span>|<span class="type" style="color:#EAB766">bool</span></span> <span class="parameter" style="color:#3A95FF">...$args</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">imagefilter()</strong></span> 在 <span class="parameter" style="color:#3A95FF">image</span>   上应用指定的过滤器 <span class="parameter" style="color:#3A95FF">filter</span>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.imagefilter-parameters">  <h3 class="title">参数</h3>  <span>   <dl>    <dt><span class="parameter" style="color:#3A95FF">image</span></dt><dd><p class="para">由图象创建函数(例如<span class="function">{@link imagecreatetruecolor()}</span>)返回的 <span class="classname"><a href="https://www.php.net/manual/zh/class.gdimage.php" class="classname">GdImage</a></span> 对象。</p></dd>         <dt><span class="parameter" style="color:#3A95FF">filter</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">filter</span> 可以是下列中的一个：       <ul class="itemizedlist">        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_NEGATE</span></strong>：将图像中所有颜色反转。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_GRAYSCALE</span></strong>: Converts the image into          grayscale by changing the red, green and blue components to their          weighted sum using the same coefficients as the REC.601 luma (Y&#039;)          calculation. The alpha components are retained. For palette images the          result may differ due to palette limitations.         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_BRIGHTNESS</span></strong>：更改图像的亮度。使用 <span class="parameter" style="color:#3A95FF">args</span>          设置亮度级别。亮度的范围是 -255 到 255。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_CONTRAST</span></strong>：更改图像的对比度。使用 <span class="parameter" style="color:#3A95FF">args</span>          设置对比度级别。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_COLORIZE</span></strong>：与 <strong><span>IMG_FILTER_GRAYSCALE</span></strong>          类似，区别是可以指定颜色。使用 <span class="parameter" style="color:#3A95FF">args</span>、<span class="parameter" style="color:#3A95FF">arg2</span> 和          <span class="parameter" style="color:#3A95FF">arg3</span> 以 <span class="parameter" style="color:#3A95FF">red</span>、<span class="parameter" style="color:#3A95FF">green</span>、<span class="parameter" style="color:#3A95FF">blue</span>          的形式和 <span class="parameter" style="color:#3A95FF">arg4</span> 用于 <span class="parameter" style="color:#3A95FF">alpha</span> 通道。每种颜色的范围是 0 到 255。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_EDGEDETECT</span></strong>：用边缘检测来突出图像的边缘。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_EMBOSS</span></strong>：使图像浮雕化。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_GAUSSIAN_BLUR</span></strong>：用高斯算法模糊图像。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_SELECTIVE_BLUR</span></strong>：模糊图像。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_MEAN_REMOVAL</span></strong>：用平均移除法来达到“轮廓”效果。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_SMOOTH</span></strong>：使图像更平滑。用      <span class="parameter" style="color:#3A95FF">args</span> 设定平滑级别。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_PIXELATE</span></strong>：对图像应用像素化效果，使用 <span class="parameter" style="color:#3A95FF">args</span>          设置块大小和 <span class="parameter" style="color:#3A95FF">arg2</span> 设置像素化效果模式。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_SCATTER</span></strong>：将散射效果应用于图像，使用 <span class="parameter" style="color:#3A95FF">args</span>          和 <span class="parameter" style="color:#3A95FF">arg2</span> 定义效果强度，另外使用 <span class="parameter" style="color:#3A95FF">arg3</span> 仅应用选定像素颜色。         </span>        </li>       </ul>      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">args</span></dt>     <dd>      <p class="para">       <ul class="itemizedlist">        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_BRIGHTNESS</span></strong>：亮度级别。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_CONTRAST</span></strong>：对比度级别。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_COLORIZE</span></strong>: 红色成分的值。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_SMOOTH</span></strong>: Smoothness level.         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_PIXELATE</span></strong>: Block size in pixels.         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_SCATTER</span></strong>: Effect substraction level.           This must not be higher or equal to the addition level set with           <span class="parameter" style="color:#3A95FF">arg2</span>.         </span>        </li>       </ul>      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">arg2</span></dt>     <dd>      <p class="para">       <ul class="itemizedlist">        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_COLORIZE</span></strong>: 绿色成分的值。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_PIXELATE</span></strong>：是否使用高级像素化效果（默认为 <strong><span>false</span></strong>）。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_SCATTER</span></strong>：效果添加级别。         </span>        </li>       </ul>      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">arg3</span></dt>     <dd>      <p class="para">       <ul class="itemizedlist">        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_COLORIZE</span></strong>: 蓝色成分的值。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_SCATTER</span></strong>: Optional array indexed color values           to apply effect at.         </span>        </li>       </ul>      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">arg4</span></dt>     <dd>      <p class="para">       <ul class="itemizedlist">        <li class="listitem">         <span class="simpara">          <strong><span>IMG_FILTER_COLORIZE</span></strong>: Alpha channel, A value           between 0 and 127. 0 indicates completely opaque while 127 indicates           completely transparent.         </span>        </li>       </ul>      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.imagefilter-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.imagefilter-changelog">  <h3 class="title">更新日志</h3>  <span>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>     </thead>     <tbody class="tbody">      <tr> <td>8.0.0</td> <td>  <span class="parameter" style="color:#3A95FF">image</span> 现在需要 <span class="classname"><a href="https://www.php.net/manual/zh/class.gdimage.php" class="classname">GdImage</a></span> 实例；之前需要有效的 <span>gd</span> <span class="type" style="color:#EAB766">resource</span>。 </td></tr>      <tr>       <td>7.4.0</td>       <td>        新增散射支持（<strong><span>IMG_FILTER_SCATTER</span></strong>）。       </td>      </tr>     </tbody>       </table>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.imagefilter-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">imagefilter()</strong></span> 灰度示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$im </span><span style="color: #007700">= </span><span style="color: #9876AA">imagecreatefrompng</span><span style="color: #007700">(</span><span style="color: #DD0000">'dave.png'</span><span style="color: #007700">);<br /><br />if(</span><span style="color: #9876AA">$im </span><span style="color: #007700">&amp;&amp; </span><span style="color: #9876AA">imagefilter</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">, </span><span style="color: #9876AA">IMG_FILTER_GRAYSCALE</span><span style="color: #007700">))<br />{<br />    echo </span><span style="color: #DD0000">'Image converted to grayscale.'</span><span style="color: #007700">;<br /><br />    </span><span style="color: #9876AA">imagepng</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">, </span><span style="color: #DD0000">'dave.png'</span><span style="color: #007700">);<br />}<br />else<br />{<br />    echo </span><span style="color: #DD0000">'Conversion to grayscale failed.'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #9876AA">imagedestroy</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 <span class="function"><strong style="color:#CC7832">imagefilter()</strong></span> 亮度示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$im </span><span style="color: #007700">= </span><span style="color: #9876AA">imagecreatefrompng</span><span style="color: #007700">(</span><span style="color: #DD0000">'sean.png'</span><span style="color: #007700">);<br /><br />if(</span><span style="color: #9876AA">$im </span><span style="color: #007700">&amp;&amp; </span><span style="color: #9876AA">imagefilter</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">, </span><span style="color: #9876AA">IMG_FILTER_BRIGHTNESS</span><span style="color: #007700">, </span><span style="color: #9876AA">20</span><span style="color: #007700">))<br />{<br />    echo </span><span style="color: #DD0000">'Image brightness changed.'</span><span style="color: #007700">;<br /><br />    </span><span style="color: #9876AA">imagepng</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">, </span><span style="color: #DD0000">'sean.png'</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">imagedestroy</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">);<br />}<br />else<br />{<br />    echo </span><span style="color: #DD0000">'Image brightness change failed.'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p>  <p class="para">   <div class="example" id="">    <p><strong>示例 #3 <span class="function"><strong style="color:#CC7832">imagefilter()</strong></span> 着色示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$im </span><span style="color: #007700">= </span><span style="color: #9876AA">imagecreatefrompng</span><span style="color: #007700">(</span><span style="color: #DD0000">'philip.png'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// R, G, B, so 0, 255, 0 is green <br /></span><span style="color: #007700">if(</span><span style="color: #9876AA">$im </span><span style="color: #007700">&amp;&amp; </span><span style="color: #9876AA">imagefilter</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">, </span><span style="color: #9876AA">IMG_FILTER_COLORIZE</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">255</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">))<br />{<br />    echo </span><span style="color: #DD0000">'Image successfully shaded green.'</span><span style="color: #007700">;<br /><br />    </span><span style="color: #9876AA">imagepng</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">, </span><span style="color: #DD0000">'philip.png'</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">imagedestroy</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">);<br />}<br />else<br />{<br />    echo </span><span style="color: #DD0000">'Green shading failed.'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p>  <p class="para">   <div class="example" id="">    <p><strong>示例 #4 <span class="function"><strong style="color:#CC7832">imagefilter()</strong></span> 反例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Define our negate function so its portable for <br />// php versions without imagefilter()<br /></span><span style="color: #007700">function </span><span style="color: #9876AA">negate</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">)<br />{<br />    if(</span><span style="color: #9876AA">function_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'imagefilter'</span><span style="color: #007700">))<br />    {<br />        return </span><span style="color: #9876AA">imagefilter</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">, </span><span style="color: #9876AA">IMG_FILTER_NEGATE</span><span style="color: #007700">);<br />    }<br /><br />    for(</span><span style="color: #9876AA">$x </span><span style="color: #007700">= </span><span style="color: #9876AA">0</span><span style="color: #007700">; </span><span style="color: #9876AA">$x </span><span style="color: #007700">&lt; </span><span style="color: #9876AA">imagesx</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">); ++</span><span style="color: #9876AA">$x</span><span style="color: #007700">)<br />    {<br />        for(</span><span style="color: #9876AA">$y </span><span style="color: #007700">= </span><span style="color: #9876AA">0</span><span style="color: #007700">; </span><span style="color: #9876AA">$y </span><span style="color: #007700">&lt; </span><span style="color: #9876AA">imagesy</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">); ++</span><span style="color: #9876AA">$y</span><span style="color: #007700">)<br />        {<br />            </span><span style="color: #9876AA">$index </span><span style="color: #007700">= </span><span style="color: #9876AA">imagecolorat</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">, </span><span style="color: #9876AA">$x</span><span style="color: #007700">, </span><span style="color: #9876AA">$y</span><span style="color: #007700">);<br />            </span><span style="color: #9876AA">$rgb </span><span style="color: #007700">= </span><span style="color: #9876AA">imagecolorsforindex</span><span style="color: #007700">(</span><span style="color: #9876AA">$index</span><span style="color: #007700">);<br />            </span><span style="color: #9876AA">$color </span><span style="color: #007700">= </span><span style="color: #9876AA">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">, </span><span style="color: #9876AA">255 </span><span style="color: #007700">- </span><span style="color: #9876AA">$rgb</span><span style="color: #007700">[</span><span style="color: #DD0000">'red'</span><span style="color: #007700">], </span><span style="color: #9876AA">255 </span><span style="color: #007700">- </span><span style="color: #9876AA">$rgb</span><span style="color: #007700">[</span><span style="color: #DD0000">'green'</span><span style="color: #007700">], </span><span style="color: #9876AA">255 </span><span style="color: #007700">- </span><span style="color: #9876AA">$rgb</span><span style="color: #007700">[</span><span style="color: #DD0000">'blue'</span><span style="color: #007700">]);<br /><br />            </span><span style="color: #9876AA">imagesetpixel</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">, </span><span style="color: #9876AA">$x</span><span style="color: #007700">, </span><span style="color: #9876AA">$y</span><span style="color: #007700">, </span><span style="color: #9876AA">$color</span><span style="color: #007700">);<br />        }<br />    }<br /><br />    return(</span><span style="color: #9876AA">true</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #9876AA">$im </span><span style="color: #007700">= </span><span style="color: #9876AA">imagecreatefromjpeg</span><span style="color: #007700">(</span><span style="color: #DD0000">'kalle.jpg'</span><span style="color: #007700">);<br /><br />if(</span><span style="color: #9876AA">$im </span><span style="color: #007700">&amp;&amp; </span><span style="color: #9876AA">negate</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">))<br />{<br />    echo </span><span style="color: #DD0000">'Image successfully converted to negative colors.'</span><span style="color: #007700">;<br /><br />    </span><span style="color: #9876AA">imagejpeg</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">, </span><span style="color: #DD0000">'kalle.jpg'</span><span style="color: #007700">, </span><span style="color: #9876AA">100</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">imagedestroy</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">);<br />}<br />else<br />{<br />    echo </span><span style="color: #DD0000">'Converting to negative colors failed.'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p>  <p class="para">   <div class="example" id="">    <p><strong>示例 #5 <span class="function"><strong style="color:#CC7832">imagefilter()</strong></span> 像素化示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Load the PHP logo, we need to create two instances <br />// to show the differences<br /></span><span style="color: #9876AA">$logo1 </span><span style="color: #007700">= </span><span style="color: #9876AA">imagecreatefrompng</span><span style="color: #007700">(</span><span style="color: #DD0000">'./php.png'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$logo2 </span><span style="color: #007700">= </span><span style="color: #9876AA">imagecreatefrompng</span><span style="color: #007700">(</span><span style="color: #DD0000">'./php.png'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Create the image instance we want to show the <br />// differences on<br /></span><span style="color: #9876AA">$output </span><span style="color: #007700">= </span><span style="color: #9876AA">imagecreatetruecolor</span><span style="color: #007700">(</span><span style="color: #9876AA">imagesx</span><span style="color: #007700">(</span><span style="color: #9876AA">$logo1</span><span style="color: #007700">) * </span><span style="color: #9876AA">2</span><span style="color: #007700">, </span><span style="color: #9876AA">imagesy</span><span style="color: #007700">(</span><span style="color: #9876AA">$logo1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">// Apply pixelation to each instance, with a block <br />// size of 3<br /></span><span style="color: #9876AA">imagefilter</span><span style="color: #007700">(</span><span style="color: #9876AA">$logo1</span><span style="color: #007700">, </span><span style="color: #9876AA">IMG_FILTER_PIXELATE</span><span style="color: #007700">, </span><span style="color: #9876AA">3</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">imagefilter</span><span style="color: #007700">(</span><span style="color: #9876AA">$logo2</span><span style="color: #007700">, </span><span style="color: #9876AA">IMG_FILTER_PIXELATE</span><span style="color: #007700">, </span><span style="color: #9876AA">3</span><span style="color: #007700">, </span><span style="color: #9876AA">true</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Merge the differences onto the output image<br /></span><span style="color: #9876AA">imagecopy</span><span style="color: #007700">(</span><span style="color: #9876AA">$output</span><span style="color: #007700">, </span><span style="color: #9876AA">$logo1</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">imagesx</span><span style="color: #007700">(</span><span style="color: #9876AA">$logo1</span><span style="color: #007700">) - </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">imagesy</span><span style="color: #007700">(</span><span style="color: #9876AA">$logo1</span><span style="color: #007700">) - </span><span style="color: #9876AA">1</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">imagecopy</span><span style="color: #007700">(</span><span style="color: #9876AA">$output</span><span style="color: #007700">, </span><span style="color: #9876AA">$logo2</span><span style="color: #007700">, </span><span style="color: #9876AA">imagesx</span><span style="color: #007700">(</span><span style="color: #9876AA">$logo2</span><span style="color: #007700">), </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">imagesx</span><span style="color: #007700">(</span><span style="color: #9876AA">$logo2</span><span style="color: #007700">) - </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">imagesy</span><span style="color: #007700">(</span><span style="color: #9876AA">$logo2</span><span style="color: #007700">) - </span><span style="color: #9876AA">1</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">imagedestroy</span><span style="color: #007700">(</span><span style="color: #9876AA">$logo1</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">imagedestroy</span><span style="color: #007700">(</span><span style="color: #9876AA">$logo2</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Output the differences<br /></span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Type: image/png'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">imagepng</span><span style="color: #007700">(</span><span style="color: #9876AA">$output</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">imagedestroy</span><span style="color: #007700">(</span><span style="color: #9876AA">$output</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例的输出类似于：</p></div>    <div class="mediaobject">          <div class="imageobject">      <img src="images/21009b70229598c6a80eef8b45bf282b-imagefilterpixelate.png" alt="示例输出：imagefilter() 像素化" width="190" height="51" />     </div>    </div>   </div>  </p>  <p class="para">   <div class="example" id="">    <p><strong>示例 #6 <span class="function"><strong style="color:#CC7832">imagefilter()</strong></span> 散射示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Load the image<br /></span><span style="color: #9876AA">$logo </span><span style="color: #007700">= </span><span style="color: #9876AA">imagecreatefrompng</span><span style="color: #007700">(</span><span style="color: #DD0000">'./php.png'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Apply a very soft scatter effect to the image<br /></span><span style="color: #9876AA">imagefilter</span><span style="color: #007700">(</span><span style="color: #9876AA">$logo</span><span style="color: #007700">, </span><span style="color: #9876AA">IMG_FILTER_SCATTER</span><span style="color: #007700">, </span><span style="color: #9876AA">3</span><span style="color: #007700">, </span><span style="color: #9876AA">5</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Output the image with the scatter effect<br /></span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Type: image/png'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">imagepng</span><span style="color: #007700">(</span><span style="color: #9876AA">$logo</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">imagedestroy</span><span style="color: #007700">(</span><span style="color: #9876AA">$logo</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例的输出类似于：</p></div>    <div class="mediaobject">          <div class="imageobject">      <img src="images/21009b70229598c6a80eef8b45bf282b-scatter.png" alt="Output of example : imagefilter() scatter" width="200" height="106" />     </div>    </div>   </div>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.imagefilter-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <span class="simpara">    <strong><span>IMG_FILTER_SCATTER</span></strong> 的结果始终随机。   </span>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.imagefilter-seealso">  <h3 class="title">参见</h3>  <ul class="simplelist">   <li class="member"><span class="function">{@link imageconvolution()} - 用系数 div 和 offset 申请一个 3x3 的卷积矩阵</span></li>  </ul> </div></div>