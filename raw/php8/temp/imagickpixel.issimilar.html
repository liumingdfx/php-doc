<div id="imagickpixel.issimilar" class="refentry"> <div class="refnamediv">  <h1 class="refname">ImagickPixel::isSimilar</h1>  <p class="verinfo">(PECL imagick 2, PECL imagick 3)</p><p class="refpurpose"><span class="refname">ImagickPixel::isSimilar</span> &mdash; <span class="dc-title">Check the distance between this color and another</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-imagickpixel.issimilar-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>ImagickPixel::isSimilar</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.imagickpixel.php" class="type ImagickPixel" style="color:#EAB766">ImagickPixel</a></span> <span class="parameter" style="color:#3A95FF">$color</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">float</span> <span class="parameter" style="color:#3A95FF">$fuzz</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <div class="warning"><strong class="warning">警告</strong><p class="simpara">本函数还未编写文档，仅有参数列表。</p></div>  <p class="para">   Checks the distance between the color described by this ImagickPixel   object and that of the provided object, by plotting their RGB values   on the color cube. If the distance between the two points is less than   the fuzz value given, the colors are similar.   Deprecated in favour of {@link ImagickPixel::isPixelSimilar()}.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-imagickpixel.issimilar-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">color</span></dt>     <dd>      <p class="para">       The ImagickPixel object to compare this object against.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">fuzz</span></dt>     <dd>      <p class="para">       The maximum distance within which to consider these colors as similar.       The theoretical maximum for this value is the square root of three       (1.732).      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-imagickpixel.issimilar-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-imagickpixel.issimilar-examples">  <h3 class="title">示例</h3>  <span>    <div class="example" id="">      <p><strong>示例 #1  <span class="function"><strong style="color:#CC7832">ImagickPixel::isSimilar()</strong></span></strong></p>      <div class="example-contents">      <div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />        </span><span style="color: #FF8000">// The tests below are written with the maximum distance expressed as 255<br />        // so we need to scale them by the square root of 3 - the diagonal length<br />        // of a unit cube.<br />        </span><span style="color: #9876AA">$root3 </span><span style="color: #007700">= </span><span style="color: #9876AA">1.732050807568877</span><span style="color: #007700">;<br /><br />        </span><span style="color: #9876AA">$tests </span><span style="color: #007700">= array(<br />            [</span><span style="color: #DD0000">'rgb(245, 0, 0)'</span><span style="color: #007700">,      </span><span style="color: #DD0000">'rgb(255, 0, 0)'</span><span style="color: #007700">,   </span><span style="color: #9876AA">9 </span><span style="color: #007700">/ </span><span style="color: #9876AA">$root3</span><span style="color: #007700">,         </span><span style="color: #9876AA">false</span><span style="color: #007700">,],<br />            [</span><span style="color: #DD0000">'rgb(245, 0, 0)'</span><span style="color: #007700">,      </span><span style="color: #DD0000">'rgb(255, 0, 0)'</span><span style="color: #007700">,  </span><span style="color: #9876AA">10 </span><span style="color: #007700">/ </span><span style="color: #9876AA">$root3</span><span style="color: #007700">,         </span><span style="color: #9876AA">true</span><span style="color: #007700">,],<br />            [</span><span style="color: #DD0000">'rgb(0, 0, 0)'</span><span style="color: #007700">,        </span><span style="color: #DD0000">'rgb(7, 7, 0)'</span><span style="color: #007700">,     </span><span style="color: #9876AA">9 </span><span style="color: #007700">/ </span><span style="color: #9876AA">$root3</span><span style="color: #007700">,         </span><span style="color: #9876AA">false</span><span style="color: #007700">,],<br />            [</span><span style="color: #DD0000">'rgb(0, 0, 0)'</span><span style="color: #007700">,        </span><span style="color: #DD0000">'rgb(7, 7, 0)'</span><span style="color: #007700">,    </span><span style="color: #9876AA">10 </span><span style="color: #007700">/ </span><span style="color: #9876AA">$root3</span><span style="color: #007700">,         </span><span style="color: #9876AA">true</span><span style="color: #007700">,],<br />            [</span><span style="color: #DD0000">'rgba(0, 0, 0, 1)'</span><span style="color: #007700">,    </span><span style="color: #DD0000">'rgba(7, 7, 0, 1)'</span><span style="color: #007700">, </span><span style="color: #9876AA">9 </span><span style="color: #007700">/ </span><span style="color: #9876AA">$root3</span><span style="color: #007700">,         </span><span style="color: #9876AA">false</span><span style="color: #007700">,],<br />            [</span><span style="color: #DD0000">'rgba(0, 0, 0, 1)'</span><span style="color: #007700">,    </span><span style="color: #DD0000">'rgba(7, 7, 0, 1)'</span><span style="color: #007700">,    </span><span style="color: #9876AA">10 </span><span style="color: #007700">/ </span><span style="color: #9876AA">$root3</span><span style="color: #007700">,     </span><span style="color: #9876AA">true</span><span style="color: #007700">,],<br />            [</span><span style="color: #DD0000">'rgb(128, 128, 128)'</span><span style="color: #007700">,  </span><span style="color: #DD0000">'rgb(128, 128, 120)'</span><span style="color: #007700">,   </span><span style="color: #9876AA">7 </span><span style="color: #007700">/ </span><span style="color: #9876AA">$root3</span><span style="color: #007700">,     </span><span style="color: #9876AA">false</span><span style="color: #007700">,],<br />            [</span><span style="color: #DD0000">'rgb(128, 128, 128)'</span><span style="color: #007700">,  </span><span style="color: #DD0000">'rgb(128, 128, 120)'</span><span style="color: #007700">,   </span><span style="color: #9876AA">8 </span><span style="color: #007700">/ </span><span style="color: #9876AA">$root3</span><span style="color: #007700">,     </span><span style="color: #9876AA">true</span><span style="color: #007700">,],<br />            [</span><span style="color: #DD0000">'rgb(0, 0, 0)'</span><span style="color: #007700">,        </span><span style="color: #DD0000">'rgb(255, 255, 255)'</span><span style="color: #007700">,   </span><span style="color: #9876AA">254.9</span><span style="color: #007700">,          </span><span style="color: #9876AA">false</span><span style="color: #007700">,],<br />            [</span><span style="color: #DD0000">'rgb(0, 0, 0)'</span><span style="color: #007700">,        </span><span style="color: #DD0000">'rgb(255, 255, 255)'</span><span style="color: #007700">,   </span><span style="color: #9876AA">255</span><span style="color: #007700">,            </span><span style="color: #9876AA">true</span><span style="color: #007700">,],<br />            [</span><span style="color: #DD0000">'rgb(255, 0, 0)'</span><span style="color: #007700">,      </span><span style="color: #DD0000">'rgb(0, 255, 255)'</span><span style="color: #007700">,     </span><span style="color: #9876AA">254.9</span><span style="color: #007700">,          </span><span style="color: #9876AA">false</span><span style="color: #007700">,],<br />            [</span><span style="color: #DD0000">'rgb(255, 0, 0)'</span><span style="color: #007700">,      </span><span style="color: #DD0000">'rgb(0, 255, 255)'</span><span style="color: #007700">,     </span><span style="color: #9876AA">255</span><span style="color: #007700">,            </span><span style="color: #9876AA">true</span><span style="color: #007700">,],<br />            [</span><span style="color: #DD0000">'black'</span><span style="color: #007700">,               </span><span style="color: #DD0000">'rgba(0, 0, 0)'</span><span style="color: #007700">,        </span><span style="color: #9876AA">0.0</span><span style="color: #007700">,            </span><span style="color: #9876AA">true</span><span style="color: #007700">],<br />            [</span><span style="color: #DD0000">'black'</span><span style="color: #007700">,               </span><span style="color: #DD0000">'rgba(10, 0, 0, 1.0)'</span><span style="color: #007700">,  </span><span style="color: #9876AA">10.0 </span><span style="color: #007700">/ </span><span style="color: #9876AA">$root3</span><span style="color: #007700">,  </span><span style="color: #9876AA">true</span><span style="color: #007700">],);<br /><br />        </span><span style="color: #9876AA">$output </span><span style="color: #007700">= </span><span style="color: #DD0000">"&lt;table width='100%' class='infoTable'&gt;&lt;thead&gt;<br />                &lt;tr&gt;<br />                &lt;th&gt;<br />                Color 1<br />                &lt;/th&gt;<br />                &lt;th&gt;<br />                Color 2<br />                &lt;/th&gt;<br />                &lt;th&gt;<br />                    Test distance * 255<br />                &lt;/th&gt;<br />                &lt;th&gt;<br />                    Is within distance<br />                &lt;/th&gt;<br />                &lt;/tr&gt;<br />        &lt;/thead&gt;"</span><span style="color: #007700">;<br /><br />        </span><span style="color: #9876AA">$output </span><span style="color: #007700">.= </span><span style="color: #DD0000">"&lt;tbody&gt;"</span><span style="color: #007700">;<br /><br />        foreach (</span><span style="color: #9876AA">$tests </span><span style="color: #007700">as </span><span style="color: #9876AA">$testInfo</span><span style="color: #007700">) {<br />            </span><span style="color: #9876AA">$color1 </span><span style="color: #007700">= </span><span style="color: #9876AA">$testInfo</span><span style="color: #007700">[</span><span style="color: #9876AA">0</span><span style="color: #007700">];<br />            </span><span style="color: #9876AA">$color2 </span><span style="color: #007700">= </span><span style="color: #9876AA">$testInfo</span><span style="color: #007700">[</span><span style="color: #9876AA">1</span><span style="color: #007700">];<br />            </span><span style="color: #9876AA">$distance </span><span style="color: #007700">= </span><span style="color: #9876AA">$testInfo</span><span style="color: #007700">[</span><span style="color: #9876AA">2</span><span style="color: #007700">];<br />            </span><span style="color: #9876AA">$expectation </span><span style="color: #007700">= </span><span style="color: #9876AA">$testInfo</span><span style="color: #007700">[</span><span style="color: #9876AA">3</span><span style="color: #007700">];<br />            </span><span style="color: #9876AA">$testDistance </span><span style="color: #007700">= (</span><span style="color: #9876AA">$distance </span><span style="color: #007700">/ </span><span style="color: #9876AA">255.0</span><span style="color: #007700">);<br /><br />            </span><span style="color: #9876AA">$color1Pixel </span><span style="color: #007700">= new </span><span style="color: #9876AA">\ImagickPixel</span><span style="color: #007700">(</span><span style="color: #9876AA">$color1</span><span style="color: #007700">);<br />            </span><span style="color: #9876AA">$color2Pixel </span><span style="color: #007700">= new </span><span style="color: #9876AA">\ImagickPixel</span><span style="color: #007700">(</span><span style="color: #9876AA">$color2</span><span style="color: #007700">);<br /><br />            </span><span style="color: #9876AA">$isSimilar </span><span style="color: #007700">= </span><span style="color: #9876AA">$color1Pixel</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">isPixelSimilar</span><span style="color: #007700">(</span><span style="color: #9876AA">$color2Pixel</span><span style="color: #007700">, </span><span style="color: #9876AA">$testDistance</span><span style="color: #007700">);<br /><br /><br />            if (</span><span style="color: #9876AA">$isSimilar </span><span style="color: #007700">!== </span><span style="color: #9876AA">$expectation</span><span style="color: #007700">) {<br />                echo </span><span style="color: #DD0000">"Test distance failed. Color [</span><span style="color: #9876AA">$color1</span><span style="color: #DD0000">] compared to color [</span><span style="color: #9876AA">$color2</span><span style="color: #DD0000">] is not within distance </span><span style="color: #9876AA">$testDistance</span><span style="color: #DD0000"> FAILED."</span><span style="color: #007700">.</span><span style="color: #9876AA">NL</span><span style="color: #007700">;<br />            }<br /><br />            </span><span style="color: #9876AA">$layout </span><span style="color: #007700">= </span><span style="color: #DD0000">"&lt;tr&gt;<br />                &lt;td&gt;%s&lt;/td&gt;<br />                &lt;td&gt;%s&lt;/td&gt;<br />                &lt;td&gt;%s&lt;/td&gt;<br />                &lt;td style='text-align: center;'&gt;%s&lt;/td&gt;<br />            &lt;/tr&gt;"</span><span style="color: #007700">;<br />            <br />            </span><span style="color: #9876AA">$output </span><span style="color: #007700">.= </span><span style="color: #9876AA">sprintf</span><span style="color: #007700">(<br />                </span><span style="color: #9876AA">$layout</span><span style="color: #007700">,<br />                </span><span style="color: #9876AA">$color1</span><span style="color: #007700">,<br />                </span><span style="color: #9876AA">$color2</span><span style="color: #007700">,<br />                </span><span style="color: #9876AA">$distance</span><span style="color: #007700">,<br />                </span><span style="color: #9876AA">$isSimilar </span><span style="color: #007700">? </span><span style="color: #DD0000">'yes' </span><span style="color: #007700">: </span><span style="color: #DD0000">'no'<br />            </span><span style="color: #007700">);<br />        }<br /><br />        </span><span style="color: #9876AA">$output </span><span style="color: #007700">.= </span><span style="color: #DD0000">"&lt;/tbody&gt;&lt;/table&gt;"</span><span style="color: #007700">;<br />        <br />        return </span><span style="color: #9876AA">$output</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>      </div>    </div>  </span> </div></div>