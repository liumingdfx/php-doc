<div id="pdo.setattribute" class="refentry"> <div class="refnamediv">  <h1 class="refname">PDO::setAttribute</h1>  <p class="verinfo">(PHP 5 &gt;= 5.1.0, PHP 7, PHP 8, PECL pdo &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">PDO::setAttribute</span> &mdash; <span class="dc-title">   设置属性  </span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-pdo.setattribute-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>PDO::setAttribute</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$attribute</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$value</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   设置数据库句柄属性。下面列出了一些可用的通用属性；有些驱动可能使用另外的特定属性。   请注意，特定的驱动程序属性<em>不得</em>用于其他驱动程序。   <dl>         <dt><strong><span>PDO::ATTR_CASE</span></strong></dt>     <dd>      <p class="para">       强制列名为指定的大小写。可以采用以下某个值：      </p>      <dl>               <dt><strong><span>PDO::CASE_LOWER</span></strong></dt>        <dd>         <span class="simpara">          强制列名小写。         </span>        </dd>                      <dt><strong><span>PDO::CASE_NATURAL</span></strong></dt>        <dd>         <span class="simpara">          保留数据库驱动返回的列名。         </span>        </dd>                      <dt><strong><span>PDO::CASE_UPPER</span></strong></dt>        <dd>         <span class="simpara">          强制列名大写。         </span>        </dd>             </dl>     </dd>             <dt><strong><span>PDO::ATTR_ERRMODE</span></strong></dt>     <dd>      <p class="para">       PDO 的报错方式。可以采用以下某个值：      </p>      <dl>               <dt><strong><span>PDO::ERRMODE_SILENT</span></strong></dt>        <dd>         <span class="simpara">          仅设置错误代码。         </span>        </dd>                      <dt><strong><span>PDO::ERRMODE_WARNING</span></strong></dt>        <dd>         <span class="simpara">          引发 <strong><span>E_WARNING</span></strong> 警告。         </span>        </dd>                      <dt><strong><span>PDO::ERRMODE_EXCEPTION</span></strong></dt>        <dd>         <span class="simpara">          抛出 <span class="classname"><a href="https://www.php.net/manual/zh/class.pdoexception.php" class="classname">PDOException</a></span>。         </span>        </dd>             </dl>     </dd>             <dt><strong><span>PDO::ATTR_ORACLE_NULLS</span></strong></dt>     <dd>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <span class="simpara">        此属性适用于所有驱动程序，而不仅仅是 Oracle。       </span>      </p></blockquote>      <p class="para">       确定是否以及如何转换 <strong><span>null</span></strong> 和空字符串。可以采用以下值之一：      </p>      <dl>               <dt><strong><span>PDO::NULL_NATURAL</span></strong></dt>        <dd>         <span class="simpara">          不发生转换。         </span>        </dd>                      <dt><strong><span>PDO::NULL_EMPTY_STRING</span></strong></dt>        <dd>         <span class="simpara">          空字符串转换为 <strong><span>null</span></strong>。         </span>        </dd>                      <dt><strong><span>PDO::NULL_TO_STRING</span></strong></dt>        <dd>         <span class="simpara">          <strong><span>null</span></strong> 被转换为空字符串。         </span>        </dd>             </dl>     </dd>             <dt><strong><span>PDO::ATTR_STRINGIFY_FETCHES</span></strong></dt>     <dd>      <p class="para">       获取时是否将数值转换为字符串。值采用 <span class="type" style="color:#EAB766">bool</span> 类型：<strong><span>true</span></strong> 表示启用，<strong><span>false</span></strong> 表示禁用。      </p>     </dd>             <dt><strong><span>PDO::ATTR_STATEMENT_CLASS</span></strong></dt>     <dd>      <p class="para">       设置从 PDOStatement 派生的用户提供的语句类。              需要 <span>array(string classname, array(mixed constructor_args))</span>。      </p>      <div class="caution"><strong class="caution">警告</strong>       <p class="simpara">        不能用于持久 PDO 实例。       </p>      </div>     </dd>             <dt><strong><span>PDO::ATTR_TIMEOUT</span></strong></dt>     <dd>      <p class="para">       指定超时的秒数。需要 <span class="type" style="color:#EAB766">int</span> 类型的值。      </p>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <p class="para">        并非所有驱动都支持此选项，这意味着驱动和驱动之间可能会有差异。比如，SQLite 等待的时间达到此值后就放弃获取可写锁，但其他驱动可能会将此值解释为一个连接或读取超时的间隔。        </p>      </p></blockquote>     </dd>             <dt><strong><span>PDO::ATTR_AUTOCOMMIT</span></strong></dt>     <dd>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <span class="simpara">        仅适用于 OCI、Firebird 和 MySQL 驱动程序。       </span>      </p></blockquote>      <p class="para">       是否自动提交每个单独的语句。采用 <span class="type" style="color:#EAB766">bool</span> 类型的值：<strong><span>true</span></strong> 表示启用，<strong><span>false</span></strong> 表示禁用。默认为 <strong><span>true</span></strong>。      </p>     </dd>             <dt><strong><span>PDO::ATTR_EMULATE_PREPARES</span></strong></dt>     <dd>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <span class="simpara">        仅适用于 OCI、Firebird 和 MySQL 驱动程序。       </span>      </p></blockquote>      <p class="para">       是否启用或禁用预处理语句的模拟。有些驱动天然不支持或有限度地支持预处理语句。如果设置为 <strong><span>true</span></strong>，PDO       始终模拟预处理语句，否则 PDO 将会尝试使用本地预处理语句。如果驱动不能成功预处理当前查询，PDO 将始终回退到模拟预处理语句上。      </p>     </dd>             <dt><strong><span>PDO::MYSQL_ATTR_USE_BUFFERED_QUERY</span></strong></dt>     <dd>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <span class="simpara">        仅适用于 MySQL 驱动程序。       </span>      </p></blockquote>      <p class="para">       是否使用缓冲查询。采用 <span class="type" style="color:#EAB766">bool</span> 类型的值：<strong><span>true</span></strong> 表示启用，<strong><span>false</span></strong> 表示禁用。默认情况下，默认为 <strong><span>true</span></strong>。      </p>     </dd>             <dt><strong><span>PDO::ATTR_DEFAULT_FETCH_MODE</span></strong></dt>     <dd>      <p class="para">       设置默认获取模式。关于模式的说明以及如何使用可以在 <span class="methodname" style="color:#CC7832">{@link PDOStatement::fetch()}</span> 文档找到。      </p>     </dd>       </dl>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-pdo.setattribute-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">attribute</span></dt>     <dd>      <p class="para">       要修改的属性。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">value</span></dt>     <dd>      <p class="para">       设置 <span class="parameter" style="color:#3A95FF">attribute</span> 的值，属性的不同导致需要的类型也会不同。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-pdo.setattribute-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-pdo.setattribute-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link PDO::getAttribute()} - 取回一个数据库连接的属性</span></li>    <li class="member"><span class="function">{@link PDOStatement::getAttribute()} - 检索语句属性</span></li>    <li class="member"><span class="function">{@link PDOStatement::setAttribute()} - 设置一个语句属性</span></li>   </ul>  </span> </div></div>