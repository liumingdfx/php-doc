<div id="imagick.examples-1" class="section">  <h2 class="title">Basic usage</h2>  <p class="para">   Imagick makes image manipulation in PHP extremely easy through an OO   interface. Here is a quick example on how to make a thumbnail:   <div class="example" id="">    <p><strong>示例 #1 Creating a thumbnail in Imagick</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-type: image/jpeg'</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$image </span><span style="color: #007700">= new </span><span style="color: #9876AA">Imagick</span><span style="color: #007700">(</span><span style="color: #DD0000">'image.jpg'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// If 0 is provided as a width or height parameter,<br />// aspect ratio is maintained<br /></span><span style="color: #9876AA">$image</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">thumbnailImage</span><span style="color: #007700">(</span><span style="color: #9876AA">100</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">);<br /><br />echo </span><span style="color: #9876AA">$image</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p>  <p class="para">   Using SPL and other OO features supported in Imagick, it can be simple   to resize all files in a directory (useful for batch resizing large   digital camera images to be web viewable). Here we use resize, as we might   want to retain certain meta-data:   <div class="example" id="">    <p><strong>示例 #2 Make a thumbnail of all JPG files in a directory</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$images </span><span style="color: #007700">= new </span><span style="color: #9876AA">Imagick</span><span style="color: #007700">(</span><span style="color: #9876AA">glob</span><span style="color: #007700">(</span><span style="color: #DD0000">'images//.JPG'</span><span style="color: #007700">));<br /><br />foreach(</span><span style="color: #9876AA">$images </span><span style="color: #007700">as </span><span style="color: #9876AA">$image</span><span style="color: #007700">) {<br /><br />    </span><span style="color: #FF8000">// Providing 0 forces thumbnailImage to maintain aspect ratio<br />    </span><span style="color: #9876AA">$image</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">thumbnailImage</span><span style="color: #007700">(</span><span style="color: #9876AA">1024</span><span style="color: #007700">,</span><span style="color: #9876AA">0</span><span style="color: #007700">);<br /><br />}<br /><br /></span><span style="color: #9876AA">$images</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">writeImages</span><span style="color: #007700">();<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p>  <p class="para">   This is an example of creating a reflection of an image.   The reflection is created by flipping the image and overlaying a gradient on it.   Then both, the original image and the reflection is overlayed on a canvas.   <div class="example" id="">    <p><strong>示例 #3 Creating a reflection of an image</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Read the image <br /></span><span style="color: #9876AA">$im </span><span style="color: #007700">= new </span><span style="color: #9876AA">Imagick</span><span style="color: #007700">(</span><span style="color: #DD0000">"test.png"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Thumbnail the image <br /></span><span style="color: #9876AA">$im</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">thumbnailImage</span><span style="color: #007700">(</span><span style="color: #9876AA">200</span><span style="color: #007700">, </span><span style="color: #9876AA">null</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Create a border for the image <br /></span><span style="color: #9876AA">$im</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">borderImage</span><span style="color: #007700">(new </span><span style="color: #9876AA">ImagickPixel</span><span style="color: #007700">(</span><span style="color: #DD0000">"white"</span><span style="color: #007700">), </span><span style="color: #9876AA">5</span><span style="color: #007700">, </span><span style="color: #9876AA">5</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Clone the image and flip it <br /></span><span style="color: #9876AA">$reflection </span><span style="color: #007700">= </span><span style="color: #9876AA">$im</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">clone</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">$reflection</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">flipImage</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">// Create gradient. It will be overlayed on the reflection <br /></span><span style="color: #9876AA">$gradient </span><span style="color: #007700">= new </span><span style="color: #9876AA">Imagick</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">// Gradient needs to be large enough for the image and the borders <br /></span><span style="color: #9876AA">$gradient</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">newPseudoImage</span><span style="color: #007700">(</span><span style="color: #9876AA">$reflection</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageWidth</span><span style="color: #007700">() + </span><span style="color: #9876AA">10</span><span style="color: #007700">, </span><span style="color: #9876AA">$reflection</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageHeight</span><span style="color: #007700">() + </span><span style="color: #9876AA">10</span><span style="color: #007700">, </span><span style="color: #DD0000">"gradient:transparent-black"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Composite the gradient on the reflection <br /></span><span style="color: #9876AA">$reflection</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">compositeImage</span><span style="color: #007700">(</span><span style="color: #9876AA">$gradient</span><span style="color: #007700">, </span><span style="color: #9876AA">imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">COMPOSITE_OVER</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Add some opacity. Requires ImageMagick 6.2.9 or later <br /></span><span style="color: #9876AA">$reflection</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setImageOpacity</span><span style="color: #007700">( </span><span style="color: #9876AA">0.3 </span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Create an empty canvas <br /></span><span style="color: #9876AA">$canvas </span><span style="color: #007700">= new </span><span style="color: #9876AA">Imagick</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">// Canvas needs to be large enough to hold the both images <br /></span><span style="color: #9876AA">$width </span><span style="color: #007700">= </span><span style="color: #9876AA">$im</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageWidth</span><span style="color: #007700">() + </span><span style="color: #9876AA">40</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$height </span><span style="color: #007700">= (</span><span style="color: #9876AA">$im</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageHeight</span><span style="color: #007700">() * </span><span style="color: #9876AA">2</span><span style="color: #007700">) + </span><span style="color: #9876AA">30</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">newImage</span><span style="color: #007700">(</span><span style="color: #9876AA">$width</span><span style="color: #007700">, </span><span style="color: #9876AA">$height</span><span style="color: #007700">, new </span><span style="color: #9876AA">ImagickPixel</span><span style="color: #007700">(</span><span style="color: #DD0000">"black"</span><span style="color: #007700">));<br /></span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setImageFormat</span><span style="color: #007700">(</span><span style="color: #DD0000">"png"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Composite the original image and the reflection on the canvas <br /></span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">compositeImage</span><span style="color: #007700">(</span><span style="color: #9876AA">$im</span><span style="color: #007700">, </span><span style="color: #9876AA">imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">COMPOSITE_OVER</span><span style="color: #007700">, </span><span style="color: #9876AA">20</span><span style="color: #007700">, </span><span style="color: #9876AA">10</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">compositeImage</span><span style="color: #007700">(</span><span style="color: #9876AA">$reflection</span><span style="color: #007700">, </span><span style="color: #9876AA">imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">COMPOSITE_OVER</span><span style="color: #007700">, </span><span style="color: #9876AA">20</span><span style="color: #007700">, </span><span style="color: #9876AA">$im</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getImageHeight</span><span style="color: #007700">() + </span><span style="color: #9876AA">10</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Output the image<br /></span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例的输出类似于：</p></div>    <div class="mediaobject">          <div class="imageobject">      <img src="images/c0d23d2d6769e53e24a1b3136c064577-hello_world_reflection.png" alt="Output of example : Creating a reflection of an image" width="250" height="130" />     </div>    </div>   </div>  </p>  <p class="para">   This example illustrates how to use fill patterns during drawing.   <div class="example" id="">    <p><strong>示例 #4 Filling text with gradient</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">// Create a new imagick object <br /></span><span style="color: #9876AA">$im </span><span style="color: #007700">= new </span><span style="color: #9876AA">Imagick</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">// Create new image. This will be used as fill pattern <br /></span><span style="color: #9876AA">$im</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">newPseudoImage</span><span style="color: #007700">(</span><span style="color: #9876AA">50</span><span style="color: #007700">, </span><span style="color: #9876AA">50</span><span style="color: #007700">, </span><span style="color: #DD0000">"gradient:red-black"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Create imagickdraw object <br /></span><span style="color: #9876AA">$draw </span><span style="color: #007700">= new </span><span style="color: #9876AA">ImagickDraw</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">// Start a new pattern called "gradient" <br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">pushPattern</span><span style="color: #007700">(</span><span style="color: #DD0000">'gradient'</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">50</span><span style="color: #007700">, </span><span style="color: #9876AA">50</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Composite the gradient on the pattern <br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">composite</span><span style="color: #007700">(</span><span style="color: #9876AA">Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">COMPOSITE_OVER</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">50</span><span style="color: #007700">, </span><span style="color: #9876AA">50</span><span style="color: #007700">, </span><span style="color: #9876AA">$im</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Close the pattern <br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">popPattern</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">// Use the pattern called "gradient" as the fill <br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setFillPatternURL</span><span style="color: #007700">(</span><span style="color: #DD0000">'#gradient'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Set font size to 52 <br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setFontSize</span><span style="color: #007700">(</span><span style="color: #9876AA">52</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Annotate some text <br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">annotation</span><span style="color: #007700">(</span><span style="color: #9876AA">20</span><span style="color: #007700">, </span><span style="color: #9876AA">50</span><span style="color: #007700">, </span><span style="color: #DD0000">"Hello World!"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Create a new canvas object and a white image <br /></span><span style="color: #9876AA">$canvas </span><span style="color: #007700">= new </span><span style="color: #9876AA">Imagick</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">newImage</span><span style="color: #007700">(</span><span style="color: #9876AA">350</span><span style="color: #007700">, </span><span style="color: #9876AA">70</span><span style="color: #007700">, </span><span style="color: #DD0000">"white"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Draw the ImagickDraw on to the canvas <br /></span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">drawImage</span><span style="color: #007700">(</span><span style="color: #9876AA">$draw</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 1px black border around the image <br /></span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">borderImage</span><span style="color: #007700">(</span><span style="color: #DD0000">'black'</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Set the format to PNG <br /></span><span style="color: #9876AA">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setImageFormat</span><span style="color: #007700">(</span><span style="color: #DD0000">'png'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Output the image <br /></span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: image/png"</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">$canvas</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例的输出类似于：</p></div>    <div class="mediaobject">          <div class="imageobject">      <img src="images/c0d23d2d6769e53e24a1b3136c064577-hello_world.png" alt="Output of example : Filling text with gradient" width="352" height="72" />     </div>    </div>   </div>  </p>  <p class="para">   Working with animated GIF images   <div class="example" id="">    <p><strong>示例 #5 Read in GIF image and resize all frames</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">// Create a new imagick object and read in GIF <br /></span><span style="color: #9876AA">$im </span><span style="color: #007700">= new </span><span style="color: #9876AA">Imagick</span><span style="color: #007700">(</span><span style="color: #DD0000">"example.gif"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Resize all frames <br /></span><span style="color: #007700">foreach (</span><span style="color: #9876AA">$im </span><span style="color: #007700">as </span><span style="color: #9876AA">$frame</span><span style="color: #007700">) {<br />    </span><span style="color: #FF8000">// 50x50 frames <br />    </span><span style="color: #9876AA">$frame</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">thumbnailImage</span><span style="color: #007700">(</span><span style="color: #9876AA">50</span><span style="color: #007700">, </span><span style="color: #9876AA">50</span><span style="color: #007700">);<br /><br />    </span><span style="color: #FF8000">// Set the virtual canvas to correct size <br />    </span><span style="color: #9876AA">$frame</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setImagePage</span><span style="color: #007700">(</span><span style="color: #9876AA">50</span><span style="color: #007700">, </span><span style="color: #9876AA">50</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">// Notice writeImages instead of writeImage <br /></span><span style="color: #9876AA">$im</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">writeImages</span><span style="color: #007700">(</span><span style="color: #DD0000">"example_small.gif"</span><span style="color: #007700">, </span><span style="color: #9876AA">true</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p>  <p class="para">   Working with ellipse primitive and custom fonts   <div class="example" id="">    <p><strong>示例 #6 Create a PHP logo</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Set width and height in proportion of genuine PHP logo <br /></span><span style="color: #9876AA">$width </span><span style="color: #007700">= </span><span style="color: #9876AA">400</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$height </span><span style="color: #007700">= </span><span style="color: #9876AA">210</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Create an Imagick object with transparent canvas <br /></span><span style="color: #9876AA">$img </span><span style="color: #007700">= new </span><span style="color: #9876AA">Imagick</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">$img</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">newImage</span><span style="color: #007700">(</span><span style="color: #9876AA">$width</span><span style="color: #007700">, </span><span style="color: #9876AA">$height</span><span style="color: #007700">, new </span><span style="color: #9876AA">ImagickPixel</span><span style="color: #007700">(</span><span style="color: #DD0000">'transparent'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">// New ImagickDraw instance for ellipse draw <br /></span><span style="color: #9876AA">$draw </span><span style="color: #007700">= new </span><span style="color: #9876AA">ImagickDraw</span><span style="color: #007700">();<br /></span><span style="color: #FF8000">// Set purple fill color for ellipse <br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setFillColor</span><span style="color: #007700">(</span><span style="color: #DD0000">'#777bb4'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">// Set ellipse dimensions <br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">ellipse</span><span style="color: #007700">(</span><span style="color: #9876AA">$width </span><span style="color: #007700">/ </span><span style="color: #9876AA">2</span><span style="color: #007700">, </span><span style="color: #9876AA">$height </span><span style="color: #007700">/ </span><span style="color: #9876AA">2</span><span style="color: #007700">, </span><span style="color: #9876AA">$width </span><span style="color: #007700">/ </span><span style="color: #9876AA">2</span><span style="color: #007700">, </span><span style="color: #9876AA">$height </span><span style="color: #007700">/ </span><span style="color: #9876AA">2</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">360</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">// Draw ellipse onto the canvas <br /></span><span style="color: #9876AA">$img</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">drawImage</span><span style="color: #007700">(</span><span style="color: #9876AA">$draw</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Reset fill color from purple to black for text (note: we are reusing ImagickDraw object) <br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setFillColor</span><span style="color: #007700">(</span><span style="color: #DD0000">'black'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">// Set stroke border to white color <br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setStrokeColor</span><span style="color: #007700">(</span><span style="color: #DD0000">'white'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">// Set stroke border thickness <br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setStrokeWidth</span><span style="color: #007700">(</span><span style="color: #9876AA">2</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">// Set font kerning (negative value means that letters are closer to each other) <br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setTextKerning</span><span style="color: #007700">(-</span><span style="color: #9876AA">8</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">// Set font and font size used in PHP logo <br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setFont</span><span style="color: #007700">(</span><span style="color: #DD0000">'Handel Gothic.ttf'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setFontSize</span><span style="color: #007700">(</span><span style="color: #9876AA">150</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">// Center text horizontally and vertically <br /></span><span style="color: #9876AA">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setGravity</span><span style="color: #007700">(</span><span style="color: #9876AA">Imagick</span><span style="color: #007700">::</span><span style="color: #9876AA">GRAVITY_CENTER</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Add center "php" with Y offset of -10 to canvas (inside ellipse) <br /></span><span style="color: #9876AA">$img</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">annotateImage</span><span style="color: #007700">(</span><span style="color: #9876AA">$draw</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, -</span><span style="color: #9876AA">10</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #DD0000">'php'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$img</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">setImageFormat</span><span style="color: #007700">(</span><span style="color: #DD0000">'png'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Set appropriate header for PNG and output the image <br /></span><span style="color: #9876AA">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Type: image/png'</span><span style="color: #007700">);<br />echo </span><span style="color: #9876AA">$img</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例的输出类似于：</p></div>    <div class="mediaobject">          <div class="imageobject">      <img src="images/c0d23d2d6769e53e24a1b3136c064577-php_logo.png" alt="Output of example : Creating PHP logo with Imagick" width="300" height="180" />     </div>    </div>   </div>  </p> </div>