<div id="function.date" class="refentry"> <div class="refnamediv">  <h1 class="refname">date</h1>  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">date</span> &mdash; <span class="dc-title">格式化 Unix 时间戳</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.date-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>date</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$format</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$timestamp</span><span class="initializer"> = <strong><span>null</span></strong></span></span>): <span class="type" style="color:#EAB766">string</span></div>  <p class="para rdfs-comment">   使用指定整数 <span class="parameter" style="color:#3A95FF">timestamp</span>（Unix 时间戳），或者使用当前时间（如果没有指定时间戳），返回相应的指定格式的格式化字符串。换句话说，<span class="parameter" style="color:#3A95FF">timestamp</span>   是可选的，默认值是 <span class="function">{@link time()}</span>。  </p>  <div class="warning"><strong class="warning">警告</strong>   <p class="para">    Unix 时间戳不处理时区。使用 <span class="classname"><a href="https://www.php.net/manual/zh/class.datetimeimmutable.php" class="classname">DateTimeImmutable</a></span> 及其    <span class="methodname" style="color:#CC7832">{@link DateTimeInterface::format()}</span> 格式化方法来格式化携带时区的日期/时间信息。   </p>  </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.date-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">format</span></dt>    <dd>     <span>      <span class="methodname" style="color:#CC7832">{@link DateTimeInterface::format()}</span> 接受的格式。     </span>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <span class="simpara">        <span class="function"><strong style="color:#CC7832">date()</strong></span> 将始终生成 <span>000000</span> 作为微秒，因为它采用 <span class="type" style="color:#EAB766">int</span>        参数，而如果 <span class="classname"><a href="https://www.php.net/manual/zh/class.datetime.php" class="classname">DateTime</a></span> 是用微秒创建的，则 <span class="methodname" style="color:#CC7832">{@link DateTime::format()}</span> 支持微秒。       </span>      </p></blockquote>    </dd>      <dt><span class="parameter" style="color:#3A95FF">timestamp</span></dt><dd><p class="para">可选的 <span class="parameter" style="color:#3A95FF">timestamp</span> 参数是一个 <span class="type" style="color:#EAB766">int</span> 的 Unix时间戳，如未指定或是 <strong><span>null</span></strong>，参数值默认为当前本地时间。也就是说，其值默认为<span class="function">{@link time()}</span> 的返回值。</p></dd>  </dl> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.date-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   返回格式化后的日期字符串。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 errors" id="refsect1-function.date-errors">  <h3 class="title">错误／异常</h3>   <p class="para">在每次调用日期/时间函数时，如果时区无效则会引发 <strong><span>E_NOTICE</span></strong> 错误。参见<span class="function">{@link date_default_timezone_set()}</span>。</p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.date-changelog">  <h3 class="title">更新日志</h3>  <span>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>     </thead>     <tbody class="tbody">      <tr>       <td>8.0.0</td>       <td>        现在 <span class="parameter" style="color:#3A95FF">timestamp</span> 允许为 null。       </td>      </tr>     </tbody>       </table>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.date-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">date()</strong></span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// 设置要使用的默认时区。<br /></span><span style="color: #9876AA">date_default_timezone_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'UTC'</span><span style="color: #007700">);<br /><br /><br /></span><span style="color: #FF8000">// 打印类似：Monday<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"l"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 打印类似：Monday 8th of August 2005 03:12:46 PM<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'l jS \of F Y h:i:s A'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 打印：July 1, 2000 is on a Saturday<br /></span><span style="color: #007700">echo </span><span style="color: #DD0000">"July 1, 2000 is on a " </span><span style="color: #007700">. </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"l"</span><span style="color: #007700">, </span><span style="color: #9876AA">mktime</span><span style="color: #007700">(</span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">7</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">2000</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">// 使用格式化参数中的常量 <br />// 打印类似：Wed, 25 Sep 2013 15:28:57 -0700<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #9876AA">DATE_RFC2822</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 打印类似：2000-07-01T00:00:00+00:00<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #9876AA">DATE_ATOM</span><span style="color: #007700">, </span><span style="color: #9876AA">mktime</span><span style="color: #007700">(</span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">7</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">2000</span><span style="color: #007700">));<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span>  <p class="para">   可以对格式化字符串中的解析字符，在其前面添加反斜线来防止解析。如果带有反斜线的字符已经是特殊字符，需要对反斜线进行再次转义。   <div class="example" id="">    <p><strong>示例 #2 <span class="function"><strong style="color:#CC7832">date()</strong></span> 中的转义字符</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// 打印类似： Wednesday the 15th<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'l \t\h\e jS'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p>  <p class="para">   可以一起使用 <span class="function"><strong style="color:#CC7832">date()</strong></span> 和 <span class="function">{@link mktime()}</span>    来查找过去或未来的日期时间。   <div class="example" id="">    <p><strong>示例 #3 <span class="function"><strong style="color:#CC7832">date()</strong></span> 和 <span class="function">{@link mktime()}</span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$tomorrow  </span><span style="color: #007700">= </span><span style="color: #9876AA">mktime</span><span style="color: #007700">(</span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"m"</span><span style="color: #007700">)  , </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"d"</span><span style="color: #007700">)+</span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"Y"</span><span style="color: #007700">));<br /></span><span style="color: #9876AA">$lastmonth </span><span style="color: #007700">= </span><span style="color: #9876AA">mktime</span><span style="color: #007700">(</span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"m"</span><span style="color: #007700">)-</span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"d"</span><span style="color: #007700">),   </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"Y"</span><span style="color: #007700">));<br /></span><span style="color: #9876AA">$nextyear  </span><span style="color: #007700">= </span><span style="color: #9876AA">mktime</span><span style="color: #007700">(</span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"m"</span><span style="color: #007700">),   </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"d"</span><span style="color: #007700">),   </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"Y"</span><span style="color: #007700">)+</span><span style="color: #9876AA">1</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>   <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:     <p class="para">     由于存在夏令时时间，所以此方案相对于直接在时间戳上加/减秒数要更加可靠。    </p>   </p></blockquote>  </p>  <p class="para">   <span class="function"><strong style="color:#CC7832">date()</strong></span>    格式化的一些示例。请注意，即使是对于当前来说并不具有特殊含义的字符，也要像对待具有特殊含义的字符那样进行转义，以避免产生非预期的值，因为可能在将来的   PHP 版本中，这些字符会被赋予特殊的含义。进行转义的时候，请确保使用单引号，以避免 \n 这样的字符被解释为换行符号。   <div class="example" id="">    <p><strong>示例 #4 <span class="function"><strong style="color:#CC7832">date()</strong></span> 格式化</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// 假设今天是 2001 年 3 月 10 日下午 5 点 16 分 18 秒，<br />// 并且位于山区标准时间（MST）时区<br /><br /></span><span style="color: #9876AA">$today </span><span style="color: #007700">= </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"F j, Y, g:i a"</span><span style="color: #007700">);                 </span><span style="color: #FF8000">// March 10, 2001, 5:16 pm<br /></span><span style="color: #9876AA">$today </span><span style="color: #007700">= </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"m.d.y"</span><span style="color: #007700">);                         </span><span style="color: #FF8000">// 03.10.01<br /></span><span style="color: #9876AA">$today </span><span style="color: #007700">= </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"j, n, Y"</span><span style="color: #007700">);                       </span><span style="color: #FF8000">// 10, 3, 2001<br /></span><span style="color: #9876AA">$today </span><span style="color: #007700">= </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"Ymd"</span><span style="color: #007700">);                           </span><span style="color: #FF8000">// 20010310<br /></span><span style="color: #9876AA">$today </span><span style="color: #007700">= </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'h-i-s, j-m-y, it is w Day'</span><span style="color: #007700">);     </span><span style="color: #FF8000">// 05-16-18, 10-03-01, 1631 1618 6 Satpm01<br /></span><span style="color: #9876AA">$today </span><span style="color: #007700">= </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'\i\t \i\s \t\h\e jS \d\a\y.'</span><span style="color: #007700">);   </span><span style="color: #FF8000">// it is the 10th day.<br /></span><span style="color: #9876AA">$today </span><span style="color: #007700">= </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"D M j G:i:s T Y"</span><span style="color: #007700">);               </span><span style="color: #FF8000">// Sat Mar 10 17:16:18 MST 2001<br /></span><span style="color: #9876AA">$today </span><span style="color: #007700">= </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'H:m:s \m \i\s\ \m\o\n\t\h'</span><span style="color: #007700">);     </span><span style="color: #FF8000">// 17:03:18 m is month<br /></span><span style="color: #9876AA">$today </span><span style="color: #007700">= </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"H:i:s"</span><span style="color: #007700">);                         </span><span style="color: #FF8000">// 17:16:18<br /></span><span style="color: #9876AA">$today </span><span style="color: #007700">= </span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"Y-m-d H:i:s"</span><span style="color: #007700">);                   </span><span style="color: #FF8000">// 2001-03-10 17:16:18（MySQL DATETIME 格式）<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p>  <p class="para">   如果需要将日期时间格式化为其他语言，使用   <span class="methodname" style="color:#CC7832">{@link IntlDateFormatter::format()}</span>   而不是 <span class="function"><strong style="color:#CC7832">date()</strong></span>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.date-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    使用 <span class="function">{@link strtotime()}</span>    将字符串表示的日期转换为时间戳。另外，一些数据库产品也提供了将日期格式转换为时间戳的函数（例如     MySQL 中的 <a href="http://dev.mysql.com/doc/mysql/en/date-and-time-functions.html" class="link external">&raquo;&nbsp;UNIX_TIMESTAMP</a> 函数）。   </p>  </p></blockquote>  <div class="tip"><strong class="tip">小技巧</strong>   <p class="para">    请求的开始时间可以从变量 <var class="varname"><a href="https://www.php.net/manual/zh/reserved.variables.server.php" class="classname">$_SERVER['REQUEST_TIME']</a></var> 中获取。   </p>  </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.date-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="methodname" style="color:#CC7832">{@link DateTimeImmutable::__construct()} - Returns new DateTimeImmutable object</span></li>    <li class="member"><span class="methodname" style="color:#CC7832">{@link DateTimeInterface::format()} - 按照指定格式返回格式化后的日期</span></li>    <li class="member"><span class="function">{@link gmdate()} - 格式化 GMT/UTC 日期／时间</span></li>    <li class="member"><span class="function">{@link idate()} - 将本地日期/时间格式化为整数</span></li>    <li class="member"><span class="function">{@link getdate()} - 获取日期/时间信息</span></li>    <li class="member"><span class="function">{@link getlastmod()} - 获取页面最后修改的时间</span></li>    <li class="member"><span class="function">{@link mktime()} - 取得一个日期的 Unix 时间戳</span></li>    <li class="member"><span class="methodname" style="color:#CC7832">{@link IntlDateFormatter::format()} - Format the date/time value as a string</span></li>    <li class="member"><span class="function">{@link time()} - 返回当前的 Unix 时间戳</span></li>    <li class="member"><a href="https://www.php.net/manual/zh/class.datetimeinterface.php#datetimeinterface.constants.types" class="link">预定义 DateTime 常量</a></li>   </ul>  </span> </div></div>