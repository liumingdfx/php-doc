<div id="function.shmop-write" class="refentry"> <div class="refnamediv">  <h1 class="refname">shmop_write</h1>  <p class="verinfo">(PHP 4 &gt;= 4.0.4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">shmop_write</span> &mdash; <span class="dc-title">Write data into shared memory block</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.shmop-write-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>shmop_write</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.shmop.php" class="type Shmop" style="color:#EAB766">Shmop</a></span> <span class="parameter" style="color:#3A95FF">$shmop</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$data</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$offset</span></span>): <span class="type" style="color:#EAB766">int</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">shmop_write()</strong></span> will write a string into shared memory block.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.shmop-write-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">shmop</span></dt>     <dd>      <p class="para">       The shared memory block identifier created by        <span class="function">{@link shmop_open()}</span>      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">data</span></dt>     <dd>      <p class="para">       A string to write into shared memory block       </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">offset</span></dt>     <dd>      <p class="para">       Specifies where to start writing data inside the shared memory       segment. The offset must be greater than or equal to zero       and less than or equal to the actual size of the shared memory segment.      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.shmop-write-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   The size of the written <span class="parameter" style="color:#3A95FF">data</span>.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 errors" id="refsect1-function.shmop-write-errors">  <h3 class="title">错误／异常</h3>  <p class="para">   If <span class="parameter" style="color:#3A95FF">offset</span> is out of range, or a read-only shared memory segment   should be written to, a <span class="classname"><a href="https://www.php.net/manual/zh/class.valueerror.php" class="classname">ValueError</a></span> is thrown.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.shmop-write-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td>8.0.0</td>      <td>       Prior to PHP 8.0.0, <strong><span>false</span></strong> was returned on failure.      </td>     </tr>     <tr>      <td>8.0.0</td>      <td>       <span class="parameter" style="color:#3A95FF">shmop</span> expects a <span class="classname"><a href="https://www.php.net/manual/zh/class.shmop.php" class="classname">Shmop</a></span>       instance now; previously, a <span class="type" style="color:#EAB766">resource</span> was expected.      </td>     </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.shmop-write-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 Writing to shared memory block</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$shm_bytes_written </span><span style="color: #007700">= </span><span style="color: #9876AA">shmop_write</span><span style="color: #007700">(</span><span style="color: #9876AA">$shm_id</span><span style="color: #007700">, </span><span style="color: #9876AA">$my_string</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span>  <p class="para">   This example will write data inside <span>$my_string</span> into   shared memory block, <span>$shm_bytes_written</span> will contain   the number of bytes written.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.shmop-write-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link shmop_read()} - Read data from shared memory block</span></li>   </ul>  </span> </div></div>