<div id="function.sodium-crypto-secretstream-xchacha20poly1305-push" class="refentry"> <div class="refnamediv">  <h1 class="refname">sodium_crypto_secretstream_xchacha20poly1305_push</h1>  <p class="verinfo">(PHP 7 &gt;= 7.2.0, PHP 8)</p><p class="refpurpose"><span class="refname">sodium_crypto_secretstream_xchacha20poly1305_push</span> &mdash; <span class="dc-title">Encrypt a chunk of data so that it can safely be decrypted in a streaming API</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.sodium-crypto-secretstream-xchacha20poly1305-push-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>sodium_crypto_secretstream_xchacha20poly1305_push</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">&$state</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$message</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$additional_data</span><span class="initializer"> = &quot;&quot;</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$tag</span><span class="initializer"> = <strong><span>SODIUM_CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_MESSAGE</span></strong></span></span><br>): <span class="type" style="color:#EAB766">string</span></div>  <p class="para rdfs-comment">   Encrypt a chunk of data so that it can safely be decrypted in a streaming API.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.sodium-crypto-secretstream-xchacha20poly1305-push-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">state</span></dt>    <dd>     <span>      See <span class="function">{@link sodium_crypto_secretstream_xchacha20poly1305_init_pull()}</span>      and <span class="function">{@link sodium_crypto_secretstream_xchacha20poly1305_init_push()}</span>     </span>    </dd>          <dt><span class="parameter" style="color:#3A95FF">message</span></dt>    <dd>     <p class="para">           </p>    </dd>          <dt><span class="parameter" style="color:#3A95FF">additional_data</span></dt>    <dd>     <p class="para">           </p>    </dd>          <dt><span class="parameter" style="color:#3A95FF">tag</span></dt>    <dd>     <p class="para">      Optional. Can be used to assert decryption behavior      (i.e. re-keying or indicating the final chunk in a stream).     </p>     <ul class="simplelist">      <li class="member">       <strong><span>SODIUM_CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_MESSAGE</span></strong>:       the most common tag, that doesn&#039;t add any information about the nature of the message.      </li>      <li class="member">       <strong><span>SODIUM_CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_FINAL</span></strong>:       indicates that the message marks the end of the stream, and erases the secret key used to encrypt the previous sequence.      </li>      <li class="member">       <strong><span>SODIUM_CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_PUSH</span></strong>:       indicates that the message marks the end of a set of messages, but not the end of the stream.       For example, a huge JSON string sent as multiple chunks can use this tag to indicate to the application that the       string is complete and that it can be decoded. But the stream itself is not closed, and more data may follow.      </li>      <li class="member">       <strong><span>SODIUM_CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_REKEY</span></strong>:       &quot;forget&quot; the key used to encrypt this message and the previous ones, and derive a new secret key.      </li>     </ul>    </dd>     </dl> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.sodium-crypto-secretstream-xchacha20poly1305-push-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   Returns the encrypted ciphertext.  </p> </div></div>