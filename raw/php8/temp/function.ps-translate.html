<div id="function.ps-translate" class="refentry"> <div class="refnamediv">  <h1 class="refname">ps_translate</h1>  <p class="verinfo">(PECL ps &gt;= 1.1.0)</p><p class="refpurpose"><span class="refname">ps_translate</span> &mdash; <span class="dc-title">Sets translation</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.ps-translate-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>ps_translate</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$psdoc</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">float</span> <span class="parameter" style="color:#3A95FF">$x</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">float</span> <span class="parameter" style="color:#3A95FF">$y</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   Sets a new initial point of the coordinate system.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.ps-translate-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">psdoc</span></dt>     <dd>      <p class="para">       Resource identifier of the postscript file       as returned by <span class="function">{@link ps_new()}</span>.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">x</span></dt>     <dd>      <p class="para">       x-coordinate of the origin of the translated coordinate system.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">y</span></dt>     <dd>      <p class="para">       y-coordinate of the origin of the translated coordinate system.      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.ps-translate-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.ps-translate-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 Translation of the coordinate system</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #9876AA">rectangle</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">) {<br />    </span><span style="color: #9876AA">ps_moveto</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">ps_lineto</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">50</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">ps_lineto</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #9876AA">50</span><span style="color: #007700">, </span><span style="color: #9876AA">50</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">ps_lineto</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #9876AA">50</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">ps_lineto</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">ps_stroke</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #9876AA">$ps </span><span style="color: #007700">= </span><span style="color: #9876AA">ps_new</span><span style="color: #007700">();<br />if (!</span><span style="color: #9876AA">ps_open_file</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #DD0000">"translate.ps"</span><span style="color: #007700">)) {<br />  print </span><span style="color: #DD0000">"Cannot open PostScript file\n"</span><span style="color: #007700">;<br />  exit;<br />}<br /><br /></span><span style="color: #9876AA">ps_set_info</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #DD0000">"Creator"</span><span style="color: #007700">, </span><span style="color: #DD0000">"translate.php"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_set_info</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #DD0000">"Author"</span><span style="color: #007700">, </span><span style="color: #DD0000">"Uwe Steinmann"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_set_info</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #DD0000">"Title"</span><span style="color: #007700">, </span><span style="color: #DD0000">"Translated example"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_set_info</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #DD0000">"BoundingBox"</span><span style="color: #007700">, </span><span style="color: #DD0000">"0 0 596 842"</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$psfont </span><span style="color: #007700">= </span><span style="color: #9876AA">ps_findfont</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #DD0000">"Helvetica"</span><span style="color: #007700">, </span><span style="color: #DD0000">""</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">ps_begin_page</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #9876AA">596</span><span style="color: #007700">, </span><span style="color: #9876AA">842</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_set_text_pos</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #9876AA">100</span><span style="color: #007700">, </span><span style="color: #9876AA">100</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_translate</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #9876AA">500</span><span style="color: #007700">, </span><span style="color: #9876AA">750</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">rectangle</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_translate</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, -</span><span style="color: #9876AA">500</span><span style="color: #007700">, -</span><span style="color: #9876AA">750</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_setfont</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #9876AA">$psfont</span><span style="color: #007700">, </span><span style="color: #9876AA">8.0</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_show</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #DD0000">"Text at initial position"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_end_page</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">ps_begin_page</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #9876AA">596</span><span style="color: #007700">, </span><span style="color: #9876AA">842</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_set_text_pos</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #9876AA">100</span><span style="color: #007700">, </span><span style="color: #9876AA">100</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_save</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_translate</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #9876AA">500</span><span style="color: #007700">, </span><span style="color: #9876AA">750</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">rectangle</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_restore</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_setfont</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #9876AA">$psfont</span><span style="color: #007700">, </span><span style="color: #9876AA">8.0</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_show</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">, </span><span style="color: #DD0000">"Text at initial position"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">ps_end_page</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">ps_delete</span><span style="color: #007700">(</span><span style="color: #9876AA">$ps</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>The above example demonstrates two possible ways to place     a graphic (in this case just a rectangle) at any position on the page,     while the graphic itself uses its own coordinate system. The trick is     to change the origin of the current coordinate system before drawing     the rectangle. The translation has to be undone after the graphic has     been drawn.    </p></div>    <div class="example-contents"><p>     On the second page a slightly different and more elegant approach is     applied. Instead of undoing the translation with a second call of     <span class="function"><strong style="color:#CC7832">ps_translate()</strong></span> the graphics context is saved before     modifying the coordinate system and restored after drawing the rectangle.    </p></div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.ps-translate-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link ps_scale()} - Sets scaling factor</span></li>    <li class="member"><span class="function">{@link ps_rotate()} - Sets rotation factor</span></li>   </ul>  </span> </div></div>