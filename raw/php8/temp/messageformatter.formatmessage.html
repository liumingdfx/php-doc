<div id="messageformatter.formatmessage" class="refentry"> <div class="refnamediv">  <h1 class="refname">MessageFormatter::formatMessage</h1>  <h1 class="refname">msgfmt_format_message</h1>  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8, PECL intl &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">MessageFormatter::formatMessage</span> -- <span class="refname">msgfmt_format_message</span> &mdash; <span class="dc-title">Quick format message</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-messageformatter.formatmessage-description">  <h3 class="title">说明</h3>  <p class="para">   面向对象风格  </p>  <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="modifier">static</span> <span class="methodname" style="color:#CC7832"><strong>MessageFormatter::formatMessage</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$locale</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$pattern</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$values</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   过程化风格  </p>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>msgfmt_format_message</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$locale</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$pattern</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$values</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   Quick formatting function that formats the string without having to   explicitly create the formatter object. Use this function when the format   operation is done only once and does not need any parameters or state to be   kept or when wanting to customize the output by providing additional context to ICU directly.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-messageformatter.formatmessage-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">locale</span></dt>     <dd>      <p class="para">       The locale to use for formatting locale-dependent parts      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">pattern</span></dt>     <dd>      <p class="para">       The pattern <span class="type" style="color:#EAB766">string</span> to insert things into.       The pattern uses an &#039;apostrophe-friendly&#039; syntax;       see <a href="https://www.php.net/manual/zh/https://unicode-org.github.io/icu/userguide/format_parse/messages/#quotingescaping" class="link external">&raquo;&nbsp;Quoting/Escaping</a> for details.      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">values</span></dt>     <dd>      <p class="para">       The <span class="type" style="color:#EAB766">array</span> of values to insert into the format <span class="type" style="color:#EAB766">string</span>      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-messageformatter.formatmessage-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   The formatted pattern string or <strong><span>false</span></strong> if an error occurred  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-messageformatter.formatmessage-examples">  <h3 class="title">示例</h3>  <div class="example" id="">   <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">msgfmt_format_message()</strong></span> example</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">msgfmt_format_message</span><span style="color: #007700">(</span><span style="color: #DD0000">"en_US"</span><span style="color: #007700">, </span><span style="color: #DD0000">"{0,number,integer} monkeys on {1,number,integer} trees make {2,number} monkeys per tree\n"</span><span style="color: #007700">, array(</span><span style="color: #9876AA">4560</span><span style="color: #007700">, </span><span style="color: #9876AA">123</span><span style="color: #007700">, </span><span style="color: #9876AA">4560</span><span style="color: #007700">/</span><span style="color: #9876AA">123</span><span style="color: #007700">));<br />echo </span><span style="color: #9876AA">msgfmt_format_message</span><span style="color: #007700">(</span><span style="color: #DD0000">"de"</span><span style="color: #007700">, </span><span style="color: #DD0000">"{0,number,integer} Affen auf {1,number,integer} Bäumen sind {2,number} Affen pro Baum\n"</span><span style="color: #007700">, array(</span><span style="color: #9876AA">4560</span><span style="color: #007700">, </span><span style="color: #9876AA">123</span><span style="color: #007700">, </span><span style="color: #9876AA">4560</span><span style="color: #007700">/</span><span style="color: #9876AA">123</span><span style="color: #007700">));<br />echo </span><span style="color: #9876AA">msgfmt_format_message</span><span style="color: #007700">(</span><span style="color: #DD0000">"en"</span><span style="color: #007700">, </span><span style="color: #DD0000">'You finished {place, selectordinal, one {#st} two {#nd} few {#rd} other {#th}}!'</span><span style="color: #007700">, [</span><span style="color: #DD0000">'place' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">3</span><span style="color: #007700">]), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #9876AA">msgfmt_format_message</span><span style="color: #007700">(</span><span style="color: #DD0000">"en"</span><span style="color: #007700">,<br />        </span><span style="color: #DD0000">"There {apple, plural,<br />            =0 {are no apples}<br />            =1 {is one apple...}<br />            other {are # apples!}<br />        }"</span><span style="color: #007700">,<br />    [</span><span style="color: #DD0000">'apple' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">0</span><span style="color: #007700">]<br />), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;</span></span></span></div>   </div>  </div>  <div class="example" id="">   <p><strong>示例 #2 OO example</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">MessageFormatter</span><span style="color: #007700">::</span><span style="color: #9876AA">formatMessage</span><span style="color: #007700">(</span><span style="color: #DD0000">"en_US"</span><span style="color: #007700">, </span><span style="color: #DD0000">"{0,number,integer} monkeys on {1,number,integer} trees make {2,number} monkeys per tree\n"</span><span style="color: #007700">, array(</span><span style="color: #9876AA">4560</span><span style="color: #007700">, </span><span style="color: #9876AA">123</span><span style="color: #007700">, </span><span style="color: #9876AA">4560</span><span style="color: #007700">/</span><span style="color: #9876AA">123</span><span style="color: #007700">));<br />echo </span><span style="color: #9876AA">MessageFormatter</span><span style="color: #007700">::</span><span style="color: #9876AA">formatMessage</span><span style="color: #007700">(</span><span style="color: #DD0000">"de"</span><span style="color: #007700">, </span><span style="color: #DD0000">"{0,number,integer} Affen auf {1,number,integer} Bäumen sind {2,number} Affen pro Baum\n"</span><span style="color: #007700">, array(</span><span style="color: #9876AA">4560</span><span style="color: #007700">, </span><span style="color: #9876AA">123</span><span style="color: #007700">, </span><span style="color: #9876AA">4560</span><span style="color: #007700">/</span><span style="color: #9876AA">123</span><span style="color: #007700">));<br />echo </span><span style="color: #9876AA">MessageFormatter</span><span style="color: #007700">::</span><span style="color: #9876AA">formatMessage</span><span style="color: #007700">(</span><span style="color: #DD0000">"en"</span><span style="color: #007700">, </span><span style="color: #DD0000">'You finished {place, selectordinal, one {#st} two {#nd} few {#rd} other {#th}}!'</span><span style="color: #007700">, [</span><span style="color: #DD0000">'place' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">3</span><span style="color: #007700">]), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #9876AA">MessageFormatter</span><span style="color: #007700">::</span><span style="color: #9876AA">formatMessage</span><span style="color: #007700">(</span><span style="color: #DD0000">"en"</span><span style="color: #007700">,<br />        </span><span style="color: #DD0000">"There {apple, plural,<br />            =0 {are no apples}<br />            =1 {is one apple...}<br />            other {are # apples!}<br />        }"</span><span style="color: #007700">,<br />    [</span><span style="color: #DD0000">'apple' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">0</span><span style="color: #007700">]<br />), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;</span></span></span></div>   </div>  </div>  <span>以上示例会输出：</span>  <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>4,560 monkeys on 123 trees make 37.073 monkeys per tree<br>4.560 Affen auf 123 Bäumen sind 37,073 Affen pro Baum<br>You finished 3rd!<br>There are no apples<br></span></div>  </div>  <div class="example" id="">   <p><strong>示例 #3 Instructing ICU to format currency with common and with narrow currency symbol</strong></p>   <div class="example-contents"><p>Requires ICU ≥ 67.</p></div>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">msgfmt_format_message</span><span style="color: #007700">(</span><span style="color: #DD0000">"cs_CZ"</span><span style="color: #007700">, </span><span style="color: #DD0000">"{0, number, :: currency/CAD}"</span><span style="color: #007700">, array(</span><span style="color: #9876AA">123.45</span><span style="color: #007700">));<br />echo </span><span style="color: #9876AA">msgfmt_format_message</span><span style="color: #007700">(</span><span style="color: #DD0000">"cs_CZ"</span><span style="color: #007700">, </span><span style="color: #DD0000">"{0, number, :: currency/CAD unit-width-narrow}"</span><span style="color: #007700">, array(</span><span style="color: #9876AA">123.45</span><span style="color: #007700">));</span></span></span></div>   </div>   <div class="example-contents"><p>以上示例会输出：</p></div>   <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>123,45 CA$<br>123,45 $<br></span></div>   </div>  </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-messageformatter.formatmessage-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function"><a href="https://www.php.net/manual/zh/messageformatter.create.php" class="function" rel="rdfs-seeAlso">msgfmt_create()</a> - Constructs a new Message Formatter</span></li>    <li class="member"><span class="function"><a href="https://www.php.net/manual/zh/messageformatter.parse.php" class="function" rel="rdfs-seeAlso">msgfmt_parse()</a> - Parse input string according to pattern</span></li>    <li class="member"><span class="function"><a href="https://www.php.net/manual/zh/messageformatter.geterrorcode.php" class="function" rel="rdfs-seeAlso">msgfmt_get_error_code()</a> - Get the error code from last operation</span></li>    <li class="member"><span class="function"><a href="https://www.php.net/manual/zh/messageformatter.geterrormessage.php" class="function" rel="rdfs-seeAlso">msgfmt_get_error_message()</a> - Get the error text from the last operation</span></li>   </ul>  </span> </div></div>