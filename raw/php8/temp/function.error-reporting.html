<div id="function.error-reporting" class="refentry"> <div class="refnamediv">  <h1 class="refname">error_reporting</h1>  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">error_reporting</span> &mdash; <span class="dc-title">设置应该报告何种 PHP 错误</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.error-reporting-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>error_reporting</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$error_level</span><span class="initializer"> = <strong><span>null</span></strong></span></span>): <span class="type" style="color:#EAB766">int</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">error_reporting()</strong></span> 函数能够在运行时设置 <a href="https://www.php.net/manual/zh/errorfunc.configuration.php#ini.error-reporting" class="link">error_reporting</a> 指令。   PHP 有诸多错误级别，使用该函数可以设置在脚本运行时的级别。   如果没有设置可选参数 <span class="parameter" style="color:#3A95FF">error_level</span>，   <span class="function"><strong style="color:#CC7832">error_reporting()</strong></span> 仅会返回当前的错误报告级别。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.error-reporting-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">error_level</span></dt>     <dd>      <p class="para">       新的 <a href="https://www.php.net/manual/zh/errorfunc.configuration.php#ini.error-reporting" class="link">error_reporting</a> 级别。       可以是一个位掩码也可以是一个已命名的常量。       强烈建议使用已命名的常量，以确保兼容将来的版本。       由于错误级别的添加、整数取值范围的增加，       较久的基于整数的错误级别不会总是和预期的表现一致。      </p>      <p class="para">       可用的错误级别常量及其实际含义描述在了        <a href="https://www.php.net/manual/zh/errorfunc.constants.php" class="link">predefined constants</a> 中。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.error-reporting-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   在更改为 <span class="parameter" style="color:#3A95FF">error_level</span> <em>之前</em>返回 <a href="https://www.php.net/manual/zh/errorfunc.configuration.php#ini.error-reporting" class="link">error_reporting</a> 级别。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <span class="simpara">    <a href="https://www.php.net/manual/zh/language.operators.errorcontrol.php" class="link">错误控制</a> <span>@</span> 运算符在错误处理期间会更改错误级别。   </span>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.error-reporting-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td>8.0.0</td>      <td>       <span class="parameter" style="color:#3A95FF">error_level</span> 现在可以为空。      </td>     </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.error-reporting-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="example-1556">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">error_reporting()</strong></span> 范例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">// 关闭所有PHP错误报告<br /></span><span style="color: #9876AA">error_reporting</span><span style="color: #007700">(</span><span style="color: #9876AA">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Report simple running errors<br /></span><span style="color: #9876AA">error_reporting</span><span style="color: #007700">(</span><span style="color: #9876AA">E_ERROR </span><span style="color: #007700">| </span><span style="color: #9876AA">E_WARNING </span><span style="color: #007700">| </span><span style="color: #9876AA">E_PARSE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 报告 E_NOTICE也挺好 (报告未初始化的变量<br />// 或者捕获变量名的错误拼写)<br /></span><span style="color: #9876AA">error_reporting</span><span style="color: #007700">(</span><span style="color: #9876AA">E_ERROR </span><span style="color: #007700">| </span><span style="color: #9876AA">E_WARNING </span><span style="color: #007700">| </span><span style="color: #9876AA">E_PARSE </span><span style="color: #007700">| </span><span style="color: #9876AA">E_NOTICE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 除了 E_NOTICE，报告其他所有错误<br /></span><span style="color: #9876AA">error_reporting</span><span style="color: #007700">(</span><span style="color: #9876AA">E_ALL </span><span style="color: #007700">^ </span><span style="color: #9876AA">E_NOTICE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 报告所有 PHP 错误<br /></span><span style="color: #9876AA">error_reporting</span><span style="color: #007700">(</span><span style="color: #9876AA">E_ALL</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 报告所有 PHP 错误<br /></span><span style="color: #9876AA">error_reporting</span><span style="color: #007700">(-</span><span style="color: #9876AA">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 和 error_reporting(E_ALL); 一样<br /></span><span style="color: #9876AA">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'error_reporting'</span><span style="color: #007700">, </span><span style="color: #9876AA">E_ALL</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.error-reporting-notes">  <h3 class="title">注释</h3>  <div class="tip"><strong class="tip">小技巧</strong>   <p class="simpara">    传入 <span>-1</span> 的值将尽可能显示所有错误，甚至包括将来 PHP    可能加入的新的错误级别和常量。常量 <strong><span>E_ALL</span></strong> 有同样的行为。   </p>  </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.error-reporting-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><a href="https://www.php.net/manual/zh/errorfunc.configuration.php#ini.display-errors" class="link">display_errors</a> 指令</li>    <li class="member"><a href="https://www.php.net/manual/zh/errorfunc.configuration.php#ini.php-errors" class="link">html_errors</a> 指令</li>    <li class="member"><a href="https://www.php.net/manual/zh/errorfunc.configuration.php#ini.xmlrpc-errors" class="link">xmlrpc_errors</a> 指令</li>    <li class="member"><a href="https://www.php.net/manual/zh/language.operators.errorcontrol.php" class="link">错误控制</a>运算符</li>    <li class="member"><span class="function">{@link ini_set()} - 为一个配置选项设置值</span></li>   </ul>  </span> </div></div>