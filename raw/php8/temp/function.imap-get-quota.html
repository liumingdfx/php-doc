<div id="function.imap-get-quota" class="refentry"> <div class="refnamediv">  <h1 class="refname">imap_get_quota</h1>  <p class="verinfo">(PHP 4 &gt;= 4.0.5, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">imap_get_quota</span> &mdash; <span class="dc-title">Retrieve the quota level settings, and usage statics per mailbox</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.imap-get-quota-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>imap_get_quota</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.imap-connection.php" class="type IMAP\Connection" style="color:#EAB766">IMAP\Connection</a></span> <span class="parameter" style="color:#3A95FF">$imap</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$quota_root</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   Retrieve the quota level settings, and usage statics per mailbox.  </p>  <p class="para">   For a non-admin user version of this function,   please see the <span class="function">{@link imap_get_quotaroot()}</span> function of PHP.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.imap-get-quota-parameters">  <h3 class="title">参数</h3>  <span>   <dl>    <dt><span class="parameter" style="color:#3A95FF">imap</span></dt><dd><p class="para"><span class="classname"><a href="https://www.php.net/manual/zh/class.imap-connection.php" class="classname">IMAP\Connection</a></span> 实例。</p></dd>         <dt><span class="parameter" style="color:#3A95FF">quota_root</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">quota_root</span> should normally be in the form of       <span>user.name</span> where name is the mailbox you wish to       retrieve information about.      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.imap-get-quota-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   Returns an array with integer values limit and usage for the given   mailbox.  The value of limit represents the total amount of space   allowed for this mailbox.  The usage value represents the mailboxes   current level of capacity.  Will return <strong><span>false</span></strong> in the case of failure.  </p>  <p class="para">   As of PHP 4.3, the function more properly reflects the   functionality as dictated by the <a href="http://www.faqs.org/rfcs/rfc2087" class="link external">&raquo;&nbsp;RFC2087</a>.   The array return value has changed to support an unlimited number of returned    resources (i.e.  messages, or sub-folders) with each named resource receiving   an individual array key.  Each key value then contains an another array with   the usage and limit values within it.  </p>  <p class="para">   For backwards compatibility reasons, the original access methods are   still available for use, although it is suggested to update.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.imap-get-quota-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr> <td>8.1.0</td> <td>  现在 <span class="parameter" style="color:#3A95FF">imap</span> 参数接受 <span class="classname"><a href="https://www.php.net/manual/zh/class.imap-connection.php" class="classname">IMAP\Connection</a></span>  实例，之前接受有效的 <span>imap</span> <a href="https://www.php.net/manual/zh/language.types.resource.php" class="link">resource</a>。 </td></tr>    </tbody>     </table> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.imap-get-quota-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">imap_get_quota()</strong></span> example</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$mbox </span><span style="color: #007700">= </span><span style="color: #9876AA">imap_open</span><span style="color: #007700">(</span><span style="color: #DD0000">"{imap.example.org}"</span><span style="color: #007700">, </span><span style="color: #DD0000">"mailadmin"</span><span style="color: #007700">, </span><span style="color: #DD0000">"password"</span><span style="color: #007700">, </span><span style="color: #9876AA">OP_HALFOPEN</span><span style="color: #007700">)<br />      or die(</span><span style="color: #DD0000">"can't connect: " </span><span style="color: #007700">. </span><span style="color: #9876AA">imap_last_error</span><span style="color: #007700">());<br /><br /></span><span style="color: #9876AA">$quota_value </span><span style="color: #007700">= </span><span style="color: #9876AA">imap_get_quota</span><span style="color: #007700">(</span><span style="color: #9876AA">$mbox</span><span style="color: #007700">, </span><span style="color: #DD0000">"user.kalowsky"</span><span style="color: #007700">);<br />if (</span><span style="color: #9876AA">is_array</span><span style="color: #007700">(</span><span style="color: #9876AA">$quota_value</span><span style="color: #007700">)) {<br />    echo </span><span style="color: #DD0000">"Usage level is: " </span><span style="color: #007700">. </span><span style="color: #9876AA">$quota_value</span><span style="color: #007700">[</span><span style="color: #DD0000">'usage'</span><span style="color: #007700">];<br />    echo </span><span style="color: #DD0000">"Limit level is: " </span><span style="color: #007700">. </span><span style="color: #9876AA">$quota_value</span><span style="color: #007700">[</span><span style="color: #DD0000">'limit'</span><span style="color: #007700">];<br />}<br /><br /></span><span style="color: #9876AA">imap_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$mbox</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 <span class="function"><strong style="color:#CC7832">imap_get_quota()</strong></span> 4.3 or greater example</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$mbox </span><span style="color: #007700">= </span><span style="color: #9876AA">imap_open</span><span style="color: #007700">(</span><span style="color: #DD0000">"{imap.example.org}"</span><span style="color: #007700">, </span><span style="color: #DD0000">"mailadmin"</span><span style="color: #007700">, </span><span style="color: #DD0000">"password"</span><span style="color: #007700">, </span><span style="color: #9876AA">OP_HALFOPEN</span><span style="color: #007700">)<br />      or die(</span><span style="color: #DD0000">"can't connect: " </span><span style="color: #007700">. </span><span style="color: #9876AA">imap_last_error</span><span style="color: #007700">());<br /><br /></span><span style="color: #9876AA">$quota_values </span><span style="color: #007700">= </span><span style="color: #9876AA">imap_get_quota</span><span style="color: #007700">(</span><span style="color: #9876AA">$mbox</span><span style="color: #007700">, </span><span style="color: #DD0000">"user.kalowsky"</span><span style="color: #007700">);<br />if (</span><span style="color: #9876AA">is_array</span><span style="color: #007700">(</span><span style="color: #9876AA">$quota_values</span><span style="color: #007700">)) {<br />   </span><span style="color: #9876AA">$storage </span><span style="color: #007700">= </span><span style="color: #9876AA">$quota_values</span><span style="color: #007700">[</span><span style="color: #DD0000">'STORAGE'</span><span style="color: #007700">];<br />   echo </span><span style="color: #DD0000">"STORAGE usage level is: " </span><span style="color: #007700">.  </span><span style="color: #9876AA">$storage</span><span style="color: #007700">[</span><span style="color: #DD0000">'usage'</span><span style="color: #007700">];<br />   echo </span><span style="color: #DD0000">"STORAGE limit level is: " </span><span style="color: #007700">.  </span><span style="color: #9876AA">$storage</span><span style="color: #007700">[</span><span style="color: #DD0000">'limit'</span><span style="color: #007700">];<br /><br />   </span><span style="color: #9876AA">$message </span><span style="color: #007700">= </span><span style="color: #9876AA">$quota_values</span><span style="color: #007700">[</span><span style="color: #DD0000">'MESSAGE'</span><span style="color: #007700">];<br />   echo </span><span style="color: #DD0000">"MESSAGE usage level is: " </span><span style="color: #007700">.  </span><span style="color: #9876AA">$message</span><span style="color: #007700">[</span><span style="color: #DD0000">'usage'</span><span style="color: #007700">];<br />   echo </span><span style="color: #DD0000">"MESSAGE limit is: " </span><span style="color: #007700">.  </span><span style="color: #9876AA">$message</span><span style="color: #007700">[</span><span style="color: #DD0000">'limit'</span><span style="color: #007700">];<br /><br />   </span><span style="color: #FF8000">// ...  <br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #9876AA">imap_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$mbox</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.imap-get-quota-notes">  <h3 class="title">注释</h3>  <p class="para">   This function is currently only available to users of the c-client2000   or greater library.  </p>  <p class="para">   The given <span class="parameter" style="color:#3A95FF">imap</span> must be opened as the mail   administrator, otherwise this function will fail.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.imap-get-quota-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link imap_open()} - Open an IMAP stream to a mailbox</span></li>    <li class="member"><span class="function">{@link imap_set_quota()} - Sets a quota for a given mailbox</span></li>    <li class="member"><span class="function">{@link imap_get_quotaroot()} - Retrieve the quota settings per user</span></li>   </ul>  </span> </div></div>