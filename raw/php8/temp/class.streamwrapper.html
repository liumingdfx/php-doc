<div id="class.streamwrapper" class="reference"> <h1 class="title">streamWrapper 类</h1>  <div class="partintro"><p class="verinfo">(PHP 4 &gt;= 4.3.2, PHP 5, PHP 7, PHP 8)</p>  <div class="section" id="streamwrapper.intro">   <h2 class="title">简介</h2>   <p class="para">    允许实现自定义协议处理程序和流，以便与其它文件系统函数（比如 <span class="function">{@link fopen()}</span>、    <span class="function">{@link fread()}</span> 等）一起使用。   </p>   <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:     <p class="para">     这<em>不是</em>真实的类，只是如何定义协议的原型类。    </p>   </p></blockquote>   <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:     <p class="para">     不使用此处描述的方法而使用其它方式可能会导致未定义行为。    </p>   </p></blockquote>   <p class="para">    一旦流函数尝试访问与其关联的协议，就会初始化此类的实例。   </p>  </div>  <div class="section" id="streamwrapper.synopsis">   <h2 class="title">类摘要</h2>   <div class="classsynopsis">    <span class="ooclass"><strong class="classname"></strong></span>    <div class="classsynopsisinfo">     <span class="ooclass">      <span class="modifier">class</span> <span class="replaceable">streamWrapper</span>     </span>     {</div>    <div class="classsynopsisinfo classsynopsisinfo_comment">// 属性 </div>    <div class="fieldsynopsis">     <span class="modifier">public</span>     <span class="type" style="color:#EAB766">resource</span>      <var class="varname"><a href="https://www.php.net/manual/zh/class.streamwrapper.php#streamwrapper.props.context">$<var class="varname">context</var></a></var>;</div>        <div class="classsynopsisinfo classsynopsisinfo_comment">// 方法 </div>    <div class="constructorsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.construct.php" class="methodname" style="color:#CC7832">__construct</a></span>()</div>    <div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.dir-closedir.php" class="methodname" style="color:#CC7832">dir_closedir</a></span>(): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.dir-opendir.php" class="methodname" style="color:#CC7832">dir_opendir</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$path</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$options</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.dir-readdir.php" class="methodname" style="color:#CC7832">dir_readdir</a></span>(): <span class="type" style="color:#EAB766">string</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.dir-rewinddir.php" class="methodname" style="color:#CC7832">dir_rewinddir</a></span>(): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.mkdir.php" class="methodname" style="color:#CC7832">mkdir</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$path</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$mode</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$options</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.rename.php" class="methodname" style="color:#CC7832">rename</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$path_from</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$path_to</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.rmdir.php" class="methodname" style="color:#CC7832">rmdir</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$path</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$options</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.stream-cast.php" class="methodname" style="color:#CC7832">stream_cast</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$cast_as</span></span>): <span class="type" style="color:#EAB766">resource</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.stream-close.php" class="methodname" style="color:#CC7832">stream_close</a></span>(): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.stream-eof.php" class="methodname" style="color:#CC7832">stream_eof</a></span>(): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.stream-flush.php" class="methodname" style="color:#CC7832">stream_flush</a></span>(): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.stream-lock.php" class="methodname" style="color:#CC7832">stream_lock</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$operation</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.stream-metadata.php" class="methodname" style="color:#CC7832">stream_metadata</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$path</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$option</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$value</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.stream-open.php" class="methodname" style="color:#CC7832">stream_open</a></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$path</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$mode</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$options</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">&$opened_path</span></span><br>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.stream-read.php" class="methodname" style="color:#CC7832">stream_read</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$count</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.stream-seek.php" class="methodname" style="color:#CC7832">stream_seek</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$offset</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$whence</span> <span class="initializer"> = SEEK_SET</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.stream-set-option.php" class="methodname" style="color:#CC7832">stream_set_option</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$option</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$arg1</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$arg2</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.stream-stat.php" class="methodname" style="color:#CC7832">stream_stat</a></span>(): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.stream-tell.php" class="methodname" style="color:#CC7832">stream_tell</a></span>(): <span class="type" style="color:#EAB766">int</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.stream-truncate.php" class="methodname" style="color:#CC7832">stream_truncate</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$new_size</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.stream-write.php" class="methodname" style="color:#CC7832">stream_write</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$data</span></span>): <span class="type" style="color:#EAB766">int</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.unlink.php" class="methodname" style="color:#CC7832">unlink</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$path</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.url-stat.php" class="methodname" style="color:#CC7832">url_stat</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$path</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>    <div class="destructorsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/streamwrapper.destruct.php" class="methodname" style="color:#CC7832">__destruct</a></span>()</div>   }</div>  </div>    <div class="section" id="streamwrapper.props">   <h2 class="title">属性</h2>   <dl>         <dt id="streamwrapper.props.context">资源 <var class="varname">context</var></dt>     <dd>      <p class="para">       当前 <a href="https://www.php.net/manual/zh/context.php" class="link">context</a>，或者没有 context 传递给调用函数，则为 <strong><span>null</span></strong>。      </p>      <p class="para">       使用 <span class="function">{@link stream_context_get_options()}</span> 解析 context。      </p>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <p class="para">        此属性<em>必须</em>是 public，以便 PHP 可以使用使用实际的 context 资源填充它。       </p>      </p></blockquote>     </dd>       </dl>  </div> <div class="section">  <h2 class="title">参见</h2>  <p class="para">   <ul class="simplelist">    <li class="member"><a href="https://www.php.net/manual/zh/stream.streamwrapper.example-1.php" class="xref">示例类注册为流封装器</a></li>    <li class="member"><span class="function">{@link stream_wrapper_register()}</span></li>    <li class="member"><span class="function">{@link stream_wrapper_unregister()}</span></li>    <li class="member"><span class="function">{@link stream_wrapper_restore()}</span></li>   </ul>  </p> </div> </div>  <h2>目录</h2><ul class="chunklist chunklist_reference"><li>{@link streamWrapper::__construct} — Constructs a new stream wrapper</li><li>{@link streamWrapper::__destruct} — Destructs an existing stream wrapper</li><li>{@link streamWrapper::dir_closedir} — Close directory handle</li><li>{@link streamWrapper::dir_opendir} — Open directory handle</li><li>{@link streamWrapper::dir_readdir} — Read entry from directory handle</li><li>{@link streamWrapper::dir_rewinddir} — Rewind directory handle</li><li>{@link streamWrapper::mkdir} — Create a directory</li><li>{@link streamWrapper::rename} — Renames a file or directory</li><li>{@link streamWrapper::rmdir} — Removes a directory</li><li>{@link streamWrapper::stream_cast} — Retrieve the underlaying resource</li><li>{@link streamWrapper::stream_close} — Close a resource</li><li>{@link streamWrapper::stream_eof} — Tests for end-of-file on a file pointer</li><li>{@link streamWrapper::stream_flush} — Flushes the output</li><li>{@link streamWrapper::stream_lock} — Advisory file locking</li><li>{@link streamWrapper::stream_metadata} — Change stream metadata</li><li>{@link streamWrapper::stream_open} — Opens file or URL</li><li>{@link streamWrapper::stream_read} — Read from stream</li><li>{@link streamWrapper::stream_seek} — Seeks to specific location in a stream</li><li>{@link streamWrapper::stream_set_option} — Change stream options</li><li>{@link streamWrapper::stream_stat} — Retrieve information about a file resource</li><li>{@link streamWrapper::stream_tell} — Retrieve the current position of a stream</li><li>{@link streamWrapper::stream_truncate} — Truncate stream</li><li>{@link streamWrapper::stream_write} — Write to stream</li><li>{@link streamWrapper::unlink} — Delete a file</li><li>{@link streamWrapper::url_stat} — Retrieve information about a file</li></ul></div>