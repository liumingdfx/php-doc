<div id="function.preg-split" class="refentry"> <div class="refnamediv">  <h1 class="refname">preg_split</h1>  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">preg_split</span> &mdash; <span class="dc-title">通过一个正则表达式分隔字符串</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.preg-split-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>preg_split</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$pattern</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$subject</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$limit</span><span class="initializer"> = -1</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span><span class="initializer"> = 0</span></span><br>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">  通过一个正则表达式分隔给定字符串.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.preg-split-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">pattern</span></dt>     <dd>      <p class="para">       用于搜索的模式，字符串形式。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">subject</span></dt>     <dd>      <p class="para">       输入字符串      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">limit</span></dt>     <dd>      <p class="para">      如果指定，将限制分隔得到的子串最多只有<span class="parameter" style="color:#3A95FF">limit</span>个，返回的最后一个      子串将包含所有剩余部分。<span class="parameter" style="color:#3A95FF">limit</span>值为-1， 0或null时都代表&quot;不限制&quot;。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">flags</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">flags </span>可以是任何下面标记的组合(以位或运算 <span>|</span> 组合)：       <dl>                 <dt><strong><span>PREG_SPLIT_NO_EMPTY</span></strong></dt>         <dd>          <span class="simpara">          如果这个标记被设置， <span class="function"><strong style="color:#CC7832">preg_split()</strong></span> 将仅返回分隔后的非空部分。          </span>         </dd>                         <dt><strong><span>PREG_SPLIT_DELIM_CAPTURE</span></strong></dt>         <dd>          <span class="simpara">          如果这个标记设置了，用于分隔的模式中的括号表达式将被捕获并返回。          </span>         </dd>                         <dt><strong><span>PREG_SPLIT_OFFSET_CAPTURE</span></strong></dt>         <dd>          <p class="para">          如果这个标记被设置, 对于每一个出现的匹配返回时将会附加字符串偏移量.           注意：这将会改变返回数组中的每一个元素, 使其每个元素成为一个由第<span>0</span>          个元素为分隔后的子串，第<span>1</span>个元素为该子串在<span class="parameter" style="color:#3A95FF">subject</span>          中的偏移量组成的数组。          </p>         </dd>               </dl>      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.preg-split-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">  返回一个使用 <span class="parameter" style="color:#3A95FF">pattern</span> 边界分隔 <span class="parameter" style="color:#3A95FF">subject</span> 后得到  的子串组成的数组， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 errors" id="refsect1-function.preg-split-errors">  <h3 class="title">错误／异常</h3>  <p class="para">如果传递的正则表达式无法正常解析，会发出 <strong><span>E_WARNING</span></strong>。 </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.preg-split-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">preg_split()</strong></span>示例：获取搜索字符串的部分</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">//使用逗号或空格(包含" ", \r, \t, \n, \f)分隔短语<br /></span><span style="color: #9876AA">$keywords </span><span style="color: #007700">= </span><span style="color: #9876AA">preg_split</span><span style="color: #007700">(</span><span style="color: #DD0000">"/[\s,]+/"</span><span style="color: #007700">, </span><span style="color: #DD0000">"hypertext language, programming"</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">print_r</span><span style="color: #007700">(</span><span style="color: #9876AA">$keywords</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>     <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Array<br>(<br>    [0] =&gt; hypertext<br>    [1] =&gt; language<br>    [2] =&gt; programming<br>)<br></span></div>    </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 将一个字符串分隔为组成它的字符</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$str </span><span style="color: #007700">= </span><span style="color: #DD0000">'string'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$chars </span><span style="color: #007700">= </span><span style="color: #9876AA">preg_split</span><span style="color: #007700">(</span><span style="color: #DD0000">'//'</span><span style="color: #007700">, </span><span style="color: #9876AA">$str</span><span style="color: #007700">, -</span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">PREG_SPLIT_NO_EMPTY</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">print_r</span><span style="color: #007700">(</span><span style="color: #9876AA">$chars</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Array<br>(<br>    [0] =&gt; s<br>    [1] =&gt; t<br>    [2] =&gt; r<br>    [3] =&gt; i<br>    [4] =&gt; n<br>    [5] =&gt; g<br>)<br></span></div>    </div>   </div>  </p>  <p class="para">   <div class="example" id="">    <p><strong>示例 #3 分隔一个字符串并获取每部分的偏移量</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$str </span><span style="color: #007700">= </span><span style="color: #DD0000">'hypertext language programming'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$chars </span><span style="color: #007700">= </span><span style="color: #9876AA">preg_split</span><span style="color: #007700">(</span><span style="color: #DD0000">'/ /'</span><span style="color: #007700">, </span><span style="color: #9876AA">$str</span><span style="color: #007700">, -</span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #9876AA">PREG_SPLIT_OFFSET_CAPTURE</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">print_r</span><span style="color: #007700">(</span><span style="color: #9876AA">$chars</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Array<br>(<br>    [0] =&gt; Array<br>        (<br>            [0] =&gt; hypertext<br>            [1] =&gt; 0<br>        )<br><br>    [1] =&gt; Array<br>        (<br>            [0] =&gt; language<br>            [1] =&gt; 10<br>        )<br><br>    [2] =&gt; Array<br>        (<br>            [0] =&gt; programming<br>            [1] =&gt; 19<br>        )<br><br>)<br></span></div>    </div>   </div>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.preg-split-notes">  <h3 class="title">注释</h3>  <div class="tip"><strong class="tip">小技巧</strong>   <p class="para">   如果你不需要正则表达式功能，可以有更快(并且更简单)的选择比如 <span class="function">{@link explode()}</span>    或 <span class="function">{@link str_split()}</span>。   </p>  </div>  <div class="tip"><strong class="tip">小技巧</strong>   <p class="para">    如果没有成功匹配，将会返回一个数组，包含了单个元素，即输入的字符串。   </p>  </div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.preg-split-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><a href="https://www.php.net/manual/zh/pcre.pattern.php" class="link">PCRE 模式</a></li>    <li class="member"><span class="function">{@link preg_quote()} - 转义正则表达式字符</span></li>    <li class="member"><span class="function">{@link implode()} - 用字符串连接数组元素</span></li>    <li class="member"><span class="function">{@link preg_match()} - 执行匹配正则表达式</span></li>    <li class="member"><span class="function">{@link preg_match_all()} - 执行一个全局正则表达式匹配</span></li>    <li class="member"><span class="function">{@link preg_replace()} - 执行一个正则表达式的搜索和替换</span></li>    <li class="member"><span class="function">{@link preg_last_error()} - 返回最后一个PCRE正则执行产生的错误代码</span></li>   </ul>  </span> </div></div>