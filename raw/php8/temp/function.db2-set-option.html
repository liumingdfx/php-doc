<div id="function.db2-set-option" class="refentry">  <div class="refnamediv">    <h1 class="refname">db2_set_option</h1>    <p class="verinfo">(PECL ibm_db2 &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">db2_set_option</span> &mdash; <span class="dc-title">Set options for connection or statement resources</span></p>  </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.db2-set-option-description">    <h3 class="title">说明</h3>    <div class="methodsynopsis dc-description">      <span class="methodname" style="color:#CC7832"><strong>db2_set_option</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$resource</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$options</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$type</span></span>): <span class="type" style="color:#EAB766">bool</span></div>    <p class="para rdfs-comment">     Sets options for a statement resource or a connection resource. You     cannot set options for result set resources.     </p>  </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.db2-set-option-parameters">    <h3 class="title">参数</h3>    <span>      <dl>                  <dt><span class="parameter" style="color:#3A95FF">resource</span></dt>          <dd>            <p class="para">             A valid statement resource as returned from             <span class="function">{@link db2_prepare()}</span> or a valid connection resource as             returned from <span class="function">{@link db2_connect()}</span> or             <span class="function">{@link db2_pconnect()}</span>.            </p>          </dd>                          <dt><span class="parameter" style="color:#3A95FF">options</span></dt>          <dd>            <p class="para">             An associative array containing valid statement or connection             options. This parameter can be used to change autocommit values,             cursor types (scrollable or forward), and to specify the case of             the column names (lower, upper, or natural) that will appear in a             result set.              <dl>                                  <dt><span class="parameter" style="color:#3A95FF">autocommit</span></dt>                  <dd>                    <p class="para">                     Passing <span>DB2_AUTOCOMMIT_ON</span> turns                     autocommit on for the specified connection resource.                    </p>                    <p class="para">                     Passing <span>DB2_AUTOCOMMIT_OFF</span> turns                     autocommit off for the specified connection resource.                    </p>                  </dd>                                                  <dt><span class="parameter" style="color:#3A95FF">cursor</span></dt>                  <dd>                    <p class="para">                     Passing <span>DB2_FORWARD_ONLY</span> specifies a                     forward-only cursor for a statement resource. This is the                     default cursor type, and is supported by all database                     servers.                    </p>                    <p class="para">                     Passing <span>DB2_SCROLLABLE</span> specifies a                     scrollable cursor for a statement resource. Scrollable                     cursors enable result set rows to be accessed in                     non-sequential order, but are only supported by                     IBM DB2 Universal Database databases.                    </p>                  </dd>                                                  <dt><span class="parameter" style="color:#3A95FF">binmode</span></dt>                  <dd>                    <p class="para">                     Passing <span>DB2_BINARY</span> specifies that                     binary data will be returned as is. This is the default                     mode. This is the equivalent of setting                     <span>ibm_db2.binmode=1</span> in <var class="filename">php.ini</var>.                    </p>                    <p class="para">                     Passing <span>DB2_CONVERT</span> specifies that                     binary data will be converted to hexadecimal encoding,                     and will be returned as such. This is the equivalent of                     setting <span>ibm_db2.binmode=2</span> in <var class="filename">php.ini</var>.                    </p>                    <p class="para">                     Passing <span>DB2_PASSTHRU</span> specifies that                     binary data will be converted to <strong><span>null</span></strong>. This is the                     equivalent of setting <span>ibm_db2.binmode=3</span>                     in <var class="filename">php.ini</var>.                    </p>                  </dd>                                                  <dt><span class="parameter" style="color:#3A95FF">db2_attr_case</span></dt>                  <dd>                    <p class="para">                     Passing <span>DB2_CASE_LOWER</span> specifies that                     column names of the result set are returned in lower case.                    </p>                    <p class="para">                     Passing <span>DB2_CASE_UPPER</span> specifies that                     column names of the result set are returned in upper case.                    </p>                    <p class="para">                     Passing <span>DB2_CASE_NATURAL</span> specifies that                     column names of the result set are returned in natural                     case.                    </p>                  </dd>                                                 <dt><span class="parameter" style="color:#3A95FF">deferred_prepare</span></dt>                 <dd>                  <p class="para">                   Passing <span>DB2_DEFERRED_PREPARE_ON</span> turns deferred                    prepare on for the specified statement resource.                  </p>                  <p class="para">                   Passing <span>DB2_DEFERRED_PREPARE_OFF</span> turns deferred                    prepare off for the specified statement resource.                  </p>                 </dd>                                              </dl>            </p>            <p class="para">             The following new i5/OS options are available in ibm_db2 version 1.5.1              and later. These options apply only when running PHP and ibm_db2 natively on i5 systems.              <dl>                                  <dt><span class="parameter" style="color:#3A95FF">i5_fetch_only</span></dt>                  <dd>                    <p class="para">                     <span>DB2_I5_FETCH_ON</span> - Cursors are read-only                      and cannot be used for positioned updates or deletes. This                      is the default unless <span>SQL_ATTR_FOR_FETCH_ONLY</span>                      environment has been set to <span>SQL_FALSE</span>.                    </p>                    <p class="para">                     <span>DB2_I5_FETCH_OFF</span> - Cursors can be used                      for positioned updates and deletes.                    </p>                  </dd>                               </dl>            </p>            <p class="para">             The following new option is available in ibm_db2 version 1.8.0 and later.              <dl>                                  <dt><span class="parameter" style="color:#3A95FF">rowcount</span></dt>                  <dd>                    <p class="para">                     <span>DB2_ROWCOUNT_PREFETCH_ON</span> - Client can request                      the full row count prior to fetching, which means that                      <span class="function">{@link db2_num_rows()}</span> returns the number of rows selected                      even when a <span>ROLLFORWARD_ONLY</span> cursor is used.                    </p>                    <p class="para">                     <span>DB2_ROWCOUNT_PREFETCH_OFF</span> - Client cannot request                     the full row count prior to fetching.                    </p>                  </dd>                              </dl>            </p>                        <p class="para">             The following new options are available in ibm_db2 version 1.7.0 and later.              <dl>                                  <dt><span class="parameter" style="color:#3A95FF">trusted_user</span></dt>                  <dd>                    <p class="para">                     To switch the user to a trusted user, pass the User ID (String)                      of the trusted user as the value of this key. This option can                      be set on a connection resource only. To use this option, trusted                     context must be enabled on the connection resource.                    </p>                  </dd>                                                  <dt><span class="parameter" style="color:#3A95FF">trusted_password</span></dt>                  <dd>                    <p class="para">                     The password (String) that corresponds to the user specified                     by the trusted_user key.                    </p>                  </dd>                                               </dl>            </p>                        <p class="para">             The following new options are available in ibm_db2 version 1.6.0 and later.              These options provide useful tracking information that can be accessed during              execution with <span class="function">{@link db2_get_option()}</span>.             <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:               <p class="para">               When the value in each option is being set, some servers might not handle                the entire length provided and might truncate the value.              </p>              <p class="para">               To ensure that the data specified in each option is converted correctly                when transmitted to a host system, use only the characters A through Z,                0 through 9, and the underscore (_) or period (.).              </p>             </p></blockquote>             <dl>                             <dt><span class="parameter" style="color:#3A95FF">userid</span></dt>               <dd>                <p class="para">                 <span>SQL_ATTR_INFO_USERID</span> - A pointer to a null-terminated                  character string used to identify the client user ID sent to the host                  database server when using DB2 Connect.                 <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:                   <p class="para">                   DB2 for z/OS and OS/390 servers support up to a length of 16 characters.                    This user-id is not to be confused with the authentication user-id, it is for                    identification purposes only and is not used for any authorization.                  </p>                 </p></blockquote>                </p>               </dd>                                           <dt><span class="parameter" style="color:#3A95FF">acctstr</span></dt>               <dd>                <p class="para">                 <span>SQL_ATTR_INFO_ACCTSTR</span> - A pointer to a null-terminated                  character string used to identify the client accounting string sent to the                  host database server when using DB2 Connect.                 <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:                   <p class="para">                   DB2 for z/OS and OS/390 servers support up to a length of 200 characters.                  </p>                 </p></blockquote>                </p>               </dd>                                           <dt><span class="parameter" style="color:#3A95FF">applname</span></dt>               <dd>                <p class="para">                 <span>SQL_ATTR_INFO_APPLNAME</span> - A pointer to a null-terminated                  character string used to identify the client application name sent to the                  host database server when using DB2 Connect.                 <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:                   <p class="para">                   DB2 for z/OS and OS/390 servers support up to a length of 32 characters.                  </p>                 </p></blockquote>                </p>               </dd>                                           <dt><span class="parameter" style="color:#3A95FF">wrkstnname</span></dt>               <dd>                <p class="para">                 <span>SQL_ATTR_INFO_WRKSTNNAME</span> - A pointer to a null-terminated                  character string used to identify the client workstation name sent to the                  host database server when using DB2 Connect.                 <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:                   <p class="para">                   DB2 for z/OS and OS/390 servers support up to a length of 18 characters.                  </p>                 </p></blockquote>                </p>               </dd>                           </dl>            </span>          </dd>                          <dt><span class="parameter" style="color:#3A95FF">type</span></dt>          <dd>            <p class="para">             An integer value that specifies the type of resource that was             passed into the function. The type of resource and this value             must correspond.            </p>            <p class="para">             Passing <span>1</span> as the value specifies that             a connection resource has been passed into the function.            </p>            <p class="para">             Passing any integer not equal to <span>1</span> as             the value specifies that a statement resource has been             passed into the function.            </p>          </dd>              </dl>    </p>    <p class="para">    </p>    <p class="para">     The following table specifies which options are compatible with     the available resource types:      <table class="doctable table">        <caption><strong>Resource-Parameter Matrix</strong></caption>                  <col style="text-align: center;" />          <col style="text-align: center;" />          <col style="text-align: center;" />          <col style="text-align: center;" />          <col style="text-align: center;" />                    <thead>            <tr>              <th>Key</th>              <th>Value</th>              <th colspan="3">Resource Type</th>            </tr>          </thead>          <tbody class="tbody">            <tr>              <td class="empty">&nbsp;</td><td class="empty">&nbsp;</td><td>Connection</td>              <td>Statement</td>              <td>Result Set</td>            </tr>            <tr>              <td>autocommit</td>              <td><span>DB2_AUTOCOMMIT_ON</span></td>              <td>X</td>              <td>-</td>              <td>-</td>            </tr>            <tr>              <td>autocommit</td>              <td><span>DB2_AUTOCOMMIT_OFF</span></td>              <td>X</td>              <td>-</td>              <td>-</td>            </tr>            <tr>              <td>cursor</td>              <td><span>DB2_SCROLLABLE</span></td>              <td>-</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>cursor</td>              <td><span>DB2_FORWARD_ONLY</span></td>              <td>-</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>binmode</td>              <td><span>DB2_BINARY</span></td>              <td>X</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>binmode</td>              <td><span>DB2_CONVERT</span></td>              <td>X</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>binmode</td>              <td><span>DB2_PASSTHRU</span></td>              <td>X</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>db2_attr_case</td>              <td><span>DB2_CASE_LOWER</span></td>              <td>X</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>db2_attr_case</td>              <td><span>DB2_CASE_UPPER</span></td>              <td>X</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>db2_attr_case</td>              <td><span>DB2_CASE_NATURAL</span></td>              <td>X</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>deferred_prepare</td>              <td><span>DB2_DEFERRED_PREPARE_ON</span></td>              <td>-</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>deferred_prepare</td>              <td><span>DB2_DEFERRED_PREPARE_OFF</span></td>              <td>-</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>i5_fetch_only</td>              <td><span>DB2_I5_FETCH_ON</span></td>              <td>-</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>i5_fetch_only</td>              <td><span>DB2_I5_FETCH_OFF</span></td>              <td>-</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>rowcount</td>              <td><span>DB2_ROWCOUNT_PREFETCH_ON</span></td>              <td>-</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>rowcount</td>              <td><span>DB2_ROWCOUNT_PREFETCH_OFF</span></td>              <td>-</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>trusted_user</td>              <td><span>&lt;USER NAME&gt; (String)</span></td>              <td>X</td>              <td>-</td>              <td>-</td>            </tr>            <tr>              <td>trusted_password</td>              <td><span>&lt;PASSWORD&gt; (String)</span></td>              <td>X</td>              <td>-</td>              <td>-</td>            </tr>            <tr>              <td>userid</td>              <td><span>SQL_ATTR_INFO_USERID</span></td>              <td>X</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>acctstr</td>              <td><span>SQL_ATTR_INFO_ACCTSTR</span></td>              <td>X</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>applname</td>              <td><span>SQL_ATTR_INFO_APPLNAME</span></td>              <td>X</td>              <td>X</td>              <td>-</td>            </tr>            <tr>              <td>wrkstnname</td>              <td><span>SQL_ATTR_INFO_WRKSTNNAME</span></td>              <td>X</td>              <td>X</td>              <td>-</td>            </tr>          </tbody>              </table>    </p>  </div>    <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.db2-set-option-returnvalues">    <h3 class="title">返回值</h3>    <p class="para">     成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。    </p>  </div>        <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.db2-set-option-examples">    <h3 class="title">示例</h3>    <span>      <div class="example" id="example-3869">        <p><strong>示例 #1 Setting one parameter with a connection resource</strong></p>        <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Database Connection Parameters <br /></span><span style="color: #9876AA">$database </span><span style="color: #007700">= </span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$hostname </span><span style="color: #007700">= </span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$port </span><span style="color: #007700">= </span><span style="color: #9876AA">50000</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$protocol </span><span style="color: #007700">= </span><span style="color: #DD0000">'TCPIP'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$username </span><span style="color: #007700">= </span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$password </span><span style="color: #007700">= </span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Connection String <br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">= </span><span style="color: #DD0000">"DRIVER={IBM DB2 ODBC DRIVER};DATABASE=</span><span style="color: #9876AA">$database</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">.= </span><span style="color: #DD0000">"HOSTNAME=</span><span style="color: #9876AA">$hostname</span><span style="color: #DD0000">;PORT=</span><span style="color: #9876AA">$port</span><span style="color: #DD0000">;PROTOCOL=</span><span style="color: #9876AA">$protocol</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">.= </span><span style="color: #DD0000">"UID=</span><span style="color: #9876AA">$username</span><span style="color: #DD0000">;PWD=</span><span style="color: #9876AA">$password</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Obtain Connection Resource <br /></span><span style="color: #9876AA">$conn </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_connect</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn_string</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Create the associative options array with valid key-value pairs <br /></span><span style="color: #9876AA">$options </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'autocommit' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_AUTOCOMMIT_ON</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Call the function using the correct resource, options array, and type values <br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_set_option</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">, </span><span style="color: #9876AA">$options</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Check if all options could be set correctly <br /></span><span style="color: #007700">if(</span><span style="color: #9876AA">$result</span><span style="color: #007700">)<br />{<br />  echo </span><span style="color: #DD0000">'Options Set Successfully'</span><span style="color: #007700">;<br />}<br />else<br />{<br />  echo </span><span style="color: #DD0000">'Could Not Set Options'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>        </div>        <div class="example-contents"><p>以上示例会输出：</p></div>        <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Options Set Successfully</span></div></div>      </div>      <div class="example" id="example-3872">        <p><strong>示例 #2 Setting multiple parameters with a connection resource</strong></p>        <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Database Connection Parameters <br /></span><span style="color: #9876AA">$database </span><span style="color: #007700">= </span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$hostname </span><span style="color: #007700">= </span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$port </span><span style="color: #007700">= </span><span style="color: #9876AA">50000</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$protocol </span><span style="color: #007700">= </span><span style="color: #DD0000">'TCPIP'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$username </span><span style="color: #007700">= </span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$password </span><span style="color: #007700">= </span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Connection String <br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">= </span><span style="color: #DD0000">"DRIVER={IBM DB2 ODBC DRIVER};DATABASE=</span><span style="color: #9876AA">$database</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">.= </span><span style="color: #DD0000">"HOSTNAME=</span><span style="color: #9876AA">$hostname</span><span style="color: #DD0000">;PORT=</span><span style="color: #9876AA">$port</span><span style="color: #DD0000">;PROTOCOL=</span><span style="color: #9876AA">$protocol</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">.= </span><span style="color: #DD0000">"UID=</span><span style="color: #9876AA">$username</span><span style="color: #DD0000">;PWD=</span><span style="color: #9876AA">$password</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Obtain Connection Resource <br /></span><span style="color: #9876AA">$conn </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_connect</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn_string</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Create the associative options array with valid key-value pairs <br /></span><span style="color: #9876AA">$options </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'autocommit' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">, <br />                    </span><span style="color: #DD0000">'binmode' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_PASSTHRU</span><span style="color: #007700">,<br />              </span><span style="color: #DD0000">'db2_attr_case' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_CASE_UPPER</span><span style="color: #007700">,<br />                     </span><span style="color: #DD0000">'cursor' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_SCROLLABLE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Call the function using the correct resource, options array, and type values <br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_set_option</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">, </span><span style="color: #9876AA">$options</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Check if all options could be set correctly <br /></span><span style="color: #007700">if(</span><span style="color: #9876AA">$result</span><span style="color: #007700">)<br />{<br />  echo </span><span style="color: #DD0000">'Options Set Successfully'</span><span style="color: #007700">;<br />}<br />else<br />{<br />  echo </span><span style="color: #DD0000">'Could Not Set Options'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>        </div>        <div class="example-contents"><p>以上示例会输出：</p></div>        <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Options Set Successfully</span></div></div>      </div>            <div class="example" id="example-3875">        <p><strong>示例 #3 Setting multiple parameters with an invalid key</strong></p>        <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Database Connection Parameters <br /></span><span style="color: #9876AA">$database </span><span style="color: #007700">= </span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$hostname </span><span style="color: #007700">= </span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$port </span><span style="color: #007700">= </span><span style="color: #9876AA">50000</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$protocol </span><span style="color: #007700">= </span><span style="color: #DD0000">'TCPIP'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$username </span><span style="color: #007700">= </span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$password </span><span style="color: #007700">= </span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Connection String <br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">= </span><span style="color: #DD0000">"DRIVER={IBM DB2 ODBC DRIVER};DATABASE=</span><span style="color: #9876AA">$database</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">.= </span><span style="color: #DD0000">"HOSTNAME=</span><span style="color: #9876AA">$hostname</span><span style="color: #DD0000">;PORT=</span><span style="color: #9876AA">$port</span><span style="color: #DD0000">;PROTOCOL=</span><span style="color: #9876AA">$protocol</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">.= </span><span style="color: #DD0000">"UID=</span><span style="color: #9876AA">$username</span><span style="color: #DD0000">;PWD=</span><span style="color: #9876AA">$password</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Obtain Connection Resource <br /></span><span style="color: #9876AA">$conn </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_connect</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn_string</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Create the associative options array with valid key-value pairs <br /></span><span style="color: #9876AA">$options </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'autocommit' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">, <br />             </span><span style="color: #DD0000">'MY_INVALID_KEY' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_PASSTHRU</span><span style="color: #007700">,<br />              </span><span style="color: #DD0000">'db2_attr_case' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_CASE_UPPER</span><span style="color: #007700">,<br />                     </span><span style="color: #DD0000">'cursor' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_SCROLLABLE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Call the function using the correct resource, options array, and type values <br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_set_option</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">, </span><span style="color: #9876AA">$options</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Check if all options could be set correctly <br /></span><span style="color: #007700">if(</span><span style="color: #9876AA">$result</span><span style="color: #007700">)<br />{<br />  echo </span><span style="color: #DD0000">'Options Set Successfully'</span><span style="color: #007700">;<br />}<br />else<br />{<br />  echo </span><span style="color: #DD0000">'Could Not Set Options'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>        </div>        <div class="example-contents"><p>以上示例会输出：</p></div>        <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Could Not Set Options</span></div></div>      </div>            <div class="example" id="example-3878">        <p><strong>示例 #4 Setting multiple parameters with an invalid value</strong></p>        <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Database Connection Parameters <br /></span><span style="color: #9876AA">$database </span><span style="color: #007700">= </span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$hostname </span><span style="color: #007700">= </span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$port </span><span style="color: #007700">= </span><span style="color: #9876AA">50000</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$protocol </span><span style="color: #007700">= </span><span style="color: #DD0000">'TCPIP'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$username </span><span style="color: #007700">= </span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$password </span><span style="color: #007700">= </span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Connection String <br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">= </span><span style="color: #DD0000">"DRIVER={IBM DB2 ODBC DRIVER};DATABASE=</span><span style="color: #9876AA">$database</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">.= </span><span style="color: #DD0000">"HOSTNAME=</span><span style="color: #9876AA">$hostname</span><span style="color: #DD0000">;PORT=</span><span style="color: #9876AA">$port</span><span style="color: #DD0000">;PROTOCOL=</span><span style="color: #9876AA">$protocol</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">.= </span><span style="color: #DD0000">"UID=</span><span style="color: #9876AA">$username</span><span style="color: #DD0000">;PWD=</span><span style="color: #9876AA">$password</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Obtain Connection Resource <br /></span><span style="color: #9876AA">$conn </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_connect</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn_string</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Create the associative options array with valid key-value pairs <br /></span><span style="color: #9876AA">$options </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'autocommit' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">, <br />                    </span><span style="color: #DD0000">'binmode' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'INVALID_VALUE'</span><span style="color: #007700">,<br />              </span><span style="color: #DD0000">'db2_attr_case' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_CASE_UPPER</span><span style="color: #007700">,<br />                     </span><span style="color: #DD0000">'cursor' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_SCROLLABLE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Call the function using the correct resource, options array, and type values <br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_set_option</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">, </span><span style="color: #9876AA">$options</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Check if all options could be set correctly <br /></span><span style="color: #007700">if(</span><span style="color: #9876AA">$result</span><span style="color: #007700">)<br />{<br />  echo </span><span style="color: #DD0000">'Options Set Successfully'</span><span style="color: #007700">;<br />}<br />else<br />{<br />  echo </span><span style="color: #DD0000">'Could Not Set Options'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>        </div>        <div class="example-contents"><p>以上示例会输出：</p></div>        <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Could Not Set Options</span></div></div>      </div>      <div class="example" id="example-3881">        <p><strong>示例 #5 Setting multiple parameters with a connection resource and the wrong type</strong></p>        <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Database Connection Parameters <br /></span><span style="color: #9876AA">$database </span><span style="color: #007700">= </span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$hostname </span><span style="color: #007700">= </span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$port </span><span style="color: #007700">= </span><span style="color: #9876AA">50000</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$protocol </span><span style="color: #007700">= </span><span style="color: #DD0000">'TCPIP'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$username </span><span style="color: #007700">= </span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$password </span><span style="color: #007700">= </span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Connection String <br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">= </span><span style="color: #DD0000">"DRIVER={IBM DB2 ODBC DRIVER};DATABASE=</span><span style="color: #9876AA">$database</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">.= </span><span style="color: #DD0000">"HOSTNAME=</span><span style="color: #9876AA">$hostname</span><span style="color: #DD0000">;PORT=</span><span style="color: #9876AA">$port</span><span style="color: #DD0000">;PROTOCOL=</span><span style="color: #9876AA">$protocol</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">.= </span><span style="color: #DD0000">"UID=</span><span style="color: #9876AA">$username</span><span style="color: #DD0000">;PWD=</span><span style="color: #9876AA">$password</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Obtain Connection Resource <br /></span><span style="color: #9876AA">$conn </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_connect</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn_string</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Create the associative options array with valid key-value pairs <br /></span><span style="color: #9876AA">$options </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'autocommit' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">, <br />                    </span><span style="color: #DD0000">'binmode' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_PASSTHRU</span><span style="color: #007700">,<br />              </span><span style="color: #DD0000">'db2_attr_case' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_CASE_UPPER</span><span style="color: #007700">,<br />                     </span><span style="color: #DD0000">'cursor' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_SCROLLABLE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Call the function using the correct resource, options array, and the wrong type value <br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_set_option</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">, </span><span style="color: #9876AA">$options</span><span style="color: #007700">, </span><span style="color: #9876AA">2</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Check if all options could be set correctly <br /></span><span style="color: #007700">if(</span><span style="color: #9876AA">$result</span><span style="color: #007700">)<br />{<br />  echo </span><span style="color: #DD0000">'Options Set Successfully'</span><span style="color: #007700">;<br />}<br />else<br />{<br />  echo </span><span style="color: #DD0000">'Could Not Set Options'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>        </div>        <div class="example-contents"><p>以上示例会输出：</p></div>        <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Could Not Set Options</span></div></div>      </div>      <div class="example" id="stream-notification-callback.example.basic">        <p><strong>示例 #6 Setting multiple parameters with the wrong resource</strong></p>        <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Database Connection Parameters <br /></span><span style="color: #9876AA">$database </span><span style="color: #007700">= </span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$hostname </span><span style="color: #007700">= </span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$port </span><span style="color: #007700">= </span><span style="color: #9876AA">50000</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$protocol </span><span style="color: #007700">= </span><span style="color: #DD0000">'TCPIP'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$username </span><span style="color: #007700">= </span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$password </span><span style="color: #007700">= </span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Connection String <br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">= </span><span style="color: #DD0000">"DRIVER={IBM DB2 ODBC DRIVER};DATABASE=</span><span style="color: #9876AA">$database</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">.= </span><span style="color: #DD0000">"HOSTNAME=</span><span style="color: #9876AA">$hostname</span><span style="color: #DD0000">;PORT=</span><span style="color: #9876AA">$port</span><span style="color: #DD0000">;PROTOCOL=</span><span style="color: #9876AA">$protocol</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">.= </span><span style="color: #DD0000">"UID=</span><span style="color: #9876AA">$username</span><span style="color: #DD0000">;PWD=</span><span style="color: #9876AA">$password</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Obtain Connection Resource <br /></span><span style="color: #9876AA">$conn </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_connect</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn_string</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Create the associative options array with valid key-value pairs <br /></span><span style="color: #9876AA">$options </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'autocommit' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">, <br />                    </span><span style="color: #DD0000">'binmode' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_PASSTHRU</span><span style="color: #007700">,<br />              </span><span style="color: #DD0000">'db2_attr_case' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_CASE_UPPER</span><span style="color: #007700">,<br />                     </span><span style="color: #DD0000">'cursor' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_SCROLLABLE</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$stmt </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_prepare</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">, </span><span style="color: #DD0000">'SELECT * FROM EMPLOYEE'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Call the function using the wrong resource, and the correct options array, and type values <br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_set_option</span><span style="color: #007700">(</span><span style="color: #9876AA">$stmt</span><span style="color: #007700">, </span><span style="color: #9876AA">$options</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Check if all options could be set correctly <br /></span><span style="color: #007700">if(</span><span style="color: #9876AA">$result</span><span style="color: #007700">)<br />{<br />  echo </span><span style="color: #DD0000">'Options Set Successfully'</span><span style="color: #007700">;<br />}<br />else<br />{<br />  echo </span><span style="color: #DD0000">'Could Not Set Options'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>        </div>        <div class="example-contents"><p>以上示例会输出：</p></div>        <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Could Not Set Options</span></div></div>      </div>      <div class="example" id="example-3887">        <p><strong>示例 #7 Putting it all together</strong></p>        <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Database Connection Parameters <br /></span><span style="color: #9876AA">$database </span><span style="color: #007700">= </span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$hostname </span><span style="color: #007700">= </span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$port </span><span style="color: #007700">= </span><span style="color: #9876AA">50000</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$protocol </span><span style="color: #007700">= </span><span style="color: #DD0000">'TCPIP'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$username </span><span style="color: #007700">= </span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$password </span><span style="color: #007700">= </span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Connection String <br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">= </span><span style="color: #DD0000">"DRIVER={IBM DB2 ODBC DRIVER};DATABASE=</span><span style="color: #9876AA">$database</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">.= </span><span style="color: #DD0000">"HOSTNAME=</span><span style="color: #9876AA">$hostname</span><span style="color: #DD0000">;PORT=</span><span style="color: #9876AA">$port</span><span style="color: #DD0000">;PROTOCOL=</span><span style="color: #9876AA">$protocol</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$conn_string </span><span style="color: #007700">.= </span><span style="color: #DD0000">"UID=</span><span style="color: #9876AA">$username</span><span style="color: #DD0000">;PWD=</span><span style="color: #9876AA">$password</span><span style="color: #DD0000">;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Obtain Connection Resource <br /></span><span style="color: #9876AA">$conn </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_connect</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn_string</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Create the associative options array with valid key-value pairs <br /></span><span style="color: #9876AA">$options </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'db2_attr_case' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_CASE_LOWER</span><span style="color: #007700">,<br />                        </span><span style="color: #DD0000">'cursor' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">DB2_SCROLLABLE</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$stmt </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_prepare</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">, </span><span style="color: #DD0000">'SELECT * FROM EMPLOYEE WHERE EMPNO = ? OR EMPNO = ?'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Call the function using the correct resource, options array, and type values <br /></span><span style="color: #9876AA">$option_result </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_set_option</span><span style="color: #007700">(</span><span style="color: #9876AA">$stmt</span><span style="color: #007700">, </span><span style="color: #9876AA">$options</span><span style="color: #007700">, </span><span style="color: #9876AA">2</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_execute</span><span style="color: #007700">(</span><span style="color: #9876AA">$stmt</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'000130'</span><span style="color: #007700">, </span><span style="color: #DD0000">'000140'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">// Get Row 2 before Row 1 since Scrollable Cursor <br /></span><span style="color: #9876AA">print_r</span><span style="color: #007700">(</span><span style="color: #9876AA">db2_fetch_assoc</span><span style="color: #007700">(</span><span style="color: #9876AA">$stmt</span><span style="color: #007700">, </span><span style="color: #9876AA">2</span><span style="color: #007700">));<br />print </span><span style="color: #DD0000">'&lt;br /&gt;&lt;br /&gt;'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">print_r</span><span style="color: #007700">(</span><span style="color: #9876AA">db2_fetch_assoc</span><span style="color: #007700">(</span><span style="color: #9876AA">$stmt</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>        </div>        <div class="example-contents"><p>以上示例会输出：</p></div>        <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Array<br>(<br>    [empno] =&gt; 000140<br>    [firstnme] =&gt; HEATHER<br>    [midinit] =&gt; A<br>    [lastname] =&gt; NICHOLLS<br>    [workdept] =&gt; C01<br>    [phoneno] =&gt; 1793<br>    [hiredate] =&gt; 1976-12-15<br>    [job] =&gt; ANALYST<br>    [edlevel] =&gt; 18<br>    [sex] =&gt; F<br>    [birthdate] =&gt; 1946-01-19<br>    [salary] =&gt; 28420.00<br>    [bonus] =&gt; 600.00<br>    [comm] =&gt; 2274.00<br>)<br><br>Array<br>(<br>    [empno] =&gt; 000130<br>    [firstnme] =&gt; DELORES<br>    [midinit] =&gt; M<br>    [lastname] =&gt; QUINTANA<br>    [workdept] =&gt; C01<br>    [phoneno] =&gt; 4578<br>    [hiredate] =&gt; 1971-07-28<br>    [job] =&gt; ANALYST<br>    [edlevel] =&gt; 16<br>    [sex] =&gt; F<br>    [birthdate] =&gt; 1925-09-15<br>    [salary] =&gt; 23800.00<br>    [bonus] =&gt; 500.00<br>    [comm] =&gt; 1904.00<br>)</span></div></div>      </div>      <div class="example" id="stream-socket-client.example.basic">        <p><strong>示例 #8 i5/OS cursors are read-only</strong></p>        <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />  $conn </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">""</span><span style="color: #007700">, </span><span style="color: #DD0000">""</span><span style="color: #007700">, </span><span style="color: #DD0000">""</span><span style="color: #007700">, array(</span><span style="color: #DD0000">"i5_lib"</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">"nobody"</span><span style="color: #007700">));<br />  </span><span style="color: #9876AA">$stmt </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_prepare</span><span style="color: #007700">(</span><span style="color: #9876AA">$conn</span><span style="color: #007700">, </span><span style="color: #DD0000">'select * from names where first = ?'</span><span style="color: #007700">);<br />  </span><span style="color: #9876AA">$name </span><span style="color: #007700">= </span><span style="color: #DD0000">"first2"</span><span style="color: #007700">;<br />  </span><span style="color: #9876AA">db2_bind_param</span><span style="color: #007700">(</span><span style="color: #9876AA">$stmt</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #DD0000">"name"</span><span style="color: #007700">, </span><span style="color: #9876AA">DB2_PARAM_IN</span><span style="color: #007700">);<br />  </span><span style="color: #9876AA">$options </span><span style="color: #007700">= array(</span><span style="color: #DD0000">"i5_fetch_only"</span><span style="color: #007700">=&gt;</span><span style="color: #9876AA">DB2_I5_FETCH_ON</span><span style="color: #007700">);<br />  </span><span style="color: #9876AA">db2_set_option</span><span style="color: #007700">(</span><span style="color: #9876AA">$stmt</span><span style="color: #007700">,</span><span style="color: #9876AA">$options</span><span style="color: #007700">,</span><span style="color: #9876AA">0</span><span style="color: #007700">);<br />  if (</span><span style="color: #9876AA">db2_execute</span><span style="color: #007700">(</span><span style="color: #9876AA">$stmt</span><span style="color: #007700">)) {<br />    while (</span><span style="color: #9876AA">$row </span><span style="color: #007700">= </span><span style="color: #9876AA">db2_fetch_array</span><span style="color: #007700">(</span><span style="color: #9876AA">$stmt</span><span style="color: #007700">)) {<br />      echo </span><span style="color: #DD0000">"</span><span style="color: #007700">{</span><span style="color: #9876AA">$row</span><span style="color: #007700">[</span><span style="color: #9876AA">0</span><span style="color: #007700">]}</span><span style="color: #DD0000"> </span><span style="color: #007700">{</span><span style="color: #9876AA">$row</span><span style="color: #007700">[</span><span style="color: #9876AA">1</span><span style="color: #007700">]}</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br />    }<br />  }<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>        </div>        <div class="example-contents"><p>以上示例会输出：</p></div>        <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>first2 last2<br></span></div>        </div>      </div>    </span>  </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.db2-set-option-seealso">    <h3 class="title">参见</h3>    <span>      <ul class="simplelist">        <li class="member"><span class="function">{@link db2_connect()} - Returns a connection to a database</span></li>        <li class="member"><span class="function">{@link db2_pconnect()} - Returns a persistent connection to a database</span></li>        <li class="member"><span class="function">{@link db2_exec()} - Executes an SQL statement directly</span></li>        <li class="member"><span class="function">{@link db2_prepare()} - Prepares an SQL statement to be executed</span></li>        <li class="member"><span class="function">{@link db2_cursor_type()} - Returns the cursor type used by a statement resource</span></li>      </ul>    </span>  </div></div>