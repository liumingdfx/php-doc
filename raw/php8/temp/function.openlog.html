<div id="function.openlog" class="refentry"> <div class="refnamediv">  <h1 class="refname">openlog</h1>  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openlog</span> &mdash; <span class="dc-title">Open connection to system logger</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.openlog-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>openlog</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$prefix</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$facility</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">openlog()</strong></span> opens a connection to the system   logger for a program.    </p>  <p class="para">    The use of <span class="function"><strong style="color:#CC7832">openlog()</strong></span> is optional. It   will automatically be called by <span class="function">{@link syslog()}</span> if   necessary, in which case <span class="parameter" style="color:#3A95FF">prefix</span> will default   to <strong><span>false</span></strong>.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.openlog-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">prefix</span></dt>     <dd>      <p class="para">       The string <span class="parameter" style="color:#3A95FF">prefix</span> is added to each message.       </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">flags</span></dt>     <dd>      <p class="para">       The <span class="parameter" style="color:#3A95FF">flags</span> argument is used to indicate       what logging options will be used when generating a log message.       <table class="doctable table">        <caption><strong><span class="function"><strong style="color:#CC7832">openlog()</strong></span> Options</strong></caption>                 <thead>          <tr>           <th>Constant</th>           <th>Description</th>          </tr>         </thead>         <tbody class="tbody">          <tr>           <td><strong><span>LOG_CONS</span></strong></td>           <td>            if there is an error while sending data to the system logger,            write directly to the system console           </td>          </tr>          <tr>           <td><strong><span>LOG_NDELAY</span></strong></td>           <td>            open the connection to the logger immediately           </td>          </tr>          <tr>           <td><strong><span>LOG_ODELAY</span></strong></td>           <td>            (default) delay opening the connection until the first            message is logged           </td>          </tr>          <tr>           <td><strong><span>LOG_PERROR</span></strong></td>           <td>print log message also to standard error</td>          </tr>          <tr>           <td><strong><span>LOG_PID</span></strong></td>           <td>include PID with each message</td>          </tr>         </tbody>               </table>       You can use one or more of these options. When using multiple options       you need to <span>OR</span> them, i.e. to open the connection       immediately, write to the console and include the PID in each message,       you will use: <span>LOG_CONS | LOG_NDELAY | LOG_PID</span>      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">facility</span></dt>     <dd>      <p class="para">       The <span class="parameter" style="color:#3A95FF">facility</span> argument is used to specify what       type of program is logging the message. This allows you to specify       (in your machine&#039;s syslog configuration) how messages coming from       different facilities will be handled.       <table class="doctable table">        <caption><strong><span class="function"><strong style="color:#CC7832">openlog()</strong></span> Facilities</strong></caption>                 <thead>          <tr>           <th>Constant</th>           <th>Description</th>          </tr>         </thead>         <tbody class="tbody">          <tr>           <td><strong><span>LOG_AUTH</span></strong></td>           <td>            security/authorization messages (use             <strong><span>LOG_AUTHPRIV</span></strong> instead            in systems where that constant is defined)           </td>          </tr>          <tr>           <td><strong><span>LOG_AUTHPRIV</span></strong></td>           <td>security/authorization messages (private)</td>          </tr>          <tr>           <td><strong><span>LOG_CRON</span></strong></td>           <td>clock daemon (cron and at)</td>          </tr>          <tr>           <td><strong><span>LOG_DAEMON</span></strong></td>           <td>other system daemons</td>          </tr>          <tr>           <td><strong><span>LOG_KERN</span></strong></td>           <td>kernel messages</td>          </tr>          <tr>           <td><strong><span>LOG_LOCAL0</span></strong> ... <strong><span>LOG_LOCAL7</span></strong></td>           <td>reserved for local use, these are not available in Windows</td>          </tr>          <tr>           <td><strong><span>LOG_LPR</span></strong></td>           <td>line printer subsystem</td>          </tr>          <tr>           <td><strong><span>LOG_MAIL</span></strong></td>           <td>mail subsystem</td>          </tr>          <tr>           <td><strong><span>LOG_NEWS</span></strong></td>           <td>USENET news subsystem</td>          </tr>          <tr>           <td><strong><span>LOG_SYSLOG</span></strong></td>           <td>messages generated internally by syslogd</td>          </tr>          <tr>           <td><strong><span>LOG_USER</span></strong></td>           <td>generic user-level messages</td>          </tr>          <tr>           <td><strong><span>LOG_UUCP</span></strong></td>           <td>UUCP subsystem</td>          </tr>         </tbody>               </table>      </p>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <p class="para">        <strong><span>LOG_USER</span></strong> is the only valid log type under Windows        operating systems       </p>      </p></blockquote>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.openlog-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.openlog-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link syslog()} - Generate a system log message</span></li>    <li class="member"><span class="function">{@link closelog()} - 关闭系统日志链接</span></li>   </ul>  </span> </div></div>