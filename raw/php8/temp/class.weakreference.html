<div id="class.weakreference" class="reference"> <h1 class="title">WeakReference 类</h1>  <div class="partintro"><p class="verinfo">(PHP 7 &gt;= 7.4.0, PHP 8)</p>  <div class="section" id="weakreference.intro">   <h2 class="title">简介</h2>   <p class="para">    弱引用可以指向一个对象，并且不阻止对象的销毁。可以实现具有对象结构的缓存。   </p>   <p class="para">    <span class="classname"><strong class="classname">弱引用类</strong></span>不能序列化。   </p>  </div>  <div class="section" id="weakreference.synopsis">   <h2 class="title">类摘要</h2>   <div class="classsynopsis"><div class="classsynopsisinfo">         <span class="modifier">final</span>     <span class="modifier">class</span> <strong class="classname"><strong class="classname">WeakReference</strong></strong>     {</div>        <div class="classsynopsisinfo classsynopsisinfo_comment">// 方法 </div>    <div class="constructorsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/weakreference.construct.php" class="methodname" style="color:#CC7832">__construct</a></span>()</div>    <div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="modifier">static</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/weakreference.create.php" class="methodname" style="color:#CC7832">create</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">object</span> <span class="parameter" style="color:#3A95FF">$object</span></span>): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.weakreference.php" class="type WeakReference" style="color:#EAB766">WeakReference</a></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/weakreference.get.php" class="methodname" style="color:#CC7832">get</a></span>(): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766">object</span></span></div>   }</div>  </div>  <div class="section" id="weakreference.examples">   <h2 class="title">弱引用示例</h2>   <p class="para">    <div class="example" id="example-1208">     <p><strong>示例 #1 弱引用的基础用法</strong></p>     <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$obj </span><span style="color: #007700">= new </span><span style="color: #9876AA">stdClass</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$weakref </span><span style="color: #007700">= </span><span style="color: #9876AA">WeakReference</span><span style="color: #007700">::</span><span style="color: #9876AA">create</span><span style="color: #007700">(</span><span style="color: #9876AA">$obj</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$weakref</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">get</span><span style="color: #007700">());<br />unset(</span><span style="color: #9876AA">$obj</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$weakref</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">get</span><span style="color: #007700">());<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>     <div class="example-contents"><p>以上示例的输出类似于：</p></div>     <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>object(stdClass)#1 (0) {<br>}<br>NULL<br></span></div>     </div>    </div>   </p>  </div> </div>   <h2>目录</h2><ul class="chunklist chunklist_reference"><li>{@link WeakReference::__construct} — 不允许实例化的构造函数</li><li>{@link WeakReference::create} — 创建新的弱引用</li><li>{@link WeakReference::get} — 获取弱引用对象</li></ul></div>