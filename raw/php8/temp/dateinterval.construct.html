<div id="dateinterval.construct" class="refentry"> <div class="refnamediv">  <h1 class="refname">DateInterval::__construct</h1>  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">DateInterval::__construct</span> &mdash; <span class="dc-title">Creates a new DateInterval object</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-dateinterval.construct-description">  <h3 class="title">说明</h3>  <div class="constructorsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>DateInterval::__construct</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$duration</span></span>)</div>  <p class="para rdfs-comment">   Creates a new DateInterval object.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-dateinterval.construct-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">duration</span></dt>     <dd>      <p class="para">       An interval specification.      </p>      <p class="para">       The format starts with the letter <span>P</span>,       for <q class="quote">period.</q>       Each duration period is represented by an integer value       followed by a period designator.       If the duration contains time elements, that portion       of the specification is preceded by the letter       <span>T</span>.      </p>      <p class="para">       <table class="doctable table">        <caption><strong>         <span class="parameter" style="color:#3A95FF">duration</span> Period Designators        </strong></caption>                 <thead>          <tr>           <th>Period Designator</th>           <th>Description</th>          </tr>         </thead>         <tbody class="tbody">          <tr>           <td><span>Y</span></td>           <td>years</td>          </tr>          <tr>           <td><span>M</span></td>           <td>months</td>          </tr>          <tr>           <td><span>D</span></td>           <td>days</td>          </tr>          <tr>           <td><span>W</span></td>           <td>            weeks. Converted into days.            Prior to PHP 8.0.0, can not be combined with <span>D</span>.           </td>          </tr>          <tr>           <td><span>H</span></td>           <td>hours</td>          </tr>          <tr>           <td><span>M</span></td>           <td>minutes</td>          </tr>          <tr>           <td><span>S</span></td>           <td>seconds</td>          </tr>         </tbody>               </table>      </p>      <p class="para">       Here are some simple examples.       Two days is <span>P2D</span>.       Two seconds is <span>PT2S</span>.       Six years and five minutes is <span>P6YT5M</span>.      </p>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <p class="para">        The unit types must be entered from the largest        scale unit on the left to the smallest scale unit        on the right.        So years before months, months before days,        days before minutes, etc.        Thus one year and four days must be represented as        <span>P1Y4D</span>, not <span>P4D1Y</span>.       </p>      </p></blockquote>      <p class="para">       The specification can also be represented as a date time.       A sample of one year and four days would be       <span>P0001-00-04T00:00:00</span>.       But the values in this format can not exceed a given period&#039;s       roll-over-point (e.g. <span>25</span> hours is invalid).      </p>      <p class="para">       These formats are based on the <a href="http://en.wikipedia.org/wiki/Iso8601#Durations" class="link external">&raquo;&nbsp;ISO 8601 duration       specification</a>.      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 errors" id="refsect1-dateinterval.construct-errors">  <h3 class="title">错误／异常</h3>  <p class="para">   Throws an <span class="classname"><a href="https://www.php.net/manual/zh/class.datemalformedintervalstringexception.php" class="classname">DateMalformedIntervalStringException</a></span> when   the <span class="parameter" style="color:#3A95FF">duration</span> cannot be parsed as an interval. Prior   to PHP 8.3, this was <span class="exceptionname"><a href="https://www.php.net/manual/zh/class.exception.php" class="exceptionname">Exception</a></span>.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-dateinterval.construct-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td>8.3.0</td>      <td>       Now throws       <span class="exceptionname"><a href="https://www.php.net/manual/zh/class.datemalformedintervalstringexception.php" class="exceptionname">DateMalformedIntervalStringException</a></span>       instead of <span class="exceptionname"><a href="https://www.php.net/manual/zh/class.exception.php" class="exceptionname">Exception</a></span>.      </td>     </tr>     <tr>      <td>8.2.0</td>      <td>       Only the <span>y</span> to <span>f</span>,       <span>invert</span>, and <span>days</span> will be visible,       including a new <span>from_string</span> boolean property.      </td>     </tr>     <tr>      <td>8.0.0</td>      <td>       <span>W</span> can be combined with <span>D</span>.      </td>     </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-dateinterval.construct-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 Constructing and using <span class="classname"><a href="https://www.php.net/manual/zh/class.dateinterval.php" class="classname">DateInterval</a></span> objects</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Create a specific date<br /></span><span style="color: #9876AA">$someDate </span><span style="color: #007700">= </span><span style="color: #9876AA">\DateTime</span><span style="color: #007700">::</span><span style="color: #9876AA">createFromFormat</span><span style="color: #007700">(</span><span style="color: #DD0000">"Y-m-d H:i"</span><span style="color: #007700">, </span><span style="color: #DD0000">"2022-08-25 14:18"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Create interval<br /></span><span style="color: #9876AA">$interval </span><span style="color: #007700">= new </span><span style="color: #9876AA">\DateInterval</span><span style="color: #007700">(</span><span style="color: #DD0000">"P7D"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Add interval<br /></span><span style="color: #9876AA">$someDate</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">add</span><span style="color: #007700">(</span><span style="color: #9876AA">$interval</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Convert interval to string<br /></span><span style="color: #007700">echo </span><span style="color: #9876AA">$interval</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">format</span><span style="color: #007700">(</span><span style="color: #DD0000">"%d"</span><span style="color: #007700">);</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><br />7<br />    </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 <span class="classname"><a href="https://www.php.net/manual/zh/class.dateinterval.php" class="classname">DateInterval</a></span> example</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$interval </span><span style="color: #007700">= new </span><span style="color: #9876AA">DateInterval</span><span style="color: #007700">(</span><span style="color: #DD0000">'P1W2D'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$interval</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例在 PHP 8.2 中的输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>object(DateInterval)#1 (10) {<br>  [&quot;y&quot;]=&gt;<br>  int(0)<br>  [&quot;m&quot;]=&gt;<br>  int(0)<br>  [&quot;d&quot;]=&gt;<br>  int(9)<br>  [&quot;h&quot;]=&gt;<br>  int(0)<br>  [&quot;i&quot;]=&gt;<br>  int(0)<br>  [&quot;s&quot;]=&gt;<br>  int(0)<br>  [&quot;f&quot;]=&gt;<br>  float(0)<br>  [&quot;invert&quot;]=&gt;<br>  int(0)<br>  [&quot;days&quot;]=&gt;<br>  bool(false)<br>  [&quot;from_string&quot;]=&gt;<br>  bool(false)<br>}<br></span></div>    </div>    <div class="example-contents"><p>以上示例在 PHP 8 中的输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>object(DateInterval)#1 (16) {<br>  [&quot;y&quot;]=&gt;<br>  int(0)<br>  [&quot;m&quot;]=&gt;<br>  int(0)<br>  [&quot;d&quot;]=&gt;<br>  int(9)<br>  [&quot;h&quot;]=&gt;<br>  int(0)<br>  [&quot;i&quot;]=&gt;<br>  int(0)<br>  [&quot;s&quot;]=&gt;<br>  int(0)<br>  [&quot;f&quot;]=&gt;<br>  float(0)<br>  [&quot;weekday&quot;]=&gt;<br>  int(0)<br>  [&quot;weekday_behavior&quot;]=&gt;<br>  int(0)<br>  [&quot;first_last_day_of&quot;]=&gt;<br>  int(0)<br>  [&quot;invert&quot;]=&gt;<br>  int(0)<br>  [&quot;days&quot;]=&gt;<br>  bool(false)<br>  [&quot;special_type&quot;]=&gt;<br>  int(0)<br>  [&quot;special_amount&quot;]=&gt;<br>  int(0)<br>  [&quot;have_weekday_relative&quot;]=&gt;<br>  int(0)<br>  [&quot;have_special_relative&quot;]=&gt;<br>  int(0)<br>}<br></span></div>    </div>    <div class="example-contents"><p>以上示例在 PHP 7 中的输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;">     <div class="cdata"><span>object(DateInterval)#1 (16) {<br>  [&quot;y&quot;]=&gt;<br>  int(0)<br>  [&quot;m&quot;]=&gt;<br>  int(0)<br>  [&quot;d&quot;]=&gt;<br>  int(2)<br>  [&quot;h&quot;]=&gt;<br>  int(0)<br>  [&quot;i&quot;]=&gt;<br>  int(0)<br>  [&quot;s&quot;]=&gt;<br>  int(0)<br>  [&quot;f&quot;]=&gt;<br>  float(0)<br>  [&quot;weekday&quot;]=&gt;<br>  int(0)<br>  [&quot;weekday_behavior&quot;]=&gt;<br>  int(0)<br>  [&quot;first_last_day_of&quot;]=&gt;<br>  int(0)<br>  [&quot;invert&quot;]=&gt;<br>  int(0)<br>  [&quot;days&quot;]=&gt;<br>  bool(false)<br>  [&quot;special_type&quot;]=&gt;<br>  int(0)<br>  [&quot;special_amount&quot;]=&gt;<br>  int(0)<br>  [&quot;have_weekday_relative&quot;]=&gt;<br>  int(0)<br>  [&quot;have_special_relative&quot;]=&gt;<br>  int(0)<br>}<br></span></div>    </div>   </div>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-dateinterval.construct-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link DateInterval::format()} - Formats the interval</span></li>    <li class="member"><span class="function">{@link DateTime::add()} - 修改 DateTime 对象，增加天、月、年、小时、分钟以及秒的数量。</span></li>    <li class="member"><span class="function">{@link DateTime::sub()} - 对 DateTime 对象减去一定量的日、月、年、小时、分钟和秒。</span></li>    <li class="member"><span class="function">{@link DateTime::diff()} - 返回两个 DateTime 之间的差值</span></li>   </ul>  </span> </div></div>