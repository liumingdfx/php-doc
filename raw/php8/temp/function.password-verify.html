<div id="function.password-verify" class="refentry"> <div class="refnamediv">  <h1 class="refname">password_verify</h1>  <p class="verinfo">(PHP 5 &gt;= 5.5.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">password_verify</span> &mdash; <span class="dc-title">验证密码是否和散列值匹配</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.password-verify-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>password_verify</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$password</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$hash</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   验证密码是否和指定的散列值匹配。<span class="function"><strong style="color:#CC7832">password_verify()</strong></span> 与 <span class="function">{@link crypt()}</span>   兼容。因此，由 <span class="function">{@link crypt()}</span> 创建的密码散列可以用于 <span class="function"><strong style="color:#CC7832">password_verify()</strong></span>   一起使用。  </p>  <p class="para">   注意 <span class="function">{@link password_hash()}</span> 返回的散列包含了算法、 cost 和盐值。   因此，所有需要的信息都包含内。使得验证函数不需要储存额外盐值等信息即可验证散列。  </p>  <p class="para">   时序攻击（timing attacks）对此函数不起作用。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.password-verify-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">password</span></dt>    <dd>     <span>      用户的密码。     </span>    </dd>          <dt><span class="parameter" style="color:#3A95FF">hash</span></dt>    <dd>     <p class="para">      一个由 <span class="function">{@link password_hash()}</span> 创建的散列值。     </p>    </dd>     </dl> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.password-verify-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   如果密码和散列值匹配则返回 <strong><span>true</span></strong>，否则返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.password-verify-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="example-2918">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">password_verify()</strong></span> 示例</strong></p>    <div class="example-contents"><p>     这只是简单的示例，如果需要，建议重新生成正确的密码；请参见 <span class="function">{@link password_needs_rehash()}</span> 示例。    </p></div>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// 想知道以下字符从哪里来，可参见 password_hash() 示例<br /></span><span style="color: #9876AA">$hash </span><span style="color: #007700">= </span><span style="color: #DD0000">'$2y$10$.vGA1O9wmRjrwAVXD98HNOgsNpDczlqm3Jq7KnEd1rVAGv3Fykk1a'</span><span style="color: #007700">;<br /><br />if (</span><span style="color: #9876AA">password_verify</span><span style="color: #007700">(</span><span style="color: #DD0000">'rasmuslerdorf'</span><span style="color: #007700">, </span><span style="color: #9876AA">$hash</span><span style="color: #007700">)) {<br />    echo </span><span style="color: #DD0000">'Password is valid!'</span><span style="color: #007700">;<br />} else {<br />    echo </span><span style="color: #DD0000">'Invalid password.'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例会输出：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>Password is valid!<br></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.password-verify-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link password_needs_rehash()} - 检测散列值是否匹配指定的选项</span></li>    <li class="member"><span class="function">{@link password_hash()} - 创建密码的散列（hash）</span></li>    <li class="member"><a href="https://www.php.net/manual/zh/https://github.com/ircmaxell/password_compat" class="link external">&raquo;&nbsp;用户级实现</a></li>    <li class="member"><span class="function">{@link sodium_crypto_pwhash_str_verify()} - Verifies that a password matches a hash</span></li>   </ul>  </span> </div></div>