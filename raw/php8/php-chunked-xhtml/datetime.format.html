<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>按照指定格式返回格式化后的日期</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="datetime.diff.html">« DateTimeInterface::diff</a></li>
      <li style="float: right;"><a href="datetime.getoffset.html">DateTimeInterface::getOffset »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.datetimeinterface.html">DateTimeInterface</a></li>
    <li>按照指定格式返回格式化后的日期</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="datetime.format" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">DateTimeInterface::format</h1>
  <h1 class="refname">DateTimeImmutable::format</h1>
  <h1 class="refname">DateTime::format</h1>
  <h1 class="refname">date_format</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.2.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">DateTimeInterface::format</span> -- <span class="refname">DateTimeImmutable::format</span> -- <span class="refname">DateTime::format</span> -- <span class="refname">date_format</span> &mdash; <span class="dc-title">按照指定格式返回格式化后的日期</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-datetime.format-description">
  <h3 class="title">说明</h3>
  <p class="para">面向对象风格</p>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>DateTimeInterface::format</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$format</code></span>): <span class="type">string</span></div>

  <div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><strong>DateTimeImmutable::format</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$format</code></span>): <span class="type">string</span></div>

  <div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><strong>DateTime::format</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$format</code></span>): <span class="type">string</span></div>

  <p class="para rdfs-comment">过程化风格</p>
  <div class="methodsynopsis dc-description"><span class="methodname"><a href="function.date-format.html" class="methodname">date_format</a></span>(<span class="methodparam"><span class="type"><a href="class.datetimeinterface.html" class="type DateTimeInterface">DateTimeInterface</a></span> <code class="parameter">$object</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$format</code></span>): <span class="type">string</span></div>

  <p class="para rdfs-comment">
   按照指定格式返回格式化后的日期。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-datetime.format-parameters">
  <h3 class="title">参数</h3>
  <dl>
   <dt>
<code class="parameter">object</code></dt>

<dd>
<p class="para">仅为过程化风格：由 <span class="function"><a href="function.date-create.html" class="function">date_create()</a></span> 返回的 <span class="classname"><a href="class.datetime.html" class="classname">DateTime</a></span> 类型的对象。</p></dd>

   
    <dt>
<code class="parameter">format</code></dt>

    <dd>

     <p class="para">
      输出的日期 <span class="type">string</span>
      的格式。参见下面的格式化选项。也有几个<a href="class.datetimeinterface.html#datetimeinterface.constants.types" class="link">预定义日期常量</a>可以代替。例如
      <strong><code>DATE_RSS</code></strong> 包含格式化字符串 <code class="literal">&#039;D, d M Y H:i:s&#039;</code>。
     </p>
     <p class="para">
      <table class="doctable table">
       <caption><strong><code class="parameter">format</code> 参数字符串可以识别以下字符</strong></caption>
       
        <thead>
         <tr>
          <th><code class="parameter">format</code> 字符</th>
          <th>说明</th>
          <th>返回值示例</th>
         </tr>

        </thead>

        <tbody class="tbody">
         <tr>
          <td style="text-align: center;"><em>日</em></td>
          <td>---</td>
          <td>---</td>
         </tr>

         <tr>
          <td><code class="literal">d</code></td>
          <td>月份中的第几天，有补零的两位数字</td>
          <td><code class="literal">01</code> 到 <code class="literal">31</code></td>
         </tr>

         <tr>
          <td><code class="literal">D</code></td>
          <td>文字表示星期几，三个字母</td>
          <td><code class="literal">Mon</code> 到 <code class="literal">Sun</code></td>
         </tr>

         <tr>
          <td><code class="literal">j</code></td>
          <td>月份中的第几天，没有补零</td>
          <td><code class="literal">1</code> 到 <code class="literal">31</code></td>
         </tr>

         <tr>
          <td><code class="literal">l</code>（小写 &#039;L&#039;）</td>
          <td>完整文本表示星期几</td>
          <td><code class="literal">Sunday</code> 到 <code class="literal">Saturday</code></td>
         </tr>

         <tr>
          <td><code class="literal">N</code></td>
          <td>ISO 8601 数字表示星期几</td>
          <td><code class="literal">1</code>（星期一）到 <code class="literal">7</code>（星期天）</td>
         </tr>

         <tr>
          <td><code class="literal">S</code></td>
          <td>月份中的第几天英文后缀，两个字符</td>
          <td>
           <code class="literal">st</code>、<code class="literal">nd</code>、<code class="literal">rd</code> 或
           <code class="literal">th</code>。可以和 <code class="literal">j</code> 一起使用
          </td>
         </tr>

         <tr>
          <td><code class="literal">w</code></td>
          <td>数字表示星期几</td>
          <td><code class="literal">0</code>（星期天）到 <code class="literal">6</code>（星期六）</td>
         </tr>

         <tr>
          <td><code class="literal">z</code></td>
          <td>一年中的第几天（从 0 开始）</td>
          <td><code class="literal">0</code> 到 <code class="literal">365</code></td>
         </tr>

         <tr>
          <td style="text-align: center;"><em>周</em></td>
          <td>---</td>
          <td>---</td>
         </tr>

         <tr>
          <td><code class="literal">W</code></td>
          <td>ISO 8601 格式当年中的第几周，每周从周一开始</td>
          <td>示例：<code class="literal">42</code>（当年的第 42 周）</td>
         </tr>

         <tr>
          <td style="text-align: center;"><em>月</em></td>
          <td>---</td>
          <td>---</td>
         </tr>

         <tr>
          <td><code class="literal">F</code></td>
          <td>月份的完整文本表示，比如 January 或者 March</td>
          <td><code class="literal">January</code> 到 <code class="literal">December</code></td>
         </tr>

         <tr>
          <td><code class="literal">m</code></td>
          <td>月份的数字表示，补零</td>
          <td><code class="literal">01</code> 到 <code class="literal">12</code></td>
         </tr>

         <tr>
          <td><code class="literal">M</code></td>
          <td>简短文本表示月份，三个字母</td>
          <td><code class="literal">Jan</code> 到 <code class="literal">Dec</code></td>
         </tr>

         <tr>
          <td><code class="literal">n</code></td>
          <td>数字表示几月份，不补零</td>
          <td><code class="literal">1</code> 到 <code class="literal">12</code></td>
         </tr>

         <tr>
          <td><code class="literal">t</code></td>
          <td>指定月份的天数</td>
          <td><code class="literal">28</code> 到 <code class="literal">31</code></td>
         </tr>

         <tr>
          <td style="text-align: center;"><em>年</em></td>
          <td>---</td>
          <td>---</td>
         </tr>

         <tr>
          <td><code class="literal">L</code></td>
          <td>是否是闰年</td>
          <td>如果是闰年为 <code class="literal">1</code>，否则为 <code class="literal">0</code>。</td>
         </tr>

         <tr>
          <td><code class="literal">o</code></td>
          <td>ISO 8601 数字年份表示。这和 <code class="literal">Y</code> 值相同，但如果 ISO
           周数（<code class="literal">W</code>）属于上一年或者下一年，则用那一年。</td>
          <td>示例：<code class="literal">1999</code> 或 <code class="literal">2003</code></td>
         </tr>

         <tr>
          <td><code class="literal">X</code></td>
          <td>年份的展开全数字表示，至少四位，<code class="literal">-</code>
           表示公元前，<code class="literal">+</code> 表示公元。</td>
          <td>示例：<code class="literal">-0055</code>、<code class="literal">+0787</code>、
           <code class="literal">+1999</code>、<code class="literal">+10191</code></td>
         </tr>

         <tr>
          <td><code class="literal">x</code></td>
          <td>如果需要，年份可以展开全数字表示，如果可能的话，也可以用标准的全数字（<code class="literal">Y</code>）表示。至少有四位数字。公元前以
           <code class="literal">-</code> 为前缀，年份不小于 <code class="literal">10000</code>
           时以 <code class="literal">+</code> 为前缀。</td>
          <td>示例：<code class="literal">-0055</code>, <code class="literal">0787</code>,
           <code class="literal">1999</code>, <code class="literal">+10191</code></td>
         </tr>

         <tr>
          <td><code class="literal">Y</code></td>
          <td>年份完整数字表示，至少四位，使用 <code class="literal">-</code> 表示公元前。</td>
          <td>示例：<code class="literal">-0055</code>、<code class="literal">0787</code>、
           <code class="literal">1999</code>、<code class="literal">2003</code>、<code class="literal">10191</code>
          </td>
         </tr>

         <tr>
          <td><code class="literal">y</code></td>
          <td>两位数的年份表示</td>
          <td>示例：<code class="literal">99</code> 或 <code class="literal">03</code></td>
         </tr>

         <tr>
          <td style="text-align: center;"><em>时间</em></td>
          <td>---</td>
          <td>---</td>
         </tr>

         <tr>
          <td><code class="literal">a</code></td>
          <td>小写的上午和下午</td>
          <td><code class="literal">am</code> 或 <code class="literal">pm</code></td>
         </tr>

         <tr>
          <td><code class="literal">A</code></td>
          <td>大写的上午和下午</td>
          <td><code class="literal">AM</code> 或 <code class="literal">PM</code></td>
         </tr>

         <tr>
          <td><code class="literal">B</code></td>
          <td>Swatch 互联网时间</td>
          <td><code class="literal">000</code> 到 <code class="literal">999</code></td>
         </tr>

         <tr>
          <td><code class="literal">g</code></td>
          <td>不补零的小时（12 小时制）</td>
          <td><code class="literal">1</code> 到 <code class="literal">12</code></td>
         </tr>

         <tr>
          <td><code class="literal">G</code></td>
          <td>不补零的小时（24 小时制）</td>
          <td><code class="literal">0</code> 到 <code class="literal">23</code></td>
         </tr>

         <tr>
          <td><code class="literal">h</code></td>
          <td>补零的小时（12 小时制）</td>
          <td><code class="literal">01</code> 到 <code class="literal">12</code></td>
         </tr>

         <tr>
          <td><code class="literal">H</code></td>
          <td>补零的小时（24 小时制）</td>
          <td><code class="literal">00</code> 到 <code class="literal">23</code></td>
         </tr>

         <tr>
          <td><code class="literal">i</code></td>
          <td>补零的分钟</td>
          <td><code class="literal">00</code> 到 <code class="literal">59</code></td>
         </tr>

         <tr>
          <td><code class="literal">s</code></td>
          <td>补零的秒</td>
          <td><code class="literal">00</code> 到 <code class="literal">59</code></td>
         </tr>

         <tr>
          <td><code class="literal">u</code></td>
          <td>
           微秒。注意 <span class="function"><a href="function.date.html" class="function">date()</a></span> 总是生成 <code class="literal">000000</code>，因为它需要一个
           <span class="type">int</span> 参数，而如果 <span class="classname"><a href="class.datetime.html" class="classname">DateTime</a></span> 是使用微秒创建的，则
           <span class="methodname"><strong>DateTime::format()</strong></span> 支持微秒。
          </td>
          <td>示例：<code class="literal">654321</code></td>
         </tr>

         <tr>
          <td><code class="literal">v</code></td>
          <td>
           毫秒。与 <code class="literal">u</code> 的说明相同。
          </td>
          <td>示例：<code class="literal">654</code></td>
         </tr>

         <tr>
          <td style="text-align: center;"><em>时区</em></td>
          <td>---</td>
          <td>---</td>
         </tr>

         <tr>
          <td><code class="literal">e</code></td>
          <td>时区标识符</td>
          <td>示例：<code class="literal">UTC</code>、<code class="literal">GMT</code>、<code class="literal">Atlantic/Azores</code></td>
         </tr>

         <tr>
          <td><code class="literal">I</code>（大写 i）</td>
          <td>是否为夏令时</td>
          <td>如果是夏令时为 <code class="literal">1</code>，否则为 <code class="literal">0</code>。</td>
         </tr>

         <tr>
          <td><code class="literal">O</code></td>
          <td>跟格林尼治时间（GMT）的差异，小时和分钟时间没有冒号</td>
          <td>示例：<code class="literal">+0200</code></td>
         </tr>

         <tr>
          <td><code class="literal">P</code></td>
          <td>跟格林尼治时间（GMT）的差异，小时和分钟时间有冒号</td>
          <td>示例：<code class="literal">+02:00</code></td>
         </tr>

         <tr>
          <td><code class="literal">p</code></td>
          <td>
           跟 <code class="literal">P</code> 相同，区别是使用 <code class="literal">Z</code>
           替换 <code class="literal">+00:00</code> 返回（PHP 8.0.0 起可用）
          </td>
          <td>示例：<code class="literal">Z</code> 或 <code class="literal">+02:00</code></td>
         </tr>

         <tr>
          <td><code class="literal">T</code></td>
          <td>如果知道会返回时区缩写，否则返回 GMT 时差。</td>
          <td>示例：<code class="literal">EST</code>、<code class="literal">MDT</code>、<code class="literal">+05</code></td>
         </tr>

         <tr>
          <td><code class="literal">Z</code></td>
          <td>以秒为单位的时差。UTC 以西的时区为负的时差，以东为正的时差。</td>
          <td><code class="literal">-43200</code> 到 <code class="literal">50400</code></td>
         </tr>

         <tr>
          <td style="text-align: center;"><em>完整日期/时间</em></td>
          <td>---</td>
          <td>---</td>
         </tr>

         <tr>
          <td><code class="literal">c</code></td>
          <td>ISO 8601 日期</td>
          <td>2004-02-12T15:19:21+00:00</td>
         </tr>

         <tr>
          <td><code class="literal">r</code></td>
          <td><a href="http://www.faqs.org/rfcs/rfc2822" class="link external">&raquo;&nbsp;RFC 2822</a>/<a href="http://www.faqs.org/rfcs/rfc5322" class="link external">&raquo;&nbsp;RFC 5322</a> 格式化时间</td>
          <td>示例：<code class="literal">Thu, 21 Dec 2000 16:01:07 +0200</code></td>
         </tr>

         <tr>
          <td><code class="literal">U</code></td>
          <td>从 Unix 纪元（January 1 1970 00:00:00 GMT）到至今的秒数</td>
          <td>参见 <span class="function"><a href="function.time.html" class="function">time()</a></span></td>
         </tr>

        </tbody>
       
      </table>

     </p>
     <p class="para">
      格式字符串中无法识别的字符将会原样打印。当使用 <span class="function"><a href="function.gmdate.html" class="function">gmdate()</a></span>
      时，<code class="literal">Z</code> 格式将始终返回 <code class="literal">0</code>。
     </p>
     <blockquote class="note"><p><strong class="note">注意</strong>: 
      <p class="para">
       由于本函数仅接受 <span class="type">int</span> 类型时间戳，所以 <code class="literal">u</code> 格式化标识符仅在用户使用
       <span class="function"><a href="function.date-create.html" class="function">date_create()</a></span> 且使用 <span class="function"><a href="function.date-format.html" class="function">date_format()</a></span> 创建时间戳时才有用。
      </p>
     </p></blockquote>
    </dd>

   
  </dl>

 </div>


 <div class="refsect1 returnvalues" id="refsect1-datetime.format-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   成功时返回格式化后的日期字符串。
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-datetime.format-changelog">
  <h3 class="title">更新日志</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>版本</th>
      <th>说明</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.2.0</td>
      <td>
       新增 <code class="literal">X</code> 和 <code class="literal">x</code> 格式化字符。
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       新增 <code class="literal">p</code> 格式化字符。
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-datetime.format-examples">
  <h3 class="title">示例</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>示例 #1 <span class="function"><strong>DateTimeInterface::format()</strong></span> 示例</strong></p>
    <div class="example-contents"><p>面向对象风格</p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$date </span><span style="color: #007700">= new </span><span style="color: #0000BB">DateTimeImmutable</span><span style="color: #007700">(</span><span style="color: #DD0000">'2000-01-01'</span><span style="color: #007700">);<br />echo </span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d H:i:s'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>过程化风格</p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$date </span><span style="color: #007700">= </span><span style="color: #0000BB">date_create</span><span style="color: #007700">(</span><span style="color: #DD0000">'2000-01-01'</span><span style="color: #007700">);<br />echo </span><span style="color: #0000BB">date_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$date</span><span style="color: #007700">, </span><span style="color: #DD0000">'Y-m-d H:i:s'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>以上示例会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
2000-01-01 00:00:00
</pre></div>
    </div>
   </div>
  </p>

  <p class="para">
   <div class="example" id="">
    <p><strong>示例 #2 更多示例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">// 设置使用的默认时区。<br /></span><span style="color: #0000BB">date_default_timezone_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'UTC'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 现在<br /></span><span style="color: #0000BB">$date </span><span style="color: #007700">= new </span><span style="color: #0000BB">DateTimeImmutable</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">// 打印类似：Wednesday<br /></span><span style="color: #007700">echo </span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'l'</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /> <br /></span><span style="color: #FF8000">// 打印类似：Wednesday 19th of October 2022 08:40:48 AM<br /></span><span style="color: #007700">echo </span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'l jS \o\f F Y h:i:s A'</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/* 在 format 参数中使用常量 */<br />// 打印类似：Wed, 19 Oct 2022 08:40:48 +0000<br /></span><span style="color: #007700">echo </span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">DateTimeInterface</span><span style="color: #007700">::</span><span style="color: #0000BB">RFC2822</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
  <p class="para">
   通过对格式化字符串中的识别字符添加反斜线，对其转义来防止被解析。如果带有反斜线的字符已经是特殊序列，那么还要对反斜线进行转义。
   <div class="example" id="">
    <p><strong>示例 #3 格式化时转义字符</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$date </span><span style="color: #007700">= new </span><span style="color: #0000BB">DateTimeImmutable</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">// 打印类似：Wednesday the 19th<br /></span><span style="color: #007700">echo </span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'l \t\h\e jS'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
  <p class="para">
   要格式化其它语言的日期，可以使用 <span class="methodname"><a href="intldateformatter.format.html" class="methodname">IntlDateFormatter::format()</a></span>
   代替 <span class="methodname"><strong>DateTimeInterface::format()</strong></span>。
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-datetime.format-notes">
  <h3 class="title">注释</h3>
  <p class="para">
   此方法不使用区域设置，所有的输出都是英文。
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-datetime.format-seealso">
  <h3 class="title">参见</h3>
  <ul class="simplelist">
   <li class="member"><span class="methodname"><a href="intldateformatter.format.html" class="methodname" rel="rdfs-seeAlso">IntlDateFormatter::format()</a> - Format the date/time value as a string</span></li>
  </ul>
 </div>


</div></div></div></body></html>