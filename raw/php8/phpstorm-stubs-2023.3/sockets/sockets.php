<?php

// Start of sockets v.
use JetBrains\PhpStorm\ArrayShape;
use JetBrains\PhpStorm\Internal\PhpStormStubsElementAvailable;

/**
*<div id="function.socket-addrinfo-lookup" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_addrinfo_lookup</h1>  <p class="verinfo">(PHP 7 &gt;= 7.2.0, PHP 8)</p><p class="refpurpose"><span class="refname">socket_addrinfo_lookup</span> &mdash; <span class="dc-title">获取数组，包含有关给定主机名的 getaddrinfo 内容</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-addrinfo-lookup-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_addrinfo_lookup</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$host</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$service</span><span class="initializer"> = <strong><span>null</span></strong></span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$hints</span><span class="initializer"> = []</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   查找可以连接到 <span class="parameter" style="color:#3A95FF">host</span> 的不同方式。返回的数组包含 <span class="classname"><a href="https://www.php.net/manual/zh/class.addressinfo.php" class="classname">AddressInfo</a></span>    实例列表，可以使用 <span class="function">{@link socket_addrinfo_bind()}</span> 绑定这些实例。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-addrinfo-lookup-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">host</span></dt>    <dd>     <span>      搜索的主机名。     </span>    </dd>          <dt><span class="parameter" style="color:#3A95FF">service</span></dt>    <dd>     <p class="para">      要连接的服务。如果 service 是字符串数字，它指定为端口号。否则指定的是一个网络服务名称，会被操作系统映射到对应端口。     </p>    </dd>          <dt><span class="parameter" style="color:#3A95FF">hints</span></dt>    <dd>     <p class="para">      Hints 提供了选择返回地址的标准。可以指定为由 getaddrinfo 定义的 hints 结构。     </p>    </dd>     </dl> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-addrinfo-lookup-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   返回可以与其他 socket_addrinfo 函数一起使用的 <span class="classname"><a href="https://www.php.net/manual/zh/class.addressinfo.php" class="classname">AddressInfo</a></span> 实例数组。失败时返回 <strong><span>false</span></strong>。  </p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-addrinfo-lookup-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td>8.0.0</td>      <td>       成功时，现在函数返回 <span class="classname"><a href="https://www.php.net/manual/zh/class.addressinfo.php" class="classname">AddressInfo</a></span> 实例数组。在此之前，返回的是 <span class="type" style="color:#EAB766">resource</span> 数组。      </td>     </tr>     <tr>      <td>8.0.0</td>      <td>       <span class="parameter" style="color:#3A95FF">service</span> 现在允许为 null。      </td>     </tr>    </tbody>     </table> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-addrinfo-lookup-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_addrinfo_bind()} - 从给定的 addrinfo 创建并绑定一个套接字</span></li>    <li class="member"><span class="function">{@link socket_addrinfo_connect()} - 指定 addrinfo 创建并连接套接字</span></li>    <li class="member"><span class="function">{@link socket_addrinfo_explain()} - 获取有关 addrinfo 的信息</span></li>   </ul>  </span> </div></div>
 * @return AddressInfo[]|false of AddrInfo resource handles that can be used with the other socket_addrinfo functions.*/
function socket_addrinfo_lookup(string $host, ?string $service, array $hints = []): array|false {}

/**
*<div id="function.socket-addrinfo-connect" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_addrinfo_connect</h1>  <p class="verinfo">(PHP 7 &gt;= 7.2.0, PHP 8)</p><p class="refpurpose"><span class="refname">socket_addrinfo_connect</span> &mdash; <span class="dc-title">指定 addrinfo 创建并连接套接字</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-addrinfo-connect-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_addrinfo_connect</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.addressinfo.php" class="type AddressInfo" style="color:#EAB766">AddressInfo</a></span> <span class="parameter" style="color:#3A95FF">$address</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   创建 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，并连接到 <span class="classname"><a href="https://www.php.net/manual/zh/class.addressinfo.php" class="classname">AddressInfo</a></span> 实例。此函数的返回值可以和其余套接字函数一起使用。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-addrinfo-connect-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">address</span></dt>    <dd>     <span>      从 <span class="function">{@link socket_addrinfo_lookup()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.addressinfo.php" class="classname">AddressInfo</a></span> 实例。     </span>    </dd>     </dl> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-addrinfo-connect-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-addrinfo-connect-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td>8.0.0</td>      <td>       现在该函数成功时返回 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例；在此之前，返回值是 <span class="type" style="color:#EAB766">resource</span>。      </td>     </tr>     <tr> <td>8.0.0</td> <td>  现在 <span class="parameter" style="color:#3A95FF">address</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.addressinfo.php" class="classname">AddressInfo</a></span> 实例，  之前是 <span class="type" style="color:#EAB766">resource</span>。 </td></tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-addrinfo-connect-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_addrinfo_bind()} - 从给定的 addrinfo 创建并绑定一个套接字</span></li>    <li class="member"><span class="function">{@link socket_addrinfo_explain()} - 获取有关 addrinfo 的信息</span></li>    <li class="member"><span class="function">{@link socket_addrinfo_lookup()} - 获取数组，包含有关给定主机名的 getaddrinfo 内容</span></li>   </ul>  </span> </div></div>
 * @return resource|Socket|null|false Socket resource on success or NULL on failure.*/
function socket_addrinfo_connect(AddressInfo $address): Socket|false {}

/**
*<div id="function.socket-addrinfo-bind" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_addrinfo_bind</h1>  <p class="verinfo">(PHP 7 &gt;= 7.2.0, PHP 8)</p><p class="refpurpose"><span class="refname">socket_addrinfo_bind</span> &mdash; <span class="dc-title">从给定的 addrinfo 创建并绑定一个套接字</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-addrinfo-bind-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_addrinfo_bind</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.addressinfo.php" class="type AddressInfo" style="color:#EAB766">AddressInfo</a></span> <span class="parameter" style="color:#3A95FF">$address</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   使用给定的 <span class="classname"><a href="https://www.php.net/manual/zh/class.addressinfo.php" class="classname">AddressInfo</a></span> 创建并绑定一个 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。此函数的返回值可以被   <span class="function">{@link socket_listen()}</span> 使用。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-addrinfo-bind-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">address</span></dt>    <dd>     <span>      从 <span class="function">{@link socket_addrinfo_lookup()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.addressinfo.php" class="classname">AddressInfo</a></span> 实例。     </span>    </dd>     </dl> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-addrinfo-bind-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回一个 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-addrinfo-bind-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td>8.0.0</td>      <td>       成功时，该函数现在返回一个 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例；在此之前，返回值是一个 <span class="type" style="color:#EAB766">resource</span>。      </td>     </tr>     <tr> <td>8.0.0</td> <td>  现在 <span class="parameter" style="color:#3A95FF">address</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.addressinfo.php" class="classname">AddressInfo</a></span> 实例，  之前是 <span class="type" style="color:#EAB766">resource</span>。 </td></tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-addrinfo-bind-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_addrinfo_connect()} - 指定 addrinfo 创建并连接套接字</span></li>    <li class="member"><span class="function">{@link socket_addrinfo_explain()} - 获取有关 addrinfo 的信息</span></li>    <li class="member"><span class="function">{@link socket_addrinfo_lookup()} - 获取数组，包含有关给定主机名的 getaddrinfo 内容</span></li>    <li class="member"><span class="function">{@link socket_listen()} - 监听套接字的连接</span></li>   </ul>  </span> </div> </div>
 * @return resource|Socket|null|false Socket resource on success or NULL on failure.*/
function socket_addrinfo_bind(AddressInfo $address): Socket|false {}

/**
 * (PHP 7 &gt;= 7.2.0)<br/>
 * Get information about addrinfo
 * @link https://www.php.net/manual/en/function.socket-addrinfo-explain.php
 * @param resource|AddressInfo $address <p>
 * Resource created from {@see socket_addrinfo_lookup()}
 * </p>
 * @return array containing the fields in the addrinfo structure.
 * @since 7.2
 */
#[ArrayShape([
    'ai_flags' => 'int',
    'ai_family' => 'int',
    'ai_socktype' => 'int',
    'ai_protocol' => 'int',
    'ai_canonname' => 'string',
    'ai_addr' => [
        'sin_port' => 'int',
        'sin_addr' => 'string',
        'sin6_port' => 'int',
        'sin6_addr' => 'string',
    ]
])]
/**
*<div id="function.socket-addrinfo-explain" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_addrinfo_explain</h1>  <p class="verinfo">(PHP 7 &gt;= 7.2.0, PHP 8)</p><p class="refpurpose"><span class="refname">socket_addrinfo_explain</span> &mdash; <span class="dc-title">获取有关 addrinfo 的信息</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-addrinfo-explain-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_addrinfo_explain</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.addressinfo.php" class="type AddressInfo" style="color:#EAB766">AddressInfo</a></span> <span class="parameter" style="color:#3A95FF">$address</span></span>): <span class="type" style="color:#EAB766">array</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">socket_addrinfo_explain()</strong></span> 显露底层的 <span>addrinfo</span> 结构体。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-addrinfo-explain-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">address</span></dt>    <dd>     <span>      从 <span class="function">{@link socket_addrinfo_lookup()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.addressinfo.php" class="classname">AddressInfo</a></span> 实例。     </span>    </dd>     </dl> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-addrinfo-explain-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   返回包含 <span>addrinfo</span> 结构体字段的数组。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-addrinfo-explain-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr> <td>8.0.0</td> <td>  现在 <span class="parameter" style="color:#3A95FF">address</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.addressinfo.php" class="classname">AddressInfo</a></span> 实例，  之前是 <span class="type" style="color:#EAB766">resource</span>。 </td></tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-addrinfo-explain-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_addrinfo_bind()} - 从给定的 addrinfo 创建并绑定一个套接字</span></li>    <li class="member"><span class="function">{@link socket_addrinfo_connect()} - 指定 addrinfo 创建并连接套接字</span></li>    <li class="member"><span class="function">{@link socket_addrinfo_lookup()} - 获取数组，包含有关给定主机名的 getaddrinfo 内容</span></li>   </ul>  </span> </div></div>
*/
function socket_addrinfo_explain(AddressInfo $address): array {}

/**
*<div id="function.socket-select" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_select</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_select</span> &mdash; <span class="dc-title">从给定套接字数组运行带指定超时时间的 select() 系统调用</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-select-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_select</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">&$read</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">&$write</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">&$except</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$seconds</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$microseconds</span><span class="initializer"> = 0</span></span><br>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">socket_select()</strong></span> 接受套接字数组并等待其状态改变。如果拥有 BSD 套接字背景，会认识到这些套接字数组事实上被称为文件描述符集合。观察三个独立套接字数组。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-select-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">read</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">read</span> 数组中列出要检查是否可读的套接字（更准确地说，查看读取是否会阻塞-特别是套接字在 EOF 时也可以是就绪状态，此时 <span class="function">{@link socket_read()}</span>        将会返回长度为 0 的字符串。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">write</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">write</span> 数组中列出要检查的写入是否阻塞的套接字。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">except</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">except</span> 数组中列出要检查的是否异常的套接字。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">seconds</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">seconds</span> 和 <span class="parameter" style="color:#3A95FF">microseconds</span>        构成 <span>timeout</span> 参数。<span>timeout</span>        是 <span class="function"><strong style="color:#CC7832">socket_select()</strong></span> 返回前的运行时间上限。<span class="parameter" style="color:#3A95FF">seconds</span>        可以是 0，使 <span class="function"><strong style="color:#CC7832">socket_select()</strong></span> 立即返回。这在轮询时很有用。如果 <span class="parameter" style="color:#3A95FF">seconds</span>        是 <strong><span>null</span></strong>（不会超时），<span class="function"><strong style="color:#CC7832">socket_select()</strong></span> 会无限期阻塞。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">microseconds</span></dt>     <dd>      <p class="para">      </p>     </dd>       </dl>  </span>  <div class="warning"><strong class="warning">警告</strong>   <p class="para">    函数退出时，数组中状态发生变更的套接字将会被修改。   </p>  </div>  <p class="para">   你不需要将每个数组都传递到 <span class="function"><strong style="color:#CC7832">socket_select()</strong></span>    中。可以将它忽略或者使用空数组和 <strong><span>null</span></strong> 代替。不要忘记这些数组是<em>引用</em>传递的，在 <span class="function"><strong style="color:#CC7832">socket_select()</strong></span>    返回时会被修改。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    由于当前 Zend 引擎的限制，无法使用像 <strong><span>null</span></strong> 这样的常数修饰符直接作为参数传递给期望获取引用参数的方法。而是使用临时变量或表达式：    <div class="example" id="">     <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">socket_select()</strong></span> 使用 <strong><span>null</span></strong> </strong></p>     <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$e </span><span style="color: #007700">= </span><span style="color: #9876AA">NULL</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">socket_select</span><span style="color: #007700">(</span><span style="color: #9876AA">$r</span><span style="color: #007700">, </span><span style="color: #9876AA">$w</span><span style="color: #007700">, </span><span style="color: #9876AA">$e</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>    </div>   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-select-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时 <span class="function"><strong style="color:#CC7832">socket_select()</strong></span>    返回数组中被修改的套接字个数，如果超时则可能返回 0。失败时时返回 <strong><span>false</span></strong>。可以使用 <span class="function">{@link socket_last_error()}</span>    检索错误码。   </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    确保使用 <span>===</span> 运算符来检查错误。因为 <span class="function"><strong style="color:#CC7832">socket_select()</strong></span>     可能返回 0，使用 <span>==</span> 将被计算为 <strong><span>true</span></strong>：    <div class="example" id="">     <p><strong>示例 #2 理解 <span class="function"><strong style="color:#CC7832">socket_select()</strong></span> 的返回值</strong></p>     <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$e </span><span style="color: #007700">= </span><span style="color: #9876AA">NULL</span><span style="color: #007700">;<br />if (</span><span style="color: #9876AA">false </span><span style="color: #007700">=== </span><span style="color: #9876AA">socket_select</span><span style="color: #007700">(</span><span style="color: #9876AA">$r</span><span style="color: #007700">, </span><span style="color: #9876AA">$w</span><span style="color: #007700">, </span><span style="color: #9876AA">$e</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">)) {<br />    echo </span><span style="color: #DD0000">"socket_select() failed, reason: " </span><span style="color: #007700">.<br />        </span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">()) . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>    </div>   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.socket-select-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #3 <span class="function"><strong style="color:#CC7832">socket_select()</strong></span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// Prepare the read array <br /></span><span style="color: #9876AA">$read   </span><span style="color: #007700">= array(</span><span style="color: #9876AA">$socket1</span><span style="color: #007700">, </span><span style="color: #9876AA">$socket2</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$write  </span><span style="color: #007700">= </span><span style="color: #9876AA">NULL</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$except </span><span style="color: #007700">= </span><span style="color: #9876AA">NULL</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$num_changed_sockets </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_select</span><span style="color: #007700">(</span><span style="color: #9876AA">$read</span><span style="color: #007700">, </span><span style="color: #9876AA">$write</span><span style="color: #007700">, </span><span style="color: #9876AA">$except</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">);<br /><br />if (</span><span style="color: #9876AA">$num_changed_sockets </span><span style="color: #007700">=== </span><span style="color: #9876AA">false</span><span style="color: #007700">) {<br />    </span><span style="color: #FF8000">// Error handling <br /></span><span style="color: #007700">} else if (</span><span style="color: #9876AA">$num_changed_sockets </span><span style="color: #007700">&gt; </span><span style="color: #9876AA">0</span><span style="color: #007700">) {<br />    </span><span style="color: #FF8000">// At least at one of the sockets something interesting happened <br /></span><span style="color: #007700">}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.socket-select-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    请注意，处理某些实现的套接字时需要特别小心。一些基本规则：    <ul class="itemizedlist">     <li class="listitem">      <span class="simpara">       始终使用不带超时时间的 <span class="function"><strong style="color:#CC7832">socket_select()</strong></span>，如果没有可用数据，程序不会做任何事。依赖超时的代码通常不可移植并且很难调试。      </span>     </li>     <li class="listitem">      <span class="simpara">       不打算在 <span class="function"><strong style="color:#CC7832">socket_select()</strong></span> 调用后检查值的套接字不要添加到集合中。<span class="function"><strong style="color:#CC7832">socket_select()</strong></span>        返回后，必须检查所有数组中的套接字。任何可写套接字需要处理写事件，任何可读套接字需要处理读事件。      </span>     </li>     <li class="listitem">      <span class="simpara">       在处理数组中返回套接字的读或写操作时，可能并不会读取或写入请求的所有数据。需要做好仅仅读取或写入单个字节的准备。      </span>     </li>     <li class="listitem">      <span class="simpara">       在大多数套接字实现中，仅在套接字收到带外数据时，<span class="parameter" style="color:#3A95FF">except</span> 中的套接字可以捕获异常。      </span>     </li>    </ul>   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-select-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_read()} - 从套接字中读取最大长度的数据</span></li>    <li class="member"><span class="function">{@link socket_write()} - 向套接字写数据</span></li>    <li class="member"><span class="function">{@link socket_last_error()} - 返回套接字上的最后一个错误</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>   </ul>  </span> </div></div>
 * @return int|false On success <b>socket_select</b> returns the number of*/
function socket_select(?array &$read, ?array &$write, ?array &$except, ?int $seconds, int $microseconds = 0): int|false {}

/**
*<div id="function.socket-create" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_create</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_create</span> &mdash; <span class="dc-title">创建一个套接字（通讯节点）</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-create-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_create</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$domain</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$type</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$protocol</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   创建并返回一个 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，也称作一个通讯节点。一个典型的网络连接由 2 个套接字构成，一个运行在客户端，另一个运行在服务器端。  </p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-create-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">domain</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">domain</span> 参数指定哪个协议用在当前套接字上。      </p>      <table class="doctable table">       <caption><strong>可用的地址/协议</strong></caption>               <thead>         <tr>          <th>Domain</th>          <th>描述</th>         </tr>        </thead>        <tbody class="tbody">         <tr>          <td><strong><span>AF_INET</span></strong></td>          <td>           IPv4 网络协议。TCP 和 UDP 都可使用此协议。          </td>         </tr>         <tr>          <td><strong><span>AF_INET6</span></strong></td>          <td>           IPv6 网络协议。TCP 和 UDP 都可使用此协议。          </td>         </tr>         <tr>          <td><strong><span>AF_UNIX</span></strong></td>          <td>           本地通讯协议。具有高性能和低成本的 IPC（进程间通讯）。          </td>         </tr>        </tbody>             </table>     </dd>             <dt><span class="parameter" style="color:#3A95FF">type</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">type</span> 参数用于选择套接字使用的类型。      </p>      <table class="doctable table">       <caption><strong>可用的套接字类型</strong></caption>               <thead>         <tr>          <th>类型</th>          <th>描述</th>         </tr>        </thead>        <tbody class="tbody">         <tr>          <td><strong><span>SOCK_STREAM</span></strong></td>          <td>           提供一个顺序化的、可靠的、全双工的、基于连接的字节流。支持数据传送流量控制机制。TCP 协议即基于这种流式套接字。          </td>         </tr>         <tr>          <td><strong><span>SOCK_DGRAM</span></strong></td>          <td>           提供数据报文的支持。(无连接，不可靠、固定最大长度).UDP协议即基于这种数据报文套接字。          </td>         </tr>         <tr>          <td><strong><span>SOCK_SEQPACKET</span></strong></td>          <td>           提供一个顺序化的、可靠的、全双工的、面向连接的、固定最大长度的数据通信；数据端通过接收每一个数据段来读取整个数据包。          </td>         </tr>         <tr>          <td><strong><span>SOCK_RAW</span></strong></td>          <td>           提供读取原始的网络协议。这种特殊的套接字可用于手工构建任意类型的协议。一般使用这个套接字来实现 ICMP 请求（例如 ping）。          </td>         </tr>         <tr>          <td><strong><span>SOCK_RDM</span></strong></td>          <td>           提供一个可靠的数据层，但不保证到达顺序。一般的操作系统都未实现此功能。          </td>         </tr>        </tbody>             </table>     </dd>             <dt><span class="parameter" style="color:#3A95FF">protocol</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">protocol</span> 参数，是设置指定 <span class="parameter" style="color:#3A95FF">domain</span>        套接字下的具体协议。这个值可以使用 <span class="function">{@link getprotobyname()}</span>       函数进行读取。如果所需的协议是 TCP 或 UDP，可以直接使用常量 <strong><span>SOL_TCP</span></strong> 和 <strong><span>SOL_UDP</span></strong> 。      </p>      <table class="doctable table">       <caption><strong>常见协议</strong></caption>               <thead>         <tr>          <th>名称</th>          <th>描述</th>         </tr>        </thead>        <tbody class="tbody">         <tr>          <td>icmp</td>          <td>           互联网控制消息协议（Internet Control Message Protocol）主要用于网关和主机报告错误的数据通信。           例如 “ping” 命令（在目前大部分的操作系统中）就是使用 ICMP 协议实现的。          </td>         </tr>         <tr>          <td>udp</td>          <td>           用户数据包协议（User Datagram Protocol）是一个无连接的、不可靠的、具有固定最大长度的报文协议。由于这些特性，UDP 协议拥有最小的协议开销。          </td>         </tr>         <tr>          <td>tcp</td>          <td>           传输控制协议（Transmission Control Protocol）是一个可靠的、基于连接的、面向数据流的全双工协议。TCP           能够保障所有的数据包是按照其发送顺序而接收的。如果任意数据包在通讯时丢失，TCP           将自动重发数据包直到目标主机应答已接收。因为可靠性和性能的原因，TCP 在数据传输层使用 8bit 字节边界。因此，TCP 应用程序必须允许传送部分报文的可能。          </td>         </tr>        </tbody>             </table>     </dd>       </dl>  </span> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-create-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   <span class="function"><strong style="color:#CC7832">socket_create()</strong></span> 正确时返回一个 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，失败时返回   <strong><span>false</span></strong>。要读取错误代码，可以调用 <span class="function">{@link socket_last_error()}</span>。这个错误代码可以通过 <span class="function">{@link socket_strerror()}</span> 读取文字的错误说明。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 errors" id="refsect1-function.socket-create-errors">  <h3 class="title">错误／异常</h3>  <p class="para">   如果使用一个无效的 <span class="parameter" style="color:#3A95FF">domain</span> 或 <span class="parameter" style="color:#3A95FF">type</span>，<span class="function"><strong style="color:#CC7832">socket_create()</strong></span>   会使用 <strong><span>AF_INET</span></strong> 和   <strong><span>SOCK_STREAM</span></strong> 替代无效参数，同时会发出 <strong><span>E_WARNING</span></strong> 警告信息。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-create-changelog">  <h3 class="title">更新日志</h3>  <span>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>     </thead>     <tbody class="tbody">      <tr>       <td>5.0.0</td>       <td>        增加 <strong><span>AF_INET6</span></strong> 支持。       </td>      </tr>      <tr>       <td>8.0.0</td>       <td>        创建成功时，该函数现在返回一个 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例；        在此之前，返回的是一个 <span class="type" style="color:#EAB766">resource</span>。       </td>      </tr>     </tbody>       </table>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-create-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_accept()} - 接受套接字上的连接</span></li>    <li class="member"><span class="function">{@link socket_bind()} - 给套接字绑定名字</span></li>    <li class="member"><span class="function">{@link socket_connect()} - 开启一个套接字连接</span></li>    <li class="member"><span class="function">{@link socket_listen()} - 监听套接字的连接</span></li>    <li class="member"><span class="function">{@link socket_last_error()} - 返回套接字上的最后一个错误</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>   </ul>  </span> </div> </div>
 * @return resource|Socket|false <b>socket_create</b> returns a socket resource on success,*/
function socket_create(int $domain, int $type, int $protocol): Socket|false {}

/**
*<div id="function.socket-export-stream" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_export_stream</h1>  <p class="verinfo">(PHP 7 &gt;= 7.0.7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_export_stream</span> &mdash; <span class="dc-title">Export a socket into a stream that encapsulates a socket</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-export-stream-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_export_stream</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">resource</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">  </p>  <div class="warning"><strong class="warning">警告</strong><p class="simpara">本函数还未编写文档，仅有参数列表。</p></div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-export-stream-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>    <dd>     <span>           </span>    </dd>     </dl> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-export-stream-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   Return resource 或者在失败时返回 <strong><span>false</span></strong>.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-export-stream-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div></div>
 * @return resource|Socket|false*/
function socket_export_stream(Socket $socket) {}

/**
*<div id="function.socket-create-listen" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_create_listen</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_create_listen</span> &mdash; <span class="dc-title">在端口上打开一个套接字以接受连接</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-create-listen-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_create_listen</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$port</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$backlog</span><span class="initializer"> = 128</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">socket_create_listen()</strong></span> 创建一个 <strong><span>AF_INET</span></strong> 类型的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span>    实例，在<em>所有</em>本地接口上监听指定端口，等待新连接。  </p>  <p class="para">   此方法旨在简化创建新的套接字任务，仅监听且用于接受新连接。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-create-listen-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">port</span></dt>     <dd>      <p class="para">       监听所有接口的端口号      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">backlog</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">backlog</span> 参数定义了待处理的连接队列的最大长度。<strong><span>SOMAXCONN</span></strong>        可以作为 <span class="parameter" style="color:#3A95FF">backlog</span> 参数，详情见 <span class="function">{@link socket_listen()}</span>。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-create-listen-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   <span class="function"><strong style="color:#CC7832">socket_create_listen()</strong></span> 成功时返回一个新的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span>    实例，错误时返回 <strong><span>false</span></strong>。可以通过调用 <span class="function">{@link socket_last_error()}</span>    来检索实际的错误码。将错误码作为参数传递给 <span class="function">{@link socket_strerror()}</span> 以获得错误的文本解释。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-create-listen-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td>8.0.0</td>      <td>        成功时，该函数现在返回一个 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例；在此之前，返回值是一个 <span class="type" style="color:#EAB766">resource</span>。      </td>     </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.socket-create-listen-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    如果想创建只监听某个接口的套接字，需要使用 <span class="function">{@link socket_create()}</span>，<span class="function">{@link socket_bind()}</span>     和 <span class="function">{@link socket_listen()}</span>。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-create-listen-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_create()} - 创建一个套接字（通讯节点）</span></li>    <li class="member"><span class="function">{@link socket_create_pair()} - 创建一对彼此连接的套接字，并用数组存储</span></li>    <li class="member"><span class="function">{@link socket_bind()} - 给套接字绑定名字</span></li>    <li class="member"><span class="function">{@link socket_listen()} - 监听套接字的连接</span></li>    <li class="member"><span class="function">{@link socket_last_error()} - 返回套接字上的最后一个错误</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>   </ul>  </span> </div></div>
 * @return resource|Socket|false <b>socket_create_listen</b> returns a new socket resource*/
function socket_create_listen(int $port, int $backlog = 128): Socket|false {}

/**
*<div id="function.socket-create-pair" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_create_pair</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_create_pair</span> &mdash; <span class="dc-title">创建一对彼此连接的套接字，并用数组存储</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-create-pair-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_create_pair</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$domain</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$type</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$protocol</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">&$pair</span></span><br>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">socket_create_pair()</strong></span> 创建两个已连接的，彼此连接的套接字，并存储在 <span class="parameter" style="color:#3A95FF">pair</span>    中。此函数通常在 IPC（进程间通信）使用。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-create-pair-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">domain</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">domain</span> 参数指定套接字使用的协议族。完整列表参见 <span class="function">{@link socket_create()}</span>。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">type</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">type</span> 参数选择套接字使用的通信类型。完整列表参见 <span class="function">{@link socket_create()}</span>。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">protocol</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">domain</span> 参数指定套接字在 <span class="parameter" style="color:#3A95FF">domain</span>        协议族下通信时使用的具体协议。这个值可以通过 <span class="function">{@link getprotobyname()}</span>        获取。如果所需的协议是 TCP 或 UDP，可以直接使用相应的常量 <strong><span>SOL_TCP</span></strong> 和 <strong><span>SOL_UDP</span></strong>。      </p>      <p class="para">       有关支持协议的完整列表，参见 <span class="function">{@link socket_create()}</span>。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">pair</span></dt>     <dd>      <p class="para">       包含两个 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例的引用数组。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-create-pair-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-create-pair-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td>8.0.0</td>      <td>       <span class="parameter" style="color:#3A95FF">pair</span> 现在是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例的引用数组；在这之前是 <span class="type" style="color:#EAB766">resource</span> 的引用数组。      </td>     </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.socket-create-pair-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">socket_create_pair()</strong></span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$sockets </span><span style="color: #007700">= array();<br /><br /></span><span style="color: #FF8000">// On Windows we need to use AF_INET <br /></span><span style="color: #9876AA">$domain </span><span style="color: #007700">= (</span><span style="color: #9876AA">strtoupper</span><span style="color: #007700">(</span><span style="color: #9876AA">substr</span><span style="color: #007700">(</span><span style="color: #9876AA">PHP_OS</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">3</span><span style="color: #007700">)) == </span><span style="color: #DD0000">'WIN' </span><span style="color: #007700">? </span><span style="color: #9876AA">AF_INET </span><span style="color: #007700">: </span><span style="color: #9876AA">AF_UNIX</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Setup socket pair <br /></span><span style="color: #007700">if (</span><span style="color: #9876AA">socket_create_pair</span><span style="color: #007700">(</span><span style="color: #9876AA">$domain</span><span style="color: #007700">, </span><span style="color: #9876AA">SOCK_STREAM</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">$sockets</span><span style="color: #007700">) === </span><span style="color: #9876AA">false</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">"socket_create_pair failed. Reason: "</span><span style="color: #007700">.</span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">());<br />}<br /></span><span style="color: #FF8000">// Send and Receive Data <br /></span><span style="color: #007700">if (</span><span style="color: #9876AA">socket_write</span><span style="color: #007700">(</span><span style="color: #9876AA">$sockets</span><span style="color: #007700">[</span><span style="color: #9876AA">0</span><span style="color: #007700">], </span><span style="color: #DD0000">"ABCdef123\n"</span><span style="color: #007700">, </span><span style="color: #9876AA">strlen</span><span style="color: #007700">(</span><span style="color: #DD0000">"ABCdef123\n"</span><span style="color: #007700">)) === </span><span style="color: #9876AA">false</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">"socket_write() failed. Reason: "</span><span style="color: #007700">.</span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">(</span><span style="color: #9876AA">$sockets</span><span style="color: #007700">[</span><span style="color: #9876AA">0</span><span style="color: #007700">]));<br />}<br />if ((</span><span style="color: #9876AA">$data </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_read</span><span style="color: #007700">(</span><span style="color: #9876AA">$sockets</span><span style="color: #007700">[</span><span style="color: #9876AA">1</span><span style="color: #007700">], </span><span style="color: #9876AA">strlen</span><span style="color: #007700">(</span><span style="color: #DD0000">"ABCdef123\n"</span><span style="color: #007700">), </span><span style="color: #9876AA">PHP_BINARY_READ</span><span style="color: #007700">)) === </span><span style="color: #9876AA">false</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">"socket_read() failed. Reason: "</span><span style="color: #007700">.</span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">(</span><span style="color: #9876AA">$sockets</span><span style="color: #007700">[</span><span style="color: #9876AA">1</span><span style="color: #007700">]));<br />}<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$data</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Close sockets <br /></span><span style="color: #9876AA">socket_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$sockets</span><span style="color: #007700">[</span><span style="color: #9876AA">0</span><span style="color: #007700">]);<br /></span><span style="color: #9876AA">socket_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$sockets</span><span style="color: #007700">[</span><span style="color: #9876AA">1</span><span style="color: #007700">]);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 <span class="function"><strong style="color:#CC7832">socket_create_pair()</strong></span> IPC 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$ary </span><span style="color: #007700">= array();<br /></span><span style="color: #9876AA">$strone </span><span style="color: #007700">= </span><span style="color: #DD0000">'Message From Parent.'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$strtwo </span><span style="color: #007700">= </span><span style="color: #DD0000">'Message From Child.'</span><span style="color: #007700">;<br /><br />if (</span><span style="color: #9876AA">socket_create_pair</span><span style="color: #007700">(</span><span style="color: #9876AA">AF_UNIX</span><span style="color: #007700">, </span><span style="color: #9876AA">SOCK_STREAM</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">$ary</span><span style="color: #007700">) === </span><span style="color: #9876AA">false</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">"socket_create_pair() failed. Reason: "</span><span style="color: #007700">.</span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">());<br />}<br /></span><span style="color: #9876AA">$pid </span><span style="color: #007700">= </span><span style="color: #9876AA">pcntl_fork</span><span style="color: #007700">();<br />if (</span><span style="color: #9876AA">$pid </span><span style="color: #007700">== -</span><span style="color: #9876AA">1</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">'Could not fork Process.'</span><span style="color: #007700">;<br />} elseif (</span><span style="color: #9876AA">$pid</span><span style="color: #007700">) {<br />    </span><span style="color: #FF8000">//parent<br />    </span><span style="color: #9876AA">socket_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$ary</span><span style="color: #007700">[</span><span style="color: #9876AA">0</span><span style="color: #007700">]);<br />    if (</span><span style="color: #9876AA">socket_write</span><span style="color: #007700">(</span><span style="color: #9876AA">$ary</span><span style="color: #007700">[</span><span style="color: #9876AA">1</span><span style="color: #007700">], </span><span style="color: #9876AA">$strone</span><span style="color: #007700">, </span><span style="color: #9876AA">strlen</span><span style="color: #007700">(</span><span style="color: #9876AA">$strone</span><span style="color: #007700">)) === </span><span style="color: #9876AA">false</span><span style="color: #007700">) {<br />        echo </span><span style="color: #DD0000">"socket_write() failed. Reason: "</span><span style="color: #007700">.</span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">(</span><span style="color: #9876AA">$ary</span><span style="color: #007700">[</span><span style="color: #9876AA">1</span><span style="color: #007700">]));<br />    }<br />    if (</span><span style="color: #9876AA">socket_read</span><span style="color: #007700">(</span><span style="color: #9876AA">$ary</span><span style="color: #007700">[</span><span style="color: #9876AA">1</span><span style="color: #007700">], </span><span style="color: #9876AA">strlen</span><span style="color: #007700">(</span><span style="color: #9876AA">$strtwo</span><span style="color: #007700">), </span><span style="color: #9876AA">PHP_BINARY_READ</span><span style="color: #007700">) == </span><span style="color: #9876AA">$strtwo</span><span style="color: #007700">) {<br />        echo </span><span style="color: #DD0000">"Received </span><span style="color: #9876AA">$strtwo</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />    }<br />    </span><span style="color: #9876AA">socket_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$ary</span><span style="color: #007700">[</span><span style="color: #9876AA">1</span><span style="color: #007700">]);<br />} else {<br />    </span><span style="color: #FF8000">//child<br />    </span><span style="color: #9876AA">socket_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$ary</span><span style="color: #007700">[</span><span style="color: #9876AA">1</span><span style="color: #007700">]);<br />    if (</span><span style="color: #9876AA">socket_write</span><span style="color: #007700">(</span><span style="color: #9876AA">$ary</span><span style="color: #007700">[</span><span style="color: #9876AA">0</span><span style="color: #007700">], </span><span style="color: #9876AA">$strtwo</span><span style="color: #007700">, </span><span style="color: #9876AA">strlen</span><span style="color: #007700">(</span><span style="color: #9876AA">$strtwo</span><span style="color: #007700">)) === </span><span style="color: #9876AA">false</span><span style="color: #007700">) {<br />        echo </span><span style="color: #DD0000">"socket_write() failed. Reason: "</span><span style="color: #007700">.</span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">(</span><span style="color: #9876AA">$ary</span><span style="color: #007700">[</span><span style="color: #9876AA">0</span><span style="color: #007700">]));<br />    }<br />    if (</span><span style="color: #9876AA">socket_read</span><span style="color: #007700">(</span><span style="color: #9876AA">$ary</span><span style="color: #007700">[</span><span style="color: #9876AA">0</span><span style="color: #007700">], </span><span style="color: #9876AA">strlen</span><span style="color: #007700">(</span><span style="color: #9876AA">$strone</span><span style="color: #007700">), </span><span style="color: #9876AA">PHP_BINARY_READ</span><span style="color: #007700">) == </span><span style="color: #9876AA">$strone</span><span style="color: #007700">) {<br />        echo </span><span style="color: #DD0000">"Received </span><span style="color: #9876AA">$strone</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />    }<br />    </span><span style="color: #9876AA">socket_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$ary</span><span style="color: #007700">[</span><span style="color: #9876AA">0</span><span style="color: #007700">]);<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-create-pair-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_create()} - 创建一个套接字（通讯节点）</span></li>    <li class="member"><span class="function">{@link socket_create_listen()} - 在端口上打开一个套接字以接受连接</span></li>    <li class="member"><span class="function">{@link socket_bind()} - 给套接字绑定名字</span></li>    <li class="member"><span class="function">{@link socket_listen()} - 监听套接字的连接</span></li>    <li class="member"><span class="function">{@link socket_last_error()} - 返回套接字上的最后一个错误</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>   </ul>  </span> </div></div>
 * @return bool <b>TRUE</b> on success or <b>FALSE</b> on failure.*/
function socket_create_pair(int $domain, int $type, int $protocol, &$pair): bool {}

/**
*<div id="function.socket-accept" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_accept</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_accept</span> &mdash; <span class="dc-title">接受套接字上的连接</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-accept-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_accept</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   <span class="parameter" style="color:#3A95FF">socket</span> 是从 <span class="function">{@link socket_create()}</span> 创建，使用    <span class="function">{@link socket_bind()}</span> 绑定，<span class="function">{@link socket_listen()}</span> 监听的一个套接字实例。此函数接受在    <span class="parameter" style="color:#3A95FF">socket</span> 上创建的连接。当连接被成功创建后，返回一个可用于通信的    <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。若有多个连接排队，返回队头第一个连接。若没有待处理的连接，那么    <span class="function"><strong style="color:#CC7832">socket_accept()</strong></span> 默认阻塞，直到有一个连接出现。如果    <span class="parameter" style="color:#3A95FF">socket</span> 使用 <span class="function">{@link socket_set_blocking()}</span> 或    <span class="function">{@link socket_set_nonblock()}</span> 设置为非阻塞，那么    <span class="function"><strong style="color:#CC7832">socket_accept()</strong></span> 将直接返回 <strong><span>false</span></strong>。  </p>  <p class="para">   <span class="function"><strong style="color:#CC7832">socket_accept()</strong></span> 返回的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例不能用于接受新的连接。但    <span class="parameter" style="color:#3A95FF">socket</span> 依然保持打开状态，并且可以继续接受新的连接。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-accept-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       使用 <span class="function">{@link socket_create()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-accept-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回一个新的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，错误时返回 <strong><span>false</span></strong>。可以通过调用    <span class="function">{@link socket_last_error()}</span> 来检索实际的错误代码。将错误代码作为参数传递给    <span class="function">{@link socket_strerror()}</span> 以获得错误的文本解释。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-accept-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td>8.0.0</td>      <td>       成功时，该函数现在返回一个 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例；在此之前，返回值是一个 <span class="type" style="color:#EAB766">resource</span>。      </td>     </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-accept-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_connect()} - 开启一个套接字连接</span></li>    <li class="member"><span class="function">{@link socket_listen()} - 监听套接字的连接</span></li>    <li class="member"><span class="function">{@link socket_create()} - 创建一个套接字（通讯节点）</span></li>    <li class="member"><span class="function">{@link socket_bind()} - 给套接字绑定名字</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>   </ul>  </span> </div></div>
 * @return resource|Socket|false a new socket resource on success, or <b>FALSE</b> on error. The actual*/
function socket_accept(Socket $socket): Socket|false {}

/**
*<div id="function.socket-set-nonblock" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_set_nonblock</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_set_nonblock</span> &mdash; <span class="dc-title">设置套接字为非阻塞模式</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-set-nonblock-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_set_nonblock</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">socket_set_nonblock()</strong></span> 为由 <span class="parameter" style="color:#3A95FF">socket</span>    参数指定的套接字设置 <strong><span>O_NONBLOCK</span></strong> 标记。  </p>  <p class="para">   当一个操作（例如接收、发送、连接、接受连接……）在一个非阻塞套接字上执行时，脚本在接受到信号或操作处理完成前都不会暂停执行。如果操作会导致阻塞，被调用的函数将失败。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-set-nonblock-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link socket_create()}</span> 或 <span class="function">{@link socket_accept()}</span>        创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-set-nonblock-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-set-nonblock-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.socket-set-nonblock-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">socket_set_nonblock()</strong></span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$socket </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_create_listen</span><span style="color: #007700">(</span><span style="color: #9876AA">1223</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">socket_set_nonblock</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">socket_accept</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>     此示例在 1223 端口上创建了监听所有接口的套接字，并把此套接字设置为 <strong><span>O_NONBLOCK</span></strong>      模式。除非此时恰好有待处理的连接，否则 <span class="function">{@link socket_accept()}</span> 将立即失败。    </p></div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-set-nonblock-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_set_block()} - 设置套接字为阻塞模式</span></li>    <li class="member"><span class="function">{@link socket_set_option()} - 为套接字设置套接字选项</span></li>    <li class="member"><span class="function">{@link stream_set_blocking()} - 为资源流设置阻塞或者阻塞模式</span></li>   </ul>  </span> </div></div>
 * @return bool <b>TRUE</b> on success or <b>FALSE</b> on failure.*/
function socket_set_nonblock(Socket $socket): bool {}

/**
*<div id="function.socket-set-block" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_set_block</h1>  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_set_block</span> &mdash; <span class="dc-title">设置套接字为阻塞模式</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-set-block-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_set_block</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">socket_set_block()</strong></span> 函数移除了由 <span class="parameter" style="color:#3A95FF">socket</span>    参数定义的 <strong><span>O_NONBLOCK</span></strong> 标记。  </p>  <p class="para">   当一个操作（例如接收、发送、连接、接受连接……）在一个阻塞套接字上执行时，脚本在接受到信号或者可以执行此操作前将暂停执行。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-set-block-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link socket_create()}</span> 或 <span class="function">{@link socket_accept()}</span>        创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-set-block-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-set-block-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.socket-set-block-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">socket_set_block()</strong></span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$socket </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_create_listen</span><span style="color: #007700">(</span><span style="color: #9876AA">1223</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">socket_set_block</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">socket_accept</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>     此示例在 1223 端口上创建了监听所有接口的套接字，并把此套接字设置为 <strong><span>O_BLOCK</span></strong>      模式。<span class="function">{@link socket_accept()}</span> 将挂起，直到接受新的连接。    </p></div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-set-block-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_set_nonblock()} - 设置套接字为非阻塞模式</span></li>    <li class="member"><span class="function">{@link socket_set_option()} - 为套接字设置套接字选项</span></li>   </ul>  </span> </div></div>
 * @return bool <b>TRUE</b> on success or <b>FALSE</b> on failure.*/
function socket_set_block(Socket $socket): bool {}

/**
*<div id="function.socket-listen" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_listen</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_listen</span> &mdash; <span class="dc-title">监听套接字的连接</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-listen-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_listen</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$backlog</span><span class="initializer"> = 0</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   <span class="function">{@link socket_create()}</span> 创建套接字 <span class="parameter" style="color:#3A95FF">socket</span>    并通过 <span class="function">{@link socket_bind()}</span> 绑定名称后，可以监听 <span class="parameter" style="color:#3A95FF">socket</span>    收到的连接。  </p>  <p class="para">   <span class="function"><strong style="color:#CC7832">socket_listen()</strong></span> 仅适用于 <strong><span>SOCK_STREAM</span></strong>    或 <strong><span>SOCK_SEQPACKET</span></strong> 类型的套接字。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-listen-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link socket_create()}</span> 或 <span class="function">{@link socket_addrinfo_bind()}</span>        创建的套接字实例。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">backlog</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">backlog</span> 指定处理连接请求队列的最大值。如果一个连接请求到达时队列已满，客户端可能会收到 <span>ECONNREFUSED</span>        的错误提示。若底层协议支持重传，则忽略该请求，以便重试成功。。      </p>      <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:        <p class="para">        传递给 <span class="parameter" style="color:#3A95FF">backlog</span>         参数的最大值取决于底层平台。Linux 中，超过最大值将默认截取为 <strong><span>SOMAXCONN</span></strong>。win32 中，如果超过 <strong><span>SOMAXCONN</span></strong>         的值，负责套接字的底层服务将把 backlog 设置为最大的 <em>reasonable</em>         合理值，在此平台上，没有提供可以找到 backlog 实际值的标准描述。       </p>      </p></blockquote>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-listen-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。 可以通过 <span class="function">{@link socket_last_error()}</span>    来检索错误码。将错误码作为参数传递给 <span class="function">{@link socket_strerror()}</span> 以获得错误的文本解释。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-listen-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-listen-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_accept()} - 接受套接字上的连接</span></li>    <li class="member"><span class="function">{@link socket_bind()} - 给套接字绑定名字</span></li>    <li class="member"><span class="function">{@link socket_connect()} - 开启一个套接字连接</span></li>    <li class="member"><span class="function">{@link socket_create()} - 创建一个套接字（通讯节点）</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>    <li class="member"><span class="function">{@link socket_addrinfo_bind()} - 从给定的 addrinfo 创建并绑定一个套接字</span></li>   </ul>  </span> </div></div>
 * @return bool <b>TRUE</b> on success or <b>FALSE</b> on failure. The error code can be retrieved with*/
function socket_listen(Socket $socket, int $backlog = 0): bool {}

/**
*<div id="function.socket-close" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_close</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_close</span> &mdash; <span class="dc-title">关闭 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-close-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_close</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">socket_close()</strong></span> 会关闭由 <span class="parameter" style="color:#3A95FF">socket</span>   参数指定的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-close-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>       <p class="para">        由 <span class="function">{@link socket_create()}</span>        或者是 <span class="function">{@link socket_accept()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。       </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-close-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   没有返回值。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-close-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-close-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_bind()} - 给套接字绑定名字</span></li>    <li class="member"><span class="function">{@link socket_listen()} - 监听套接字的连接</span></li>    <li class="member"><span class="function">{@link socket_create()} - 创建一个套接字（通讯节点）</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>   </ul>  </span> </div></div>
 * @return void No value is returned.*/
function socket_close(Socket $socket): void {}

/**
*<div id="function.socket-write" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_write</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_write</span> &mdash; <span class="dc-title">向套接字写数据</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-write-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_write</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$data</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$length</span><span class="initializer"> = <strong><span>null</span></strong></span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   函数 <span class="function"><strong style="color:#CC7832">socket_write()</strong></span> 向 <span class="parameter" style="color:#3A95FF">socket</span>    写入 <span class="parameter" style="color:#3A95FF">data</span>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-write-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">data</span></dt>     <dd>      <p class="para">       要写入到缓冲区的数据。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">length</span></dt>     <dd>      <p class="para">       可选参数 <span class="parameter" style="color:#3A95FF">length</span> 可以指定写入 socket        的字节长度。如果写入的字节长度大于缓冲区长度，默认将被截取为缓冲区长度。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-write-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   返回成功写入 socket 的字节数 或者在失败时返回 <strong><span>false</span></strong>。可以通过调用 <span class="function">{@link socket_last_error()}</span>    来检索实际的错误码。将错误码作为参数传递给 <span class="function">{@link socket_strerror()}</span> 以获得错误的文本解释。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    对于 <span class="function"><strong style="color:#CC7832">socket_wirte()</strong></span> 来说返回 0 是完全有效的，这代表没有字节被写入。如果发生错误，务必使用 <span>===</span>     运算符来判断是否为 <strong><span>false</span></strong>。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-write-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>     <tr>      <td>8.0.0</td>      <td>       <span class="parameter" style="color:#3A95FF">length</span> 现在允许为 null。      </td>     </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.socket-write-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    <span class="function"><strong style="color:#CC7832">socket_write()</strong></span>     不一定会写入缓冲区全部的内容。根据网络缓冲区的条件，即使缓冲区待写入的数据很多，也可能只写入一部分，甚至是一个字节。因此，必须注意是否所有数据都写入成功。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-write-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_accept()} - 接受套接字上的连接</span></li>    <li class="member"><span class="function">{@link socket_bind()} - 给套接字绑定名字</span></li>    <li class="member"><span class="function">{@link socket_connect()} - 开启一个套接字连接</span></li>    <li class="member"><span class="function">{@link socket_listen()} - 监听套接字的连接</span></li>    <li class="member"><span class="function">{@link socket_read()} - 从套接字中读取最大长度的数据</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>   </ul>  </span> </div></div>
 * @return int|false the number of bytes successfully written to the socket or <b>FALSE</b> on failure.*/
function socket_write(Socket $socket, string $data, ?int $length = null): int|false {}

/**
*<div id="function.socket-read" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_read</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_read</span> &mdash; <span class="dc-title">从套接字中读取最大长度的数据</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-read-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_read</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$length</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$mode</span><span class="initializer"> = <strong><span>PHP_BINARY_READ</span></strong></span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">socket_read()</strong></span> 函数是从 <span class="function">{@link socket_create()}</span>   或 <span class="function">{@link socket_accept()}</span> 函数所创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span>   实例 <span class="parameter" style="color:#3A95FF">socket</span> 中读取数据。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-read-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       使用 <span class="function">{@link socket_create()}</span>       或 <span class="function">{@link socket_accept()}</span>       函数创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">length</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">length</span> 参数指定了最大能够读取的字节数。否则您可以使用       <strong><span>\r</span></strong>、<strong><span>\n</span></strong>、<strong><span>\0</span></strong>       结束读取（根据 <span class="parameter" style="color:#3A95FF">mode</span> 参数设置，请参见下文）。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">mode</span></dt>     <dd>      <p class="para">       可选参数 <span class="parameter" style="color:#3A95FF">mode</span> 是一个命名常量：       <ul class="itemizedlist">        <li class="listitem">         <span class="simpara">          <strong><span>PHP_BINARY_READ</span></strong> （默认）- 使用系统的          <span>recv()</span> 函数。二进制安全地读取数据。         </span>        </li>        <li class="listitem">         <span class="simpara">          <strong><span>PHP_NORMAL_READ</span></strong> - 读取到          <span>\n</span>、<span>\r</span> 时停止。         </span>        </li>       </ul>      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-read-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   <span class="function"><strong style="color:#CC7832">socket_read()</strong></span> 返回一个字符串，表示接收到的数据。如果发生了错误（包括远程主机关闭了连接），则返回 <strong><span>false</span></strong>。错误码可使用   <span class="function">{@link socket_last_error()}</span> 获取。也可使用 <span class="function">{@link socket_strerror()}</span>   来获取错误码的文字描述。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    当套接字中没有更多数据可读取时，<span class="function"><strong style="color:#CC7832">socket_read()</strong></span>    返回一个长度为 0 的空字符串（&quot;&quot;）。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-read-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-read-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_accept()} - 接受套接字上的连接</span></li>    <li class="member"><span class="function">{@link socket_bind()} - 给套接字绑定名字</span></li>    <li class="member"><span class="function">{@link socket_connect()} - 开启一个套接字连接</span></li>    <li class="member"><span class="function">{@link socket_listen()} - 监听套接字的连接</span></li>    <li class="member"><span class="function">{@link socket_last_error()} - 返回套接字上的最后一个错误</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>    <li class="member"><span class="function">{@link socket_write()} - 向套接字写数据</span></li>   </ul>  </span> </div></div>
 * @return string|false <b>socket_read</b> returns the data as a string on success,*/
function socket_read(Socket $socket, int $length, int $mode = PHP_BINARY_READ): string|false {}

/**
*<div id="function.socket-getsockname" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_getsockname</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_getsockname</span> &mdash; <span class="dc-title">获取套接字本地端的名字，返回主机名和端口号或是 Unix 文件系统路径，具体取决于套接字类型</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-getsockname-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_getsockname</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">&$address</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">&$port</span><span class="initializer"> = <strong><span>null</span></strong></span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <span class="simpara">    <span class="function"><strong style="color:#CC7832">socket_getsockname()</strong></span> 不应该用于 <span class="function">{@link socket_connect()}</span>     创建的 <strong><span>AF_UNIX</span></strong> 类型套接字。只有使用 <span class="function">{@link socket_accept()}</span>     创建的套接字或调用过 <span class="function">{@link socket_bind()}</span> 的服务端套接字会返回有意义的值。   </span>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-getsockname-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link socket_create()}</span> 或 <span class="function">{@link socket_accept()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">address</span></dt>     <dd>      <p class="para">       如果给定套接字的类型是 <strong><span>AF_INET</span></strong>        或 <strong><span>AF_INET6</span></strong>，<span class="function"><strong style="color:#CC7832">socket_getsockname()</strong></span>        将在参数 <span class="parameter" style="color:#3A95FF">address</span> 上返回本地 <em>IP 地址</em>        （例如：<span>127.0.0.1</span> 或 <span>fe80::1</span>），如果存在端口号，也将关联到 <span class="parameter" style="color:#3A95FF">port</span> 参数。      </p>      <p class="para">       如果给定套接字的类型是 <strong><span>AF_UNIX</span></strong>，<span class="function"><strong style="color:#CC7832">socket_getsockname()</strong></span>        将在 <span class="parameter" style="color:#3A95FF">address</span> 参数中返回 Unix 文件系统路径（例如：<span>/var/run/daemon.sock</span>）。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">port</span></dt>     <dd>      <p class="para">       如果提供此参数，它将保存关联的端口号。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-getsockname-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。 如果套接字类型不是 <strong><span>AF_INET</span></strong>、<strong><span>AF_INET6</span></strong>    或 <strong><span>AF_UNIX</span></strong> 中的任意一个，<span class="function"><strong style="color:#CC7832">socket_getsockname()</strong></span>    也可能返回 <strong><span>false</span></strong>，在此情况下，套接字最后的错误码<em>不会</em>更新。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-getsockname-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-getsockname-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_getpeername()} - 获取套接字远端名字，返回主机名和端口号或是 Unix 文件系统路径，具体取决于套接字类型</span></li>    <li class="member"><span class="function">{@link socket_last_error()} - 返回套接字上的最后一个错误</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>   </ul>  </span> </div></div>
 * @return bool <b>TRUE</b> on success or <b>FALSE</b> on failure. <b>socket_getsockname</b> may also return*/
function socket_getsockname(Socket $socket, &$address, &$port = null): bool {}

/**
*<div id="function.socket-getpeername" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_getpeername</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_getpeername</span> &mdash; <span class="dc-title">获取套接字远端名字，返回主机名和端口号或是 Unix 文件系统路径，具体取决于套接字类型</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-getpeername-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_getpeername</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">&$address</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">&$port</span><span class="initializer"> = <strong><span>null</span></strong></span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   获取套接字远端名字，返回主机名和端口号或是 Unix 文件系统路径，具体取决于套接字类型。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-getpeername-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link socket_create()}</span> 或 <span class="function">{@link socket_accept()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">address</span></dt>     <dd>      <p class="para">       如果给定套接字的类型是 <strong><span>AF_INET</span></strong>        或 <strong><span>AF_INET6</span></strong>，<span class="function"><strong style="color:#CC7832">socket_getpeername()</strong></span>        将在参数 <span class="parameter" style="color:#3A95FF">address</span> 上返回对端（远端） <em>IP 地址</em>        （例如：<span>127.0.0.1</span> 或 <span>fe80::1</span>），如果存在端口号，也将关联到 <span class="parameter" style="color:#3A95FF">port</span> 参数。      </p>      <p class="para">       如果给定套接字的类型是 <strong><span>AF_UNIX</span></strong>，<span class="function"><strong style="color:#CC7832">socket_getpeername()</strong></span>        将在 <span class="parameter" style="color:#3A95FF">address</span> 参数中返回 Unix 文件系统路径（例如：<span>/var/run/daemon.sock</span>）。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">port</span></dt>     <dd>      <p class="para">       如果提供此参数，它将保存 <span class="parameter" style="color:#3A95FF">address</span> 关联的端口号。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-getpeername-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。 如果套接字类型不是 <strong><span>AF_INET</span></strong>、<strong><span>AF_INET6</span></strong>    或 <strong><span>AF_UNIX</span></strong> 中的任意一个，<span class="function"><strong style="color:#CC7832">socket_getpeername()</strong></span>    也可能返回 <strong><span>false</span></strong>，在此情况下，套接字最后的错误码<em>不会</em>更新。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-getpeername-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.socket-getpeername-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    <span class="function"><strong style="color:#CC7832">socket_getpeername()</strong></span> 不应该用于 <span class="function">{@link socket_accept()}</span>     创建的 <strong><span>AF_UNIX</span></strong> 类型套接字。只有使用 <span class="function">{@link socket_connect()}</span>     创建的套接字或调用过 <span class="function">{@link socket_bind()}</span> 的服务端套接字会返回有意义的值。   </p>  </p></blockquote>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    为了让 <span class="function"><strong style="color:#CC7832">socket_getpeername()</strong></span> 返回有意义的值，套接字使用 “peer“ 的概念是有意义的（the socket it is applied upon must of course be one for which the concept of &quot;peer&quot; makes sense）。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-getpeername-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_getsockname()} - 获取套接字本地端的名字，返回主机名和端口号或是 Unix 文件系统路径，具体取决于套接字类型</span></li>    <li class="member"><span class="function">{@link socket_last_error()} - 返回套接字上的最后一个错误</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>   </ul>  </span> </div></div>
 * @return bool <b>TRUE</b> on success or <b>FALSE</b> on failure. <b>socket_getpeername</b> may also return*/
function socket_getpeername(Socket $socket, &$address, &$port = null): bool {}

/**
*<div id="function.socket-connect" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_connect</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_connect</span> &mdash; <span class="dc-title">开启一个套接字连接</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-connect-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_connect</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$address</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$port</span><span class="initializer"> = <strong><span>null</span></strong></span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   使用 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例 <span class="parameter" style="color:#3A95FF">socket</span> 发起到   <span class="parameter" style="color:#3A95FF">address</span> 的连接，该实例必须要求是用   <span class="function">{@link socket_create()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 有效的套接字资源实例。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-connect-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link socket_create()}</span> 创建的       <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">address</span></dt>     <dd>      <p class="para">       如果参数 <span class="parameter" style="color:#3A95FF">socket</span> 是 <strong><span>AF_INET</span></strong>，那么参数       <span class="parameter" style="color:#3A95FF">address</span> 则可以是一个点分四组表示法（例如 <span>127.0.0.1</span> ） 的 IPv4 地址；如果支持       IPv6 并且 <span class="parameter" style="color:#3A95FF">socket</span> 是 <strong><span>AF_INET6</span></strong>，那么 <span class="parameter" style="color:#3A95FF">address</span>       也可以是有效的 IPv6 地址（例如 <span>::1</span>）；如果套接字类型为 <strong><span>AF_UNIX</span></strong> ，那么       <span class="parameter" style="color:#3A95FF">address</span> 也可以是一个 Unix 套接字。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">port</span></dt>     <dd>      <p class="para">       参数 <span class="parameter" style="color:#3A95FF">port</span> 仅仅用于 <strong><span>AF_INET</span></strong> 和 <strong><span>AF_INET6</span></strong>       套接字连接的时候，并且是在此情况下是需要强制说明连接对应的远程服务器上的端口号。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-connect-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。 错误代码会传入   <span class="function">{@link socket_last_error()}</span> ，如果将此参数传入   <span class="function">{@link socket_strerror()}</span> 则可以得到错误的文字说明。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    如果套接字是非堵塞的，此函数将返回 <strong><span>false</span></strong> 并产生一个错误 <span>Operation now in progress</span>。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-connect-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>     <tr>      <td>8.0.0</td>      <td>       <span class="parameter" style="color:#3A95FF">port</span> 允许为空。      </td>     </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-connect-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_bind()} - 给套接字绑定名字</span></li>    <li class="member"><span class="function">{@link socket_listen()} - 监听套接字的连接</span></li>    <li class="member"><span class="function">{@link socket_create()} - 创建一个套接字（通讯节点）</span></li>    <li class="member"><span class="function">{@link socket_last_error()} - 返回套接字上的最后一个错误</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>   </ul>  </span> </div></div>
 * @return bool <b>TRUE</b> on success or <b>FALSE</b> on failure. The error code can be retrieved with*/
function socket_connect(Socket $socket, string $address, ?int $port = null): bool {}

/**
*<div id="function.socket-strerror" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_strerror</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_strerror</span> &mdash; <span class="dc-title">返回描述套接字错误的字符串</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-strerror-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_strerror</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$error_code</span></span>): <span class="type" style="color:#EAB766">string</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">socket_strerror()</strong></span> 将 <span class="function">{@link socket_last_error()}</span>    返回的套接字错误码作为 <span class="parameter" style="color:#3A95FF">error_code</span> 参数，返回对应的文本解释。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    虽然 socket 扩展生成的错误信息使用的是英语，但此方法会根据当前语言环境（<strong><span>LC_MESSAGES</span></strong>）    展示检索到的系统消息。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-strerror-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">error_code</span></dt>     <dd>      <p class="para">       可能从 <span class="function">{@link socket_last_error()}</span> 产生的套接字错误码。       </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-strerror-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   返回与 <span class="parameter" style="color:#3A95FF">error_code</span> 参数相关的错误信息。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.socket-strerror-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">socket_strerror()</strong></span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">if (</span><span style="color: #9876AA">false </span><span style="color: #007700">== (</span><span style="color: #9876AA">$socket </span><span style="color: #007700">= @</span><span style="color: #9876AA">socket_create</span><span style="color: #007700">(</span><span style="color: #9876AA">AF_INET</span><span style="color: #007700">, </span><span style="color: #9876AA">SOCK_STREAM</span><span style="color: #007700">, </span><span style="color: #9876AA">SOL_TCP</span><span style="color: #007700">))) {<br />   echo </span><span style="color: #DD0000">"socket_create() failed: reason: " </span><span style="color: #007700">. </span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">()) . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br />if (</span><span style="color: #9876AA">false </span><span style="color: #007700">== (@</span><span style="color: #9876AA">socket_bind</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">, </span><span style="color: #DD0000">'127.0.0.1'</span><span style="color: #007700">, </span><span style="color: #9876AA">80</span><span style="color: #007700">))) {<br />   echo </span><span style="color: #DD0000">"socket_bind() failed: reason: " </span><span style="color: #007700">. </span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">)) . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>     以上示例的预期输出（假设脚本不是使用 root 权限运行）：    </p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>socket_bind() failed: reason: Permission denied<br></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-strerror-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_accept()} - 接受套接字上的连接</span></li>    <li class="member"><span class="function">{@link socket_bind()} - 给套接字绑定名字</span></li>    <li class="member"><span class="function">{@link socket_connect()} - 开启一个套接字连接</span></li>    <li class="member"><span class="function">{@link socket_listen()} - 监听套接字的连接</span></li>    <li class="member"><span class="function">{@link socket_create()} - 创建一个套接字（通讯节点）</span></li>   </ul>  </span> </div></div>
 * @return string the error message associated with the <i>errno</i>*/
function socket_strerror(int $error_code): string {}

/**
*<div id="function.socket-bind" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_bind</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_bind</span> &mdash; <span class="dc-title">给套接字绑定名字</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-bind-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_bind</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$address</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$port</span><span class="initializer"> = 0</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   绑定 <span class="parameter" style="color:#3A95FF">address</span> 到 <span class="parameter" style="color:#3A95FF">socket</span>。   该操作必须是在使用 <span class="function">{@link socket_connect()}</span> 或者 <span class="function">{@link socket_listen()}</span>   建立一个连接之前。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-bind-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       用 <span class="function">{@link socket_create()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">address</span></dt>     <dd>      <p class="para">       如果套接字是 <strong><span>AF_INET</span></strong> 族，那么       <span class="parameter" style="color:#3A95FF">address</span> 必须是一个四点分法的 IP 地址（例如 <span>127.0.0.1</span> ）。      </p>      <p class="para">       如果套接字是 <strong><span>AF_UNIX</span></strong> 族，那么 <span class="parameter" style="color:#3A95FF">address</span> 是 Unix 域套接字的路径（例如 <var class="filename">/tmp/my.sock</var> ）。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">port</span> （可选）</dt>     <dd>      <p class="para">       参数 <span class="parameter" style="color:#3A95FF">port</span> 仅仅用于 <strong><span>AF_INET</span></strong>       套接字连接的时候，并且指定连接中需要监听的端口号。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-bind-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p>  <p class="para">   使用 <span class="function">{@link socket_last_error()}</span> 检索错误代码，如果将此代码传入 <span class="function">{@link socket_strerror()}</span>   则可以得到错误的文字说明。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-bind-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.socket-bind-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 使用 <span class="function"><strong style="color:#CC7832">socket_bind()</strong></span> 来设置源地址</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// 创建新的套接字<br /></span><span style="color: #9876AA">$sock </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_create</span><span style="color: #007700">(</span><span style="color: #9876AA">AF_INET</span><span style="color: #007700">, </span><span style="color: #9876AA">SOCK_STREAM</span><span style="color: #007700">, </span><span style="color: #9876AA">SOL_TCP</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 计算机拥有的 IP 地址示例列表<br /></span><span style="color: #9876AA">$sourceips</span><span style="color: #007700">[</span><span style="color: #DD0000">'kevin'</span><span style="color: #007700">]    = </span><span style="color: #DD0000">'127.0.0.1'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$sourceips</span><span style="color: #007700">[</span><span style="color: #DD0000">'madcoder'</span><span style="color: #007700">] = </span><span style="color: #DD0000">'127.0.0.2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// 绑定源地址<br /></span><span style="color: #9876AA">socket_bind</span><span style="color: #007700">(</span><span style="color: #9876AA">$sock</span><span style="color: #007700">, </span><span style="color: #9876AA">$sourceips</span><span style="color: #007700">[</span><span style="color: #DD0000">'madcoder'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">// 连接到目标地址<br /></span><span style="color: #9876AA">socket_connect</span><span style="color: #007700">(</span><span style="color: #9876AA">$sock</span><span style="color: #007700">, </span><span style="color: #DD0000">'127.0.0.1'</span><span style="color: #007700">, </span><span style="color: #9876AA">80</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 写入<br /></span><span style="color: #9876AA">$request </span><span style="color: #007700">= </span><span style="color: #DD0000">'GET / HTTP/1.1' </span><span style="color: #007700">. </span><span style="color: #DD0000">"\r\n" </span><span style="color: #007700">.<br />           </span><span style="color: #DD0000">'Host: example.com' </span><span style="color: #007700">. </span><span style="color: #DD0000">"\r\n\r\n"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">socket_write</span><span style="color: #007700">(</span><span style="color: #9876AA">$sock</span><span style="color: #007700">, </span><span style="color: #9876AA">$request</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 关闭<br /></span><span style="color: #9876AA">socket_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$sock</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.socket-bind-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    该函数必须在 <span class="function">{@link socket_connect()}</span> 之前使用。   </p>  </p></blockquote>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    Windows 9x/ME 兼容性注意点:    如果尝试绑定套接字资源到一个错误的地址，而这个地址不是本机的地址，那么 <span class="function">{@link socket_last_error()}</span> 可能会返回一个无效的错误代码。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-bind-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_connect()} - 开启一个套接字连接</span></li>    <li class="member"><span class="function">{@link socket_listen()} - 监听套接字的连接</span></li>    <li class="member"><span class="function">{@link socket_create()} - 创建一个套接字（通讯节点）</span></li>    <li class="member"><span class="function">{@link socket_last_error()} - 返回套接字上的最后一个错误</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>   </ul>  </span> </div></div>
 * @return bool <b>TRUE</b> on success or <b>FALSE</b> on failure.*/
function socket_bind(Socket $socket, string $address, int $port = 0): bool {}

/**
*<div id="function.socket-recv" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_recv</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_recv</span> &mdash; <span class="dc-title">从已连接的 socket 接收数据</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-recv-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_recv</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">&$data</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$length</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span></span><br>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   函数 <span class="function"><strong style="color:#CC7832">socket_recv()</strong></span> 从 <span class="parameter" style="color:#3A95FF">socket</span> 中接收长度为   <span class="parameter" style="color:#3A95FF">length</span> 字节的数据，并保存在 <span class="parameter" style="color:#3A95FF">data</span> 中。   <span class="function"><strong style="color:#CC7832">socket_recv()</strong></span> 用于从已连接的 socket 中接收数据。除此之外，可以设定一个或多个 flags   来控制函数的具体行为。  </p>  <p class="para">   <span class="parameter" style="color:#3A95FF">data</span> 是传引用的，因此必须以变量的形式，指定到参数列表。从   <span class="parameter" style="color:#3A95FF">socket</span> 中接收到的数据将会保存在 <span class="parameter" style="color:#3A95FF">data</span> 中。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-recv-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       参数 <span class="parameter" style="color:#3A95FF">socket</span> 必须是一个由 <span class="function">{@link socket_create()}</span>       创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">data</span></dt>     <dd>      <p class="para">       从 socket 中获取的数据将被保存在由 <span class="parameter" style="color:#3A95FF">data</span> 指定的变量中。       如果有错误发生，如链接被重置，数据不可用等等， <span class="parameter" style="color:#3A95FF">data</span> 将被设为 <strong><span>null</span></strong>。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">length</span></dt>     <dd>      <p class="para">       从远程主机接收长度最多为 <span class="parameter" style="color:#3A95FF">length</span> 字节的数据。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">flags</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">flags</span> 的值可以为下列任意 flag 的组合。使用按位或运算符(<span>|</span>)来       组合不同的 flag。      </p>            <table class="doctable table">       <caption><strong>可用的 <span class="parameter" style="color:#3A95FF">flags</span> 值</strong></caption>               <thead>         <tr>          <th>Flag</th>          <th>描述</th>         </tr>        </thead>        <tbody class="tbody">         <tr>          <td><strong><span>MSG_OOB</span></strong></td>          <td>           处理超出边界的数据          </td>         </tr>         <tr>          <td><strong><span>MSG_PEEK</span></strong></td>          <td>           从接收队列的起始位置接收数据，但不将他们从接收队列中移除。          </td>         </tr>         <tr>          <td><strong><span>MSG_WAITALL</span></strong></td>          <td>           在接收到至少 <span class="parameter" style="color:#3A95FF">length</span> 字节的数据之前，造成一个阻塞，并暂停脚本运行（block）。但是，           如果接收到中断信号，或远程服务器断开连接，该函数将返回少于 <span class="parameter" style="color:#3A95FF">length</span> 字节的数据。          </td>         </tr>         <tr>          <td><strong><span>MSG_DONTWAIT</span></strong></td>          <td>           如果指定了该 flag，函数将不会造成阻塞，即使在全局设置中指定了阻塞设置。          </td>         </tr>        </tbody>             </table>     </dd>           </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-recv-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   <span class="function"><strong style="color:#CC7832">socket_recv()</strong></span> 返回一个数字，表示接收到的字节数。如果发生了错误，则返回 <strong><span>false</span></strong>   错误码可使用 <span class="function">{@link socket_last_error()}</span> 接收。也可使用函数 <span class="function">{@link socket_strerror()}</span>    来取得关于错误的文字描述。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-recv-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.socket-recv-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">socket_recv()</strong></span> 范例</strong></p>    <div class="example-contents"><p>     该范例简单地使用 <span class="function"><strong style="color:#CC7832">socket_recv()</strong></span> 重写了 <a href="https://www.php.net/manual/zh/sockets.examples.php" class="xref">示例</a> 中的     第一个例子。    </p></div>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />error_reporting</span><span style="color: #007700">(</span><span style="color: #9876AA">E_ALL</span><span style="color: #007700">);<br /><br />echo </span><span style="color: #DD0000">"&lt;h2&gt;TCP/IP Connection&lt;/h2&gt;\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// 获取 WWW 服务的端口。 <br /></span><span style="color: #9876AA">$service_port </span><span style="color: #007700">= </span><span style="color: #9876AA">getservbyname</span><span style="color: #007700">(</span><span style="color: #DD0000">'www'</span><span style="color: #007700">, </span><span style="color: #DD0000">'tcp'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 获取目标主机的 IP 地址。 <br /></span><span style="color: #9876AA">$address </span><span style="color: #007700">= </span><span style="color: #9876AA">gethostbyname</span><span style="color: #007700">(</span><span style="color: #DD0000">'www.example.com'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 创建 TCP/IP 套接字。 <br /></span><span style="color: #9876AA">$socket </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_create</span><span style="color: #007700">(</span><span style="color: #9876AA">AF_INET</span><span style="color: #007700">, </span><span style="color: #9876AA">SOCK_STREAM</span><span style="color: #007700">, </span><span style="color: #9876AA">SOL_TCP</span><span style="color: #007700">);<br />if (</span><span style="color: #9876AA">$socket </span><span style="color: #007700">=== </span><span style="color: #9876AA">false</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">"socket_create() failed: reason: " </span><span style="color: #007700">. </span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">()) . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />} else {<br />    echo </span><span style="color: #DD0000">"OK.\n"</span><span style="color: #007700">;<br />}<br /><br />echo </span><span style="color: #DD0000">"Attempting to connect to '</span><span style="color: #9876AA">$address</span><span style="color: #DD0000">' on port '</span><span style="color: #9876AA">$service_port</span><span style="color: #DD0000">'..."</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$result </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_connect</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">, </span><span style="color: #9876AA">$address</span><span style="color: #007700">, </span><span style="color: #9876AA">$service_port</span><span style="color: #007700">);<br />if (</span><span style="color: #9876AA">$result </span><span style="color: #007700">=== </span><span style="color: #9876AA">false</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">"socket_connect() failed.\nReason: (</span><span style="color: #9876AA">$result</span><span style="color: #DD0000">) " </span><span style="color: #007700">. </span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">)) . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />} else {<br />    echo </span><span style="color: #DD0000">"OK.\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #9876AA">$in </span><span style="color: #007700">= </span><span style="color: #DD0000">"HEAD / HTTP/1.1\r\n"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$in </span><span style="color: #007700">.= </span><span style="color: #DD0000">"Host: www.example.com\r\n"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$in </span><span style="color: #007700">.= </span><span style="color: #DD0000">"Connection: Close\r\n\r\n"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$out </span><span style="color: #007700">= </span><span style="color: #DD0000">''</span><span style="color: #007700">;<br /><br />echo </span><span style="color: #DD0000">"Sending HTTP HEAD request..."</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">socket_write</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">, </span><span style="color: #9876AA">$in</span><span style="color: #007700">, </span><span style="color: #9876AA">strlen</span><span style="color: #007700">(</span><span style="color: #9876AA">$in</span><span style="color: #007700">));<br />echo </span><span style="color: #DD0000">"OK.\n"</span><span style="color: #007700">;<br /><br />echo </span><span style="color: #DD0000">"Reading response:\n\n"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$buf </span><span style="color: #007700">= </span><span style="color: #DD0000">'This is my buffer.'</span><span style="color: #007700">;<br />if (</span><span style="color: #9876AA">false </span><span style="color: #007700">!== (</span><span style="color: #9876AA">$bytes </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_recv</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">, </span><span style="color: #9876AA">$buf</span><span style="color: #007700">, </span><span style="color: #9876AA">2048</span><span style="color: #007700">, </span><span style="color: #9876AA">MSG_WAITALL</span><span style="color: #007700">))) {<br />    echo </span><span style="color: #DD0000">"Read </span><span style="color: #9876AA">$bytes</span><span style="color: #DD0000"> bytes from socket_recv(). Closing socket..."</span><span style="color: #007700">;<br />} else {<br />    echo </span><span style="color: #DD0000">"socket_recv() failed; reason: " </span><span style="color: #007700">. </span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">)) . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">socket_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">);<br /><br />echo </span><span style="color: #9876AA">$buf </span><span style="color: #007700">. </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #DD0000">"OK.\n\n"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>     上面的示例将产生如下内容：    </p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>&lt;h2&gt;TCP/IP Connection&lt;/h2&gt;<br>OK.<br>Attempting to connect to &#039;208.77.188.166&#039; on port &#039;80&#039;...OK.<br>Sending HTTP HEAD request...OK.<br>Reading response:<br><br>Read 123 bytes from socket_recv(). Closing socket...HTTP/1.1 200 OK<br>Date: Mon, 14 Sep 2009 08:56:36 GMT<br>Server: Apache/2.2.3 (Red Hat)<br>Last-Modified: Tue, 15 Nov 2005 13:24:10 GMT<br>ETag: &quot;b80f4-1b6-80bfd280&quot;<br>Accept-Ranges: bytes<br>Content-Length: 438<br>Connection: close<br>Content-Type: text/html; charset=UTF-8<br><br>OK.<br></span></div>    </div>   </div>  </span> </div>                     </div>
 * @return int|false <b>socket_recv</b> returns the number of bytes received,*/
function socket_recv(Socket $socket, &$data, int $length, int $flags): int|false {}

/**
*<div id="function.socket-send" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_send</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_send</span> &mdash; <span class="dc-title">向已连接的套接字发送数据</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-send-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_send</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$data</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$length</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span></span><br>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">socket_send()</strong></span> 从 <span class="parameter" style="color:#3A95FF">data</span>    中发送 <span class="parameter" style="color:#3A95FF">length</span> 字节到套接字 <span class="parameter" style="color:#3A95FF">socket</span>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-send-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link socket_create()}</span> 或 <span class="function">{@link socket_accept()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">data</span></dt>     <dd>      <p class="para">       将要发送到远端主机的缓冲区数据。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">length</span></dt>     <dd>      <p class="para">       要从 <span class="parameter" style="color:#3A95FF">data</span> 发送到远端主机的字节数。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">flags</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">flags</span> 的值可以是下列任意 flag 的组合。使用按位或运算符（<span>|</span>）来组合不同的 flag。       <table class="doctable table">        <caption><strong><span class="parameter" style="color:#3A95FF">flags</span> 可用值</strong></caption>                 <tbody class="tbody">          <tr>           <td><strong><span>MSG_OOB</span></strong></td>           <td>            发送 OOB（带外）数据。           </td>          </tr>          <tr>           <td><strong><span>MSG_EOR</span></strong></td>           <td>            逻辑记录标记。发送的数据结束一个逻辑记录。           </td>          </tr>          <tr>           <td><strong><span>MSG_EOF</span></strong></td>           <td>            从发送方关闭套接字，并在指定数据末尾设置结束标识。发送数据后结束事务。           </td>          </tr>          <tr>           <td><strong><span>MSG_DONTROUTE</span></strong></td>           <td>            绕过路由，直接使用接口。            </td>          </tr>         </tbody>               </table>      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-send-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   <span class="function"><strong style="color:#CC7832">socket_send()</strong></span> 返回发送的字节数，发生错误时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-send-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-send-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_sendto()} - 向套接字发送消息，无论它是否已建立连接</span></li>   </ul>  </span> </div></div>
 * @return int|false <b>socket_send</b> returns the number of bytes sent, or <b>FALSE</b> on error.*/
function socket_send(Socket $socket, string $data, int $length, int $flags): int|false {}

/**
*<div id="function.socket-sendmsg" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_sendmsg</h1>  <p class="verinfo">(PHP 5 &gt;= 5.5.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_sendmsg</span> &mdash; <span class="dc-title">Send a message</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-sendmsg-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_sendmsg</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$message</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span><span class="initializer"> = 0</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">  </p>  <div class="warning"><strong class="warning">警告</strong><p class="simpara">本函数还未编写文档，仅有参数列表。</p></div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-sendmsg-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">message</span></dt>     <dd>      <p class="para">      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">flags</span></dt>     <dd>      <p class="para">      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-sendmsg-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   Returns the number of bytes sent,  或者在失败时返回 <strong><span>false</span></strong>.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-sendmsg-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-sendmsg-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_recvmsg()} - Read a message</span></li>    <li class="member"><span class="function">{@link socket_cmsg_space()} - Calculate message buffer size</span></li>   </ul>  </span> </div></div>
 * @return int|false*/
function socket_sendmsg(
    Socket $socket,
    array $message,
    #[PhpStormStubsElementAvailable(from: '5.5', to: '7.4')] int $flags,
    #[PhpStormStubsElementAvailable(from: '8.0')] int $flags = 0
): int|false {}

/**
*<div id="function.socket-recvfrom" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_recvfrom</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_recvfrom</span> &mdash; <span class="dc-title">从套接字接收数据，无论它是否是面向连接的</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-recvfrom-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_recvfrom</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">&$data</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$length</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">&$address</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">&$port</span><span class="initializer"> = <strong><span>null</span></strong></span></span><br>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   函数 <span class="function"><strong style="color:#CC7832">socket_recvfrom()</strong></span> 使用 <span class="parameter" style="color:#3A95FF">socket</span>    从 <span class="parameter" style="color:#3A95FF">address</span> 的 <span class="parameter" style="color:#3A95FF">port</span>    端口上接收 <span class="parameter" style="color:#3A95FF">length</span> 字节数据到 <span class="parameter" style="color:#3A95FF">data</span>    中（如果套接字不是 <strong><span>AF_UNIX</span></strong> 类型）。<span class="function"><strong style="color:#CC7832">socket_recvfrom()</strong></span>    可用于从已连接或未连接的套接字上收集数据。另外，可以指定一个或多个标志来修改函数的行为。  </p>  <p class="para">   <span class="parameter" style="color:#3A95FF">address</span> 和 <span class="parameter" style="color:#3A95FF">port</span>    必须是引用传递。如果套接字不是面向连接的，<span class="parameter" style="color:#3A95FF">address</span>    将设置为远程主机的互联网协议地址或 UNIX 套接字路径。如果套接字是面向连接的，<span class="parameter" style="color:#3A95FF">address</span>    是 <strong><span>null</span></strong>。另外，在 <strong><span>AF_INET</span></strong> 或 <strong><span>AF_INET6</span></strong>    套接字未连接的情况下，<span class="parameter" style="color:#3A95FF">port</span> 将包含远程主机的端口号。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>: <span class="simpara">此函数可安全用于二进制对象。</span></p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-recvfrom-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">socket</span> 必须是先前由 socket_create() 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">data</span></dt>     <dd>      <p class="para">       收到的数据将提取到 <span class="parameter" style="color:#3A95FF">data</span> 指定的变量。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">length</span></dt>     <dd>      <p class="para">       最多可从远程主机获取的 <span class="parameter" style="color:#3A95FF">length</span> 字节数。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">flags</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">flags</span> 的值可以是下列任意 flag 的组合。使用按位或运算符（<span>|</span>）来组合不同的 flag。      </p>            <table class="doctable table">       <caption><strong><span class="parameter" style="color:#3A95FF">flags</span> 可用值</strong></caption>               <thead>         <tr>          <th>Flag</th>          <th>描述</th>         </tr>        </thead>        <tbody class="tbody">         <tr>          <td><strong><span>MSG_OOB</span></strong></td>          <td>           处理带外数据。          </td>         </tr>         <tr>          <td><strong><span>MSG_PEEK</span></strong></td>          <td>           从接收队列的起始位置接收数据，但不将他们从接收队列中移除。          </td>         </tr>         <tr>          <td><strong><span>MSG_WAITALL</span></strong></td>          <td>           在接受到至少 <span class="parameter" style="color:#3A95FF">length</span>            字节数据前阻塞。但是，如果接收到中断信号，或远程主机断开链接，函数可能返回不足 <span class="parameter" style="color:#3A95FF">length</span> 字节的数据。          </td>         </tr>         <tr>          <td><strong><span>MSG_DONTWAIT</span></strong></td>          <td>           如果指定了该 flag，即使原有套接字是阻塞的，此函数也不会阻塞。          </td>         </tr>        </tbody>             </table>     </dd>             <dt><span class="parameter" style="color:#3A95FF">address</span></dt>     <dd>      <p class="para">       如果套接字是 <strong><span>AF_UNIX</span></strong> 类型，<span class="parameter" style="color:#3A95FF">address</span>        是文件路径。否则，对于未连接的套接字，<span class="parameter" style="color:#3A95FF">address</span>        是远程主机的 IP 地址，如果套接字是面向连接的，是 <strong><span>null</span></strong>。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">port</span></dt>     <dd>      <p class="para">       此参数只适用于 <strong><span>AF_INET</span></strong> 和 <strong><span>AF_INET6</span></strong>        类型的套接字，并指定接收数据的远程端口。如果套接字是面向连接的，<span class="parameter" style="color:#3A95FF">port</span>        是 <strong><span>null</span></strong>。      </p>     </dd>           </dl>  </span> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-recvfrom-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   <span class="function"><strong style="color:#CC7832">socket_recvfrom()</strong></span> 返回接收到的字节数，发生错误时返回 <strong><span>false</span></strong>。可以通过调用 <span class="function">{@link socket_last_error()}</span>    来检索实际的错误代码。此错误码可以传递给 <span class="function">{@link socket_strerror()}</span> 获得错误的文本解释。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-recvfrom-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.socket-recvfrom-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">socket_recvfrom()</strong></span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$socket </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_create</span><span style="color: #007700">(</span><span style="color: #9876AA">AF_INET</span><span style="color: #007700">, </span><span style="color: #9876AA">SOCK_DGRAM</span><span style="color: #007700">, </span><span style="color: #9876AA">SOL_UDP</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">socket_bind</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">, </span><span style="color: #DD0000">'127.0.0.1'</span><span style="color: #007700">, </span><span style="color: #9876AA">1223</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$from </span><span style="color: #007700">= </span><span style="color: #DD0000">''</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$port </span><span style="color: #007700">= </span><span style="color: #9876AA">0</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">socket_recvfrom</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">, </span><span style="color: #9876AA">$buf</span><span style="color: #007700">, </span><span style="color: #9876AA">12</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #9876AA">$from</span><span style="color: #007700">, </span><span style="color: #9876AA">$port</span><span style="color: #007700">);<br /><br />echo </span><span style="color: #DD0000">"Received </span><span style="color: #9876AA">$buf</span><span style="color: #DD0000"> from remote address </span><span style="color: #9876AA">$from</span><span style="color: #DD0000"> and remote port </span><span style="color: #9876AA">$port</span><span style="color: #DD0000">" </span><span style="color: #007700">. </span><span style="color: #9876AA">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>     此示例将在 127.0.0.1 的 1233 端口上初始化 UDP 套接字，并打印从远程主机收到的至少 12 个字符。    </p></div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-recvfrom-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_recv()} - 从已连接的 socket 接收数据</span></li>    <li class="member"><span class="function">{@link socket_send()} - 向已连接的套接字发送数据</span></li>    <li class="member"><span class="function">{@link socket_sendto()} - 向套接字发送消息，无论它是否已建立连接</span></li>    <li class="member"><span class="function">{@link socket_create()} - 创建一个套接字（通讯节点）</span></li>   </ul>  </span> </div></div>
 * @return int|false <b>socket_recvfrom</b> returns the number of bytes received,*/
function socket_recvfrom(Socket $socket, &$data, int $length, int $flags, &$address, &$port = null): int|false {}

/**
*<div id="function.socket-recvmsg" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_recvmsg</h1>  <p class="verinfo">(PHP 5 &gt;= 5.5.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_recvmsg</span> &mdash; <span class="dc-title">Read a message</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-recvmsg-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_recvmsg</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">&$message</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span><span class="initializer"> = 0</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">  </p>  <div class="warning"><strong class="warning">警告</strong><p class="simpara">本函数还未编写文档，仅有参数列表。</p></div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-recvmsg-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">message</span></dt>     <dd>      <p class="para">      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">flags</span></dt>     <dd>      <p class="para">      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-recvmsg-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-recvmsg-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-recvmsg-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_sendmsg()} - Send a message</span></li>    <li class="member"><span class="function">{@link socket_cmsg_space()} - Calculate message buffer size</span></li>   </ul>  </span> </div></div>
 * @return int|false*/
function socket_recvmsg(
    Socket $socket,
    array &$message,
    #[PhpStormStubsElementAvailable(from: '5.5', to: '7.4')] int $flags,
    #[PhpStormStubsElementAvailable(from: '8.0')] int $flags = 0
): int|false {}

/**
*<div id="function.socket-sendto" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_sendto</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_sendto</span> &mdash; <span class="dc-title">向套接字发送消息，无论它是否已建立连接</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-sendto-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_sendto</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$data</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$length</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$address</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$port</span><span class="initializer"> = <strong><span>null</span></strong></span></span><br>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">int</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   函数 <span class="function"><strong style="color:#CC7832">socket_sendto()</strong></span> 通过套接字 <span class="parameter" style="color:#3A95FF">socket</span>    从参数 <span class="parameter" style="color:#3A95FF">data</span> 中发送 <span class="parameter" style="color:#3A95FF">length</span>    指定的字节数到 <span class="parameter" style="color:#3A95FF">address</span> 地址的 <span class="parameter" style="color:#3A95FF">port</span> 端口。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-sendto-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link socket_create()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">data</span></dt>     <dd>      <p class="para">       要从 <span class="parameter" style="color:#3A95FF">data</span> 缓冲区发送的数据。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">length</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">data</span> 中要发送的 <span class="parameter" style="color:#3A95FF">length</span> 长度的字节数。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">flags</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">flags</span> 的值可以是下列任意 flag 的组合。使用按位或运算符（<span>|</span>）来组合不同的 flag。       <table class="doctable table">        <caption><strong><span class="parameter" style="color:#3A95FF">flags</span> 可用值</strong></caption>                 <tbody class="tbody">          <tr>           <td><strong><span>MSG_OOB</span></strong></td>           <td>            发送 OOB（带外）数据。           </td>          </tr>          <tr>           <td><strong><span>MSG_EOR</span></strong></td>           <td>            逻辑记录标记。发送的数据结束一个逻辑记录。           </td>          </tr>          <tr>           <td><strong><span>MSG_EOF</span></strong></td>           <td>            从发送方关闭套接字，并在指定数据末尾设置结束标识。发送数据后结束事务。           </td>          </tr>          <tr>           <td><strong><span>MSG_DONTROUTE</span></strong></td>           <td>            绕过路由，直接使用接口。           </td>          </tr>         </tbody>               </table>      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">address</span></dt>     <dd>      <p class="para">       远端 IP 地址。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">port</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">port</span> 是数据要被发送到的远端端口号。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-sendto-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   <span class="function"><strong style="color:#CC7832">socket_sendto()</strong></span> 返回发送到远端地址的字节数。发生错误时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-sendto-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>     <tr>      <td>8.0.0</td>      <td>       <span class="parameter" style="color:#3A95FF">port</span> 现在允许为 null。      </td>     </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.socket-sendto-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">socket_sendto()</strong></span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />    $sock </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_create</span><span style="color: #007700">(</span><span style="color: #9876AA">AF_INET</span><span style="color: #007700">, </span><span style="color: #9876AA">SOCK_DGRAM</span><span style="color: #007700">, </span><span style="color: #9876AA">SOL_UDP</span><span style="color: #007700">);<br /><br />    </span><span style="color: #9876AA">$msg </span><span style="color: #007700">= </span><span style="color: #DD0000">"Ping !"</span><span style="color: #007700">;<br />    </span><span style="color: #9876AA">$len </span><span style="color: #007700">= </span><span style="color: #9876AA">strlen</span><span style="color: #007700">(</span><span style="color: #9876AA">$msg</span><span style="color: #007700">);<br /><br />    </span><span style="color: #9876AA">socket_sendto</span><span style="color: #007700">(</span><span style="color: #9876AA">$sock</span><span style="color: #007700">, </span><span style="color: #9876AA">$msg</span><span style="color: #007700">, </span><span style="color: #9876AA">$len</span><span style="color: #007700">, </span><span style="color: #9876AA">0</span><span style="color: #007700">, </span><span style="color: #DD0000">'127.0.0.1'</span><span style="color: #007700">, </span><span style="color: #9876AA">1223</span><span style="color: #007700">);<br />    </span><span style="color: #9876AA">socket_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$sock</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-sendto-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_send()} - 向已连接的套接字发送数据</span></li>   </ul>  </span> </div></div>
 * @return int|false <b>socket_sendto</b> returns the number of bytes sent to the*/
function socket_sendto(Socket $socket, string $data, int $length, int $flags, string $address, ?int $port = null): int|false {}

/**
*<div id="function.socket-get-option" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_get_option</h1>  <p class="verinfo">(PHP 4 &gt;= 4.3.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_get_option</span> &mdash; <span class="dc-title">获取套接字的套接字选项</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-get-option-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_get_option</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$level</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$option</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span>|<span class="type" style="color:#EAB766">int</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">socket_get_option()</strong></span> 函数检索指定 <span class="parameter" style="color:#3A95FF">socket</span>    中由 <span class="parameter" style="color:#3A95FF">option</span> 参数指定的选项值。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-get-option-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link socket_create()}</span> 或 <span class="function">{@link socket_accept()}</span>        创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">level</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">level</span> 参数定义选项所在的协议级别。例如，在 socket 级别检索选项，将使用 <strong><span>SOL_SOCKET</span></strong>        作为 <span class="parameter" style="color:#3A95FF">level</span> 参数值。在其它级别，例如 TCP，可以使用该级别指定的协议号。协议号可以通过 <span class="function">{@link getprotobyname()}</span>        获取。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">option</span></dt>     <dd>      <table class="doctable table">       <caption><strong>套接字可用选项</strong></caption>               <thead>         <tr>          <th>选项</th>          <th>描述</th>          <th>类型</th>         </tr>        </thead>        <tbody class="tbody">         <tr>          <td><strong><span>SO_DEBUG</span></strong></td>          <td>           是否记录调试信息。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_BROADCAST</span></strong></td>          <td>           是否支持传输广播消息。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_REUSEADDR</span></strong></td>          <td>           是否可以复用本地地址。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_REUSEPORT</span></strong></td>          <td>           是否可以复用本地端口。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_KEEPALIVE</span></strong></td>          <td>           是否通过定期传输消息来为连接保活。如果连接的套接字对消息未响应，连接将断开，并且正在写入套接字的进程会收到 SIGPIPE 信号。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_LINGER</span></strong></td>          <td>           <p class="para">            <span class="parameter" style="color:#3A95FF">socket</span> 执行 <span class="function">{@link socket_close()}</span>             时是否滞留残留数据。默认情况下，当关闭 socket 时，将尝试发送所有还未发送的数据。在面向连接的套接字中，<span class="function">{@link socket_close()}</span>             会等待对端确认接收数据。           </p>           <p class="para">            如果 <var class="varname">l_onoff</var> 不为零，且 <var class="varname">l_linger</var>             为零，对于面向连接的套接字，将丢弃所有未发送的数据，并发送给对端一个 RST（reset）报文。           </p>           <p class="para">            另外，如果 <var class="varname">l_onoff</var> 不为零，且 <var class="varname">l_linger</var>             不为零，<span class="function">{@link socket_close()}</span> 将阻塞，直到数据被发送完或者超过 <var class="varname">l_linger</var>             指定的时间。如果 socket 设置为非阻塞，<span class="function">{@link socket_close()}</span> 将执行失败并返回错误。           </p>          </td>          <td>           <span class="type" style="color:#EAB766">array</span>。数组包含两个键：           <var class="varname">l_onoff</var> 和 <var class="varname">l_linger</var>。          </td>         </tr>         <tr>          <td><strong><span>SO_OOBINLINE</span></strong></td>          <td>           <span class="parameter" style="color:#3A95FF">socket</span> 是否保留带外数据在正常的数据输入队列中。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_SNDBUF</span></strong></td>          <td>           发送缓冲区大小。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>                   </tr>         <tr>          <td><strong><span>SO_RCVBUF</span></strong></td>          <td>           接收缓冲区大小。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>                  </tr>         <tr>          <td><strong><span>SO_ERROR</span></strong></td>          <td>           获取错误状态信息并复位。          </td>          <td>           <span class="type" style="color:#EAB766">int</span> (不能被 <span class="function">{@link socket_set_option()}</span> 设置)          </td>         </tr>         <tr>          <td><strong><span>SO_TYPE</span></strong></td>          <td>           <span class="parameter" style="color:#3A95FF">socket</span> 类型（例如 <strong><span>SOCK_STREAM</span></strong>）。          </td>          <td>           <span class="type" style="color:#EAB766">int</span> (不能被 <span class="function">{@link socket_set_option()}</span> 设置）          </td>         </tr>         <tr>          <td><strong><span>SO_DONTROUTE</span></strong></td>          <td>           发出的消息是否绕过标准路由机制。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_RCVLOWAT</span></strong></td>          <td>           <span class="parameter" style="color:#3A95FF">socket</span> 写入操作要处理的最小字节数。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_RCVTIMEO</span></strong></td>          <td>           接收超时时间。          </td>          <td>           <span class="type" style="color:#EAB766">array</span>。数组包含两个键：<var class="varname">sec</var>            是超时时间的秒部分，<var class="varname">usec</var> 是微秒部分。          </td>         </tr>         <tr>          <td><strong><span>SO_SNDTIMEO</span></strong></td>          <td>           指定输出功能阻塞的超时时长，因为流量控制会阻止数据发送。          </td>          <td>           <span class="type" style="color:#EAB766">array</span>。数组包含两个键：<var class="varname">sec</var>            是超时时间的秒部分，<var class="varname">usec</var> 是微秒部分。          </td>         </tr>         <tr>          <td><strong><span>SO_SNDLOWAT</span></strong></td>          <td>           <span class="parameter" style="color:#3A95FF">socket</span> 输出操作要处理的最小字节数。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>TCP_NODELAY</span></strong></td>          <td>           是否禁用 TCP Nagle 算法。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>MCAST_JOIN_GROUP</span></strong></td>          <td>           加入多播组。          </td>          <td>           <span class="type" style="color:#EAB766">array</span> 包含 <span>&quot;group&quot;</span> 键，指定 <span class="type" style="color:#EAB766">string</span>            类型的 IPv4 或 IPv6 多播地址；另一个键 <span>&quot;interface&quot;</span>            指定（<span class="type" style="color:#EAB766">int</span> 类型）接口编号或是 <span>string</span>            类型的接口名称，比如 <span>&quot;eth0&quot;</span>。可以指定 <span>0</span>            来使用路由规则选择接口。（仅在 <span class="function">{@link socket_set_option()}</span> 中使用）          </td>         </tr>         <tr>          <td><strong><span>MCAST_LEAVE_GROUP</span></strong></td>          <td>           离开多播组。          </td>          <td>           <span class="type" style="color:#EAB766">array</span>。详情见 <strong><span>MCAST_JOIN_GROUP</span></strong>。（仅在 <span class="function">{@link socket_set_option()}</span> 中使用）          </td>         </tr>         <tr>          <td><strong><span>MCAST_BLOCK_SOURCE</span></strong></td>          <td>           在已加入的多播组上阻塞接收来自指定源的数据包。          </td>          <td>           <span class="type" style="color:#EAB766">array</span> 与 <strong><span>MCAST_JOIN_GROUP</span></strong>            有相同的键，额外增加 <span class="type" style="color:#EAB766">string</span>            类型的 <span>source</span> 键，指定要阻塞的 IPv4 或 IPv6 源地址。（仅在 <span class="function">{@link socket_set_option()}</span> 中使用）          </td>         </tr>         <tr>          <td><strong><span>MCAST_UNBLOCK_SOURCE</span></strong></td>          <td>           在已加入的多播组取消阻塞（继续接收）接收来自指定源的数据包。          </td>          <td>           <span class="type" style="color:#EAB766">array</span> 与 <strong><span>MCAST_BLOCK_SOURCE</span></strong> 格式相同。（仅在 <span class="function">{@link socket_set_option()}</span> 中使用）          </td>         </tr>         <tr>          <td><strong><span>MCAST_JOIN_SOURCE_GROUP</span></strong></td>          <td>           接收源地址与指定多播组匹配的数据包。          </td>          <td>           <span class="type" style="color:#EAB766">array</span> 与 <strong><span>MCAST_BLOCK_SOURCE</span></strong> 格式相同。（仅在 <span class="function">{@link socket_set_option()}</span> 中使用）          </td>         </tr>         <tr>          <td><strong><span>MCAST_LEAVE_SOURCE_GROUP</span></strong></td>          <td>           停止接收源地址与指定多播组匹配的数据包。          </td>          <td>           <span class="type" style="color:#EAB766">array</span> 与 <strong><span>MCAST_BLOCK_SOURCE</span></strong> 格式相同。（仅在 <span class="function">{@link socket_set_option()}</span> 中使用）          </td>         </tr>         <tr>          <td><strong><span>IP_MULTICAST_IF</span></strong></td>          <td>           IPv4 多播数据包的输出接口。          </td>          <td>           使用 <span class="type" style="color:#EAB766">int</span> 类型指定接口编号或使用 <span class="type" style="color:#EAB766">string</span>            类型指定接口名，例如 <span>eth0</span>。<span class="type" style="color:#EAB766"><span class="type 0" style="color:#EAB766">0</span></span>            表示选择接口时使用路由表。<span class="function">{@link socket_set_option()}</span>            函数返回接口索引。注意，不像 C API，此选项无需提供 IP 地址。这样就消除了 <strong><span>IP_MULTICAST_IF</span></strong>            和 <strong><span>IPV6_MULTICAST_IF</span></strong> 之间的接口差异。          </td>         </tr>         <tr>          <td><strong><span>IPV6_MULTICAST_IF</span></strong></td>          <td>           IPv6 多播数据包的输出接口。          </td>          <td>           与 <strong><span>IP_MULTICAST_IF</span></strong> 相同。          </td>         </tr>         <tr>          <td><strong><span>IP_MULTICAST_LOOP</span></strong></td>          <td>           在已加入的多播组开启或禁用 IPv4 报文的组播环回策略。类 Unix 中作用于发送路径，Windows 中作用于接收路径。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>（<span>0</span> 或 <span>1</span>）。<span class="function"><strong style="color:#CC7832">socket_get_option()</strong></span>           可以接受任何值，并按照常规 PHP 规则转换为布尔值。          </td>         </tr>         <tr>          <td><strong><span>IPV6_MULTICAST_LOOP</span></strong></td>          <td>           与 <strong><span>IP_MULTICAST_LOOP</span></strong> 类似，但用于 IPv6。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>。详情见 <strong><span>IP_MULTICAST_LOOP</span></strong>。          </td>         </tr>         <tr>          <td><strong><span>IP_MULTICAST_TTL</span></strong></td>          <td>           传出 IPv4 多播数据包的生存时间。这个值需要在 0（数据不传出）到 255 之间。默认值是 1（仅到达本地网络）。          </td>          <td>           <span class="type" style="color:#EAB766">int</span> 0 到 255 之间。          </td>         </tr>         <tr>          <td><strong><span>IPV6_MULTICAST_HOPS</span></strong></td>          <td>           与 <strong><span>IP_MULTICAST_TTL</span></strong> 类似，但用于 IPv6 数据包。-1 也可以被接受，表示使用默认路由。          </td>          <td>           <span class="type" style="color:#EAB766">int</span> -1 到 255 之间。          </td>         </tr>         <tr>          <td><strong><span>SO_MARK</span></strong></td>          <td>           在套接字上设置标识符，用于过滤 Linux 中的数据包。           </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_ACCEPTFILTER</span></strong></td>          <td>           在（FreeBSD 或 NetBSD）监听套接字上添加接受过滤器。FreeBSD 中，需要预先加载接受过滤器内核模块（例如 accf_http）。          </td>          <td>           <span class="type" style="color:#EAB766">string</span> 过滤器名称（最大长度 15）。          </td>         </tr>         <tr>          <td><strong><span>SO_USER_COOKIE</span></strong></td>          <td>           在套接字上设置标识符，用于过滤 FreeBSD 中的数据包。           </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_RTABLE</span></strong></td>          <td>           在套接字上设置标识符，用于过滤 OpenBSD 中的数据包。           </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_DONTTRUNC</span></strong></td>          <td>           保留未读数据。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_WANTMORE</span></strong></td>          <td>           当准备好更多数据时给出提示。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>TCP_DEFER_ACCEPT</span></strong></td>          <td>           在数据准备好之前不通知监听套接字。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_INCOMING_CPU</span></strong></td>          <td>           获取或设置套接字的 CPU 亲和性。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_MEMINFO</span></strong></td>          <td>           获取套接字的内存信息。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_BPF_EXTENSIONS</span></strong></td>          <td>           为套接字附加内核支持的 BPF 扩展。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SO_SETFIB</span></strong></td>          <td>           为套接字设置路由表（FIB）。（仅 FreeBSD）          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>SOL_FILTER</span></strong></td>          <td>           过滤套接字的属性。（仅 Solaris/Illumos）          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>TCP_KEEPCNT</span></strong></td>          <td>           设置 TCP 在断开连接前的最大保活探测次数。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>TCP_KEEPIDLE</span></strong></td>          <td>           设置连接需要保持空闲的时间。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>TCP_KEEPINTVL</span></strong></td>          <td>           设置各个保活探针的间隔时间。          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>TCP_KEEPALIVE</span></strong></td>          <td>           设置连接需要保持空闲的时间。（仅 macOS）          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>         <tr>          <td><strong><span>TCP_NOTSENT_LOWAT</span></strong></td>          <td>           设置套接字流数据队列中未发送数据的数量限制。（仅 Linux）          </td>          <td>           <span class="type" style="color:#EAB766">int</span>          </td>         </tr>        </tbody>             </table>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-get-option-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   返回给定选项的值， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-get-option-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.socket-get-option-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">socket_get_option()</strong></span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$socket </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_create_listen</span><span style="color: #007700">(</span><span style="color: #9876AA">1223</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">$linger </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'l_linger' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">1</span><span style="color: #007700">, </span><span style="color: #DD0000">'l_onoff' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">1</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">socket_set_option</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">, </span><span style="color: #9876AA">SOL_SOCKET</span><span style="color: #007700">, </span><span style="color: #9876AA">SO_LINGER</span><span style="color: #007700">, </span><span style="color: #9876AA">$linger</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_get_option</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">, </span><span style="color: #9876AA">SOL_SOCKET</span><span style="color: #007700">, </span><span style="color: #9876AA">SO_REUSEADDR</span><span style="color: #007700">));<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-get-option-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_create_listen()} - 在端口上打开一个套接字以接受连接</span></li>    <li class="member"><span class="function">{@link socket_set_option()} - 为套接字设置套接字选项</span></li>   </ul>  </span> </div></div>
 * @return array|int|false the value of the given option, or <b>FALSE</b> on errors.*/
function socket_get_option(Socket $socket, int $level, int $option): array|int|false {}

/**
*<div id="function.socket-set-option" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_set_option</h1>  <p class="verinfo">(PHP 4 &gt;= 4.3.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_set_option</span> &mdash; <span class="dc-title">为套接字设置套接字选项</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-set-option-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_set_option</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$level</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$option</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">array</span>|<span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766">int</span></span> <span class="parameter" style="color:#3A95FF">$value</span></span><br>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">    <span class="function"><strong style="color:#CC7832">socket_set_option()</strong></span> 函数在 <span class="parameter" style="color:#3A95FF">socket</span>    的指定协议 <span class="parameter" style="color:#3A95FF">level</span> 上设置由 <span class="parameter" style="color:#3A95FF">option</span>    参数指定的选项，<span class="parameter" style="color:#3A95FF">value</span> 为指定值。   </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-set-option-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link socket_create()}</span> 或 <span class="function">{@link socket_accept()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">level</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">level</span> 参数定义选项所在的协议级别。例如，在 socket 级别设置选项，将使用 <strong><span>SOL_SOCKET</span></strong>        作为 <span class="parameter" style="color:#3A95FF">level</span> 参数。在其它级别，例如 TCP，可以使用该级别定义的协议号来指定级别。协议号可以通过 <span class="function">{@link getprotobyname()}</span>        找到。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">option</span></dt>     <dd>      <p class="para">       套接字可用选项与 <span class="function">{@link socket_get_option()}</span> 函数的选项相同。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">value</span></dt>     <dd>      <p class="para">       选项值。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-set-option-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-set-option-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.socket-set-option-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">socket_set_option()</strong></span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$socket </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_create</span><span style="color: #007700">(</span><span style="color: #9876AA">AF_INET</span><span style="color: #007700">, </span><span style="color: #9876AA">SOCK_STREAM</span><span style="color: #007700">, </span><span style="color: #9876AA">SOL_TCP</span><span style="color: #007700">);<br /><br />if (!</span><span style="color: #9876AA">is_resource</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">)) {<br />    echo </span><span style="color: #DD0000">'Unable to create socket: '</span><span style="color: #007700">. </span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">()) . </span><span style="color: #9876AA">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br />if (!</span><span style="color: #9876AA">socket_set_option</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">, </span><span style="color: #9876AA">SOL_SOCKET</span><span style="color: #007700">, </span><span style="color: #9876AA">SO_REUSEADDR</span><span style="color: #007700">, </span><span style="color: #9876AA">1</span><span style="color: #007700">)) {<br />    echo </span><span style="color: #DD0000">'Unable to set option on socket: '</span><span style="color: #007700">. </span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">()) . </span><span style="color: #9876AA">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br />if (!</span><span style="color: #9876AA">socket_bind</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">, </span><span style="color: #DD0000">'127.0.0.1'</span><span style="color: #007700">, </span><span style="color: #9876AA">1223</span><span style="color: #007700">)) {<br />    echo </span><span style="color: #DD0000">'Unable to bind socket: '</span><span style="color: #007700">. </span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">()) . </span><span style="color: #9876AA">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #9876AA">$rval </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_get_option</span><span style="color: #007700">(</span><span style="color: #9876AA">$socket</span><span style="color: #007700">, </span><span style="color: #9876AA">SOL_SOCKET</span><span style="color: #007700">, </span><span style="color: #9876AA">SO_REUSEADDR</span><span style="color: #007700">);<br /><br />if (</span><span style="color: #9876AA">$rval </span><span style="color: #007700">=== </span><span style="color: #9876AA">false</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">'Unable to get socket option: '</span><span style="color: #007700">. </span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">()) . </span><span style="color: #9876AA">PHP_EOL</span><span style="color: #007700">;<br />} else if (</span><span style="color: #9876AA">$rval </span><span style="color: #007700">!== </span><span style="color: #9876AA">0</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">'SO_REUSEADDR is set on socket !' </span><span style="color: #007700">. </span><span style="color: #9876AA">PHP_EOL</span><span style="color: #007700">;<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-set-option-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_create()} - 创建一个套接字（通讯节点）</span></li>    <li class="member"><span class="function">{@link socket_bind()} - 给套接字绑定名字</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>    <li class="member"><span class="function">{@link socket_last_error()} - 返回套接字上的最后一个错误</span></li>    <li class="member"><span class="function">{@link socket_get_option()} - 获取套接字的套接字选项</span></li>   </ul>  </span> </div></div>
 * @return bool <b>TRUE</b> on success or <b>FALSE</b> on failure.*/
function socket_set_option(Socket $socket, int $level, int $option, $value): bool {}

/**
*<div id="function.socket-shutdown" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_shutdown</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_shutdown</span> &mdash; <span class="dc-title">关闭套接字接收或发送，或两者都关闭</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-shutdown-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_shutdown</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$mode</span><span class="initializer"> = 2</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">socket_shutdown()</strong></span> 函数允许通过 <span class="parameter" style="color:#3A95FF">socket</span> 停止接收、发送或所有数据（默认）。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    关联的一个或多个缓冲区可能会清空，也可能不会。   </p>  </p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-shutdown-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       从 <span class="function">{@link socket_create()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">mode</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">mode</span> 的值可以是以下之一：       <table class="doctable table">        <caption><strong><span class="parameter" style="color:#3A95FF">mode</span> 可用值</strong></caption>                 <tbody class="tbody">          <tr>           <td><span>0</span></td>           <td>            关闭套接字读           </td>          </tr>          <tr>           <td><span>1</span></td>           <td>            关闭套接字写           </td>          </tr>          <tr>           <td><span>2</span></td>           <td>            关闭套接字读和写           </td>          </tr>         </tbody>               </table>      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-shutdown-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-shutdown-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div></div>
 * @return bool <b>TRUE</b> on success or <b>FALSE</b> on failure.*/
function socket_shutdown(Socket $socket, int $mode = 2): bool {}

/**
*<div id="function.socket-last-error" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_last_error</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_last_error</span> &mdash; <span class="dc-title">返回套接字上的最后一个错误</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-last-error-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_last_error</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$socket</span><span class="initializer"> = <strong><span>null</span></strong></span></span>): <span class="type" style="color:#EAB766">int</span></div>  <p class="para rdfs-comment">   如果将 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例传递给此函数，将会返回指定套接字发生的最后一个错误。如果   <span class="parameter" style="color:#3A95FF">socket</span> 为 <strong><span>null</span></strong>, 则返回最后一个失败的套接字函数的错误码。此函数对以下情况特别有帮助：   <span class="function">{@link socket_create()}</span> 失败时不会返回套接字，以及   <span class="function">{@link socket_select()}</span> 失败的原因与特定套接字没有直接联系。   错误码适合提供给 <span class="function">{@link socket_strerror()}</span>，将返回指定错误码的字符串描述。  </p>  <p class="para">   如果没有错误或者已经使用 <span class="function">{@link socket_clear_error()}</span> 清除了错误，则函数返回 <span>0</span>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-last-error-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       通过 <span class="function">{@link socket_create()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-last-error-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   此函数返回套接字错误码。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-last-error-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>     <tr>      <td>8.0.0</td>      <td>       <span class="parameter" style="color:#3A95FF">socket</span> 现在可为空（nullable）。      </td>     </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.socket-last-error-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">socket_last_error()</strong></span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$socket </span><span style="color: #007700">= @</span><span style="color: #9876AA">socket_create</span><span style="color: #007700">(</span><span style="color: #9876AA">AF_INET</span><span style="color: #007700">, </span><span style="color: #9876AA">SOCK_STREAM</span><span style="color: #007700">, </span><span style="color: #9876AA">SOL_TCP</span><span style="color: #007700">);<br /><br />if (</span><span style="color: #9876AA">$socket </span><span style="color: #007700">=== </span><span style="color: #9876AA">false</span><span style="color: #007700">) {<br />    </span><span style="color: #9876AA">$errorcode </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_last_error</span><span style="color: #007700">();<br />    </span><span style="color: #9876AA">$errormsg </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_strerror</span><span style="color: #007700">(</span><span style="color: #9876AA">$errorcode</span><span style="color: #007700">);<br />    <br />    die(</span><span style="color: #DD0000">"Couldn't create socket: [</span><span style="color: #9876AA">$errorcode</span><span style="color: #DD0000">] </span><span style="color: #9876AA">$errormsg</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br />}<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.socket-last-error-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <p class="para">    <span class="function"><strong style="color:#CC7832">socket_last_error()</strong></span> 不会清除错误代码，如果需要可以使用    <span class="function">{@link socket_clear_error()}</span> 清除。   </p>  </p></blockquote> </div></div>
 * @return int This function returns a socket error code.*/
function socket_last_error(?Socket $socket = null): int {}

/**
*<div id="function.socket-clear-error" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_clear_error</h1>  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_clear_error</span> &mdash; <span class="dc-title">清除套接字或者最后的错误代码上的错误</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-clear-error-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_clear_error</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span><span class="type" style="color:#EAB766"></span></span> <span class="parameter" style="color:#3A95FF">$socket</span><span class="initializer"> = <strong><span>null</span></strong></span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div>  <p class="para rdfs-comment">   这个函数清除给定的套接字上的错误代码或是最后一个全局的套接字如果套接字没有指定的话。  </p>  <p class="para">   这个函数允许明确的重置错误代码值 不论是一个套接字或者最后全局错误代码的扩展，   这对在检测应用的一部分是否有错误发生是十分有用的。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-clear-error-parameters">   <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       用 <span class="function">{@link socket_create()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-clear-error-returnvalues"> <h3 class="title">返回值</h3>  <p class="para">   没有返回值。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-clear-error-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>     <tr>      <td>8.0.0</td>      <td>       参数 <span class="parameter" style="color:#3A95FF">socket</span> 可以为 null。      </td>     </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-clear-error-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_last_error()} - 返回套接字上的最后一个错误</span></li>    <li class="member"><span class="function">{@link socket_strerror()} - 返回描述套接字错误的字符串</span></li>   </ul>  </span> </div></div>
 * @return void No value is returned.*/
function socket_clear_error(?Socket $socket = null): void {}

/**
*<div id="function.socket-import-stream" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_import_stream</h1>  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_import_stream</span> &mdash; <span class="dc-title">导入 stream</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-import-stream-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_import_stream</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$stream</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   导入封装了 socket 的 stream 到 socket 扩展资源中。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-import-stream-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">stream</span></dt>     <dd>      <p class="para">       要导入的 stream 资源。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-import-stream-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   发生错误时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-import-stream-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td>8.0.0</td>      <td>       成功时，该函数现在返回 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例；在此之前，返回 <span class="type" style="color:#EAB766">resource</span>。      </td>     </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.socket-import-stream-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">socket_import_stream()</strong></span> 示例</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$stream </span><span style="color: #007700">= </span><span style="color: #9876AA">stream_socket_server</span><span style="color: #007700">(</span><span style="color: #DD0000">"udp://0.0.0.0:58380"</span><span style="color: #007700">, </span><span style="color: #9876AA">$errno</span><span style="color: #007700">, </span><span style="color: #9876AA">$errstr</span><span style="color: #007700">, </span><span style="color: #9876AA">STREAM_SERVER_BIND</span><span style="color: #007700">); <br /></span><span style="color: #9876AA">$sock   </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_import_stream</span><span style="color: #007700">(</span><span style="color: #9876AA">$stream</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-import-stream-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link stream_socket_server()} - 创建 Internet 或 Unix 域服务器套接字</span></li>   </ul>  </span> </div></div>
 * @return resource|Socket|false|null <b>FALSE</b> or <b>NULL</b> on failure.*/
function socket_import_stream($stream): Socket|false {}

/**
*<div id="function.socket-cmsg-space" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_cmsg_space</h1>  <p class="verinfo">(PHP 5 &gt;= 5.5.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_cmsg_space</span> &mdash; <span class="dc-title">Calculate message buffer size</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-cmsg-space-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_cmsg_space</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$level</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$type</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$num</span><span class="initializer"> = 0</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766">int</span></span></div>  <p class="para rdfs-comment">   Calculates the size of the buffer that should be allocated for   receiving the ancillary data.  </p>  <div class="warning"><strong class="warning">警告</strong><p class="simpara">本函数还未编写文档，仅有参数列表。</p></div> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-cmsg-space-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">level</span></dt>     <dd>      <p class="para">      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">type</span></dt>     <dd>      <p class="para">      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-cmsg-space-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-cmsg-space-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_recvmsg()} - Read a message</span></li>    <li class="member"><span class="function">{@link socket_sendmsg()} - Send a message</span></li>   </ul>  </span> </div></div>
 * @return int|null*/
function socket_cmsg_space(
    int $level,
    int $type,
    #[PhpStormStubsElementAvailable(from: '8.0')] int $num = 0
): ?int {}

/**
*<div id="function.socket-getopt" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_getopt</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_getopt</span> &mdash; <span class="dc-title">别名 <span class="function">{@link socket_get_option()}</span></span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-getopt-description">  <h3 class="title">说明</h3>  <p class="simpara">   此函数是该函数的别名：   <span class="function">{@link socket_get_option()}</span>.  </p> </div> </div>
*/
function socket_getopt(Socket $socket, int $level, int $option): array|int|false {}

/**
*<div id="function.socket-setopt" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_setopt</h1>  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_setopt</span> &mdash; <span class="dc-title">别名 <span class="function">{@link socket_set_option()}</span></span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-setopt-description">  <h3 class="title">说明</h3>  <p class="simpara">   此函数是该函数的别名：   <span class="function">{@link socket_set_option()}</span>.  </p> </div> </div>
 * @return bool*/
function socket_setopt(Socket $socket, int $level, int $option, $value): bool {}

/**
*<div id="function.socket-wsaprotocol-info-export" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_wsaprotocol_info_export</h1>  <p class="verinfo">(PHP 7 &gt;= 7.3.0, PHP 8)</p><p class="refpurpose"><span class="refname">socket_wsaprotocol_info_export</span> &mdash; <span class="dc-title">导出 WSAPROTOCOL_INFO 结构体</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-wsaprotocol-info-export-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_wsaprotocol_info_export</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$process_id</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   导出 <span>WSAPROTOCOL_INFO</span> 结构体到共享内存中，并返回 <span class="function">{@link socket_wsaprotocol_info_import()}</span>    使用的标识符。导出的 ID 仅对给定参数 <span class="parameter" style="color:#3A95FF">process_id</span> 指定的进程有效。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <span class="simpara">    此方法仅在 Windows 上可用。   </span>  </p></blockquote> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-wsaprotocol-info-export-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>    <dd>     <span>      <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。     </span>    </dd>          <dt><span class="parameter" style="color:#3A95FF">process_id</span></dt>    <dd>     <p class="para">      将要导入套接字的进程 ID。     </p>    </dd>     </dl> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-wsaprotocol-info-export-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   返回用于导入的标识符， 或者在失败时返回 <strong><span>false</span></strong>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-wsaprotocol-info-export-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>  <td>8.0.0</td>  <td>   现在 <span class="parameter" style="color:#3A95FF">socket</span> 是 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例，   之前是 <span class="type" style="color:#EAB766">resource</span>。  </td> </tr>    </tbody>     </table> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-wsaprotocol-info-export-seealso">  <h3 class="title">参见</h3>  <ul class="simplelist">   <li class="member"><span class="function">{@link socket_wsaprotocol_info_import()} - 从另一个进程导入套接字</span></li>   <li class="member"><span class="function">{@link socket_wsaprotocol_info_release()} - 释放已导出的 WSAPROTOCOL_INFO 结构体</span></li>  </ul> </div> </div>
 * @return string|false*/
function socket_wsaprotocol_info_export($socket, $target_pid) {}

/**
*<div id="function.socket-wsaprotocol-info-import" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_wsaprotocol_info_import</h1>  <p class="verinfo">(PHP 7 &gt;= 7.3.0, PHP 8)</p><p class="refpurpose"><span class="refname">socket_wsaprotocol_info_import</span> &mdash; <span class="dc-title">从另一个进程导入套接字</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-wsaprotocol-info-import-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_wsaprotocol_info_import</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$info_id</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   导入之前从另一个进程导出的套接字。   </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <span class="simpara">    此方法仅在 Windows 上可用。   </span>  </p></blockquote> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-wsaprotocol-info-import-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">info_id</span></dt>    <dd>     <span>      调用 <span class="function">{@link socket_wsaprotocol_info_export()}</span> 返回的 ID。     </span>    </dd>     </dl> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-wsaprotocol-info-import-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例， 或者在失败时返回 <strong><span>false</span></strong>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-function.socket-wsaprotocol-info-import-changelog">  <h3 class="title">更新日志</h3>  <table class="doctable informaltable">       <thead>     <tr>      <th>版本</th>      <th>说明</th>     </tr>    </thead>    <tbody class="tbody">     <tr>      <td>8.0.0</td>      <td>        成功时，该函数现在返回一个 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例；在此之前，返回的是 <span class="type" style="color:#EAB766">resource</span>。      </td>     </tr>    </tbody>     </table> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-wsaprotocol-info-import-seealso">  <h3 class="title">参见</h3>  <ul class="simplelist">   <li class="member"><span class="function">{@link socket_wsaprotocol_info_export()} - 导出 WSAPROTOCOL_INFO 结构体</span></li>  </ul> </div> </div>
 * @return resource|Socket|false*/
function socket_wsaprotocol_info_import($info_id) {}

/**
*<div id="function.socket-wsaprotocol-info-release" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_wsaprotocol_info_release</h1>  <p class="verinfo">(PHP 7 &gt;= 7.3.0, PHP 8)</p><p class="refpurpose"><span class="refname">socket_wsaprotocol_info_release</span> &mdash; <span class="dc-title">释放已导出的 WSAPROTOCOL_INFO 结构体</span></p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-wsaprotocol-info-release-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_wsaprotocol_info_release</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$info_id</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   释放 <span class="parameter" style="color:#3A95FF">info_id</span> 对应的共享内存。  </p>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>:    <span class="simpara">    此方法仅在 Windows 上可用。    </span>  </p></blockquote> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-wsaprotocol-info-release-parameters">  <h3 class="title">参数</h3>  <dl>       <dt><span class="parameter" style="color:#3A95FF">info_id</span></dt>    <dd>     <span>      调用 <span class="function">{@link socket_wsaprotocol_info_export()}</span> 返回的 ID。     </span>    </dd>     </dl> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-wsaprotocol-info-release-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div>  <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-wsaprotocol-info-release-seealso">  <h3 class="title">参见</h3>  <ul class="simplelist">   <li class="member"><span class="function">{@link socket_wsaprotocol_info_export()} - 导出 WSAPROTOCOL_INFO 结构体</span></li>  </ul> </div> </div>
 * @return bool*/
function socket_wsaprotocol_info_release($info_id) {}

/**
*<div id="function.socket-atmark" class="refentry"> <div class="refnamediv">  <h1 class="refname">socket_atmark</h1>  <p class="verinfo">(PHP 8 &gt;= 8.3.0, PHP 8)</p><p class="refpurpose"><span class="refname">socket_atmark</span> &mdash; <span class="dc-title">确认 socket 是否处于带外数据标记</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.socket-atmark-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>socket_atmark</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.socket.php" class="type Socket" style="color:#EAB766">Socket</a></span> <span class="parameter" style="color:#3A95FF">$socket</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   确认 <span class="parameter" style="color:#3A95FF">socket</span> 是否处于带外数据标记。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.socket-atmark-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">socket</span></dt>     <dd>      <p class="para">       使用 <span class="function">{@link socket_create()}</span> 创建的 <span class="classname"><a href="https://www.php.net/manual/zh/class.socket.php" class="classname">Socket</a></span> 实例。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.socket-atmark-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.socket-atmark-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 使用 <span class="function"><strong style="color:#CC7832">socket_atmark()</strong></span> 设置源地址</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">// 创建新 socket<br /></span><span style="color: #9876AA">$sock </span><span style="color: #007700">= </span><span style="color: #9876AA">socket_create</span><span style="color: #007700">(</span><span style="color: #9876AA">AF_INET</span><span style="color: #007700">, </span><span style="color: #9876AA">SOCK_STREAM</span><span style="color: #007700">, </span><span style="color: #9876AA">SOL_TCP</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">socket_atmark</span><span style="color: #007700">(</span><span style="color: #9876AA">$sock</span><span style="color: #007700">));<br /></span><span style="color: #FF8000">// 关闭<br /></span><span style="color: #9876AA">socket_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$sock</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.socket-atmark-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link socket_connect()} - 开启一个套接字连接</span></li>    <li class="member"><span class="function">{@link socket_create()} - 创建一个套接字（通讯节点）</span></li>   </ul>  </span> </div></div>
*/
function socket_atmark(Socket $socket): bool {}

define('AF_UNIX', 1);
define('AF_INET', 2);

/**
*      只有在编译时加入 IPv6 支持的时候才有效。     
*/
define('AF_INET6', 10);
define('SOCK_STREAM', 1);
define('SOCK_DGRAM', 2);
define('SOCK_RAW', 3);
define('SOCK_SEQPACKET', 5);
define('SOCK_RDM', 4);
define('MSG_OOB', 1);
define('MSG_WAITALL', 256);
define('MSG_CTRUNC', 8);
define('MSG_TRUNC', 32);
define('MSG_PEEK', 2);
define('MSG_DONTROUTE', 4);

/**
*      在 Windows 平台上无效。     
*/
define('MSG_EOR', 128);

/**
*      在 Windows 平台上无效。     
*/
define('MSG_EOF', 512);
define('MSG_CONFIRM', 2048);
define('MSG_ERRQUEUE', 8192);
define('MSG_NOSIGNAL', 16384);
define('MSG_DONTWAIT', 64);
define('MSG_MORE', 32768);
define('MSG_WAITFORONE', 65536);
define('MSG_CMSG_CLOEXEC', 1073741824);
define('SO_DEBUG', 1);
define('SO_REUSEADDR', 2);

/**
*      该常量只在支持 <strong><code>SO_REUSEPORT</code></strong>      socket 选项的平台上可用：这包括 Linux、macOS 和 *BSD，但不包括 Windows。     
*/
define('SO_REUSEPORT', 15);
define('SO_KEEPALIVE', 9);
define('SO_DONTROUTE', 5);
define('SO_LINGER', 13);
define('SO_BROADCAST', 6);
define('SO_OOBINLINE', 10);
define('SO_SNDBUF', 7);
define('SO_RCVBUF', 8);
define('SO_SNDLOWAT', 19);
define('SO_RCVLOWAT', 18);
define('SO_SNDTIMEO', 21);
define('SO_RCVTIMEO', 20);
define('SO_TYPE', 3);
define('SO_ERROR', 4);
define('SO_BINDTODEVICE', 25);
/**
*      自 PHP 8.3.0 起有效（仅 Linux）     
*/
define('SO_ATTACH_REUSEPORT_CBPF', 51);
/**
*      自 PHP 8.3.0 起有效（仅 Linux）     
*/
define('SO_DETACH_FILTER', 27);
/**
*      自 PHP 8.3.0 起有效（仅 Linux）     
*/
define('SO_DETACH_BPF', 27);

define('SOL_SOCKET', 1);
/**
*      自 PHP 8.3.0 起有效     
*/
define('SOL_UDPLITE', 136);
define('SOMAXCONN', 128);
/**
*      从 PHP 8.1.0 开始可用。     
*/
define('SO_MARK', 36);
/**
*      用于禁用 Nagle TCP 算法。     
*/
define('TCP_NODELAY', 1);
define('PHP_NORMAL_READ', 1);
define('PHP_BINARY_READ', 2);
/**
 * Joins a multicast group.
 * @since 5.4
 * @link https://php.net/manual/en/function.socket-get-option.php
 */
define('MCAST_JOIN_GROUP', 42);
/**
 * Leaves a multicast group.
 * @since 5.4
 * @link https://php.net/manual/en/function.socket-get-option.php
 */
define('MCAST_LEAVE_GROUP', 45);
/**
 * Blocks packets arriving from a specific source to a specific multicast group,
 * which must have been previously joined.
 * @since 5.4
 * @link https://php.net/manual/en/function.socket-get-option.php
 */
define('MCAST_BLOCK_SOURCE', 43);
/**
 * Unblocks (start receiving again) packets arriving from
 * a specific source address to a specific multicast group,
 * which must have been previously joined.
 * @since 5.4
 * @link https://php.net/manual/en/function.socket-get-option.php
 */
define('MCAST_UNBLOCK_SOURCE', 44);
/**
 * Receive packets destined to a specific multicast group
 * whose source address matches a specific value.
 * @since 5.4
 * @link https://php.net/manual/en/function.socket-get-option.php
 */
define('MCAST_JOIN_SOURCE_GROUP', 46);
/**
 * Stop receiving packets destined to a specific multicast group
 * whose soure address matches a specific value.
 * @since 5.4
 * @link https://php.net/manual/en/function.socket-get-option.php
 */
define('MCAST_LEAVE_SOURCE_GROUP', 47);
/**
 * The outgoing interface for IPv4 multicast packets.
 * @since 5.4
 * @link https://php.net/manual/en/function.socket-get-option.php
 */
define('IP_MULTICAST_IF', 32);
/**
 * The outgoing interface for IPv6 multicast packets.
 * @since 5.4
 * @link https://php.net/manual/en/function.socket-get-option.php
 */
define('IP_MULTICAST_TTL', 33);
/**
 * The multicast loopback policy for IPv4 packets,
 * which determines whether multicast packets sent by this socket
 * also reach receivers in the same host that have joined the same multicast group
 * on the outgoing interface used by this socket. This is the case by default.
 * @since 5.4
 * @link https://php.net/manual/en/function.socket-get-option.php
 */
define('IP_MULTICAST_LOOP', 34);
/**
 * Analogous to IP_MULTICAST_LOOP, but for IPv6.
 * @since 5.4
 * @link https://php.net/manual/en/function.socket-get-option.php
 */
define('IPV6_MULTICAST_IF', 17);
/**
 * The time-to-live of outgoing IPv4 multicast packets.
 * This should be a value between 0 (don't leave the interface) and 255.
 * The default value is 1 (only the local network is reached).
 * @since 5.4
 * @link https://php.net/manual/en/function.socket-get-option.php
 */
define('IPV6_MULTICAST_HOPS', 18);
/**
 * Analogous to IP_MULTICAST_TTL, but for IPv6 packets.
 * The value -1 is also accepted, meaning the route default should be used.
 * @since 5.4
 * @link https://php.net/manual/en/function.socket-get-option.php
 */
define('IPV6_MULTICAST_LOOP', 19);
define('IPV6_V6ONLY', 26);
define('IP_BIND_ADDRESS_NO_PORT', 24);
define('IP_MTU_DISCOVER', 10);
define('IP_PMTUDISC_DO', 2);
define('IP_PMTUDISC_DONT', 0);
define('IP_PMTUDISC_WANT', 1);
define('IP_PMTUDISC_PROBE', 3);
define('IP_PMTUDISC_INTERFACE', 4);
define('IP_PMTUDISC_OMIT', 5);

/**
*      操作不允许。     
*/
define('SOCKET_EPERM', 1);

/**
*      文件或目录不存在。     
*/
define('SOCKET_ENOENT', 2);

/**
*      中断系统调用。     
*/
define('SOCKET_EINTR', 4);

/**
*      I/O 错误。     
*/
define('SOCKET_EIO', 5);

/**
*      未找到设备或地址。     
*/
define('SOCKET_ENXIO', 6);

/**
*      参数列表太长。     
*/
define('SOCKET_E2BIG', 7);

/**
*      错误的文件描述符编号。     
*/
define('SOCKET_EBADF', 9);

/**
*      请重试。     
*/
define('SOCKET_EAGAIN', 11);

/**
*      内存不足。     
*/
define('SOCKET_ENOMEM', 12);

/**
*      拒绝访问。     
*/
define('SOCKET_EACCES', 13);

/**
*      错误的地址。     
*/
define('SOCKET_EFAULT', 14);

/**
*      需要块设备。     
*/
define('SOCKET_ENOTBLK', 15);

/**
*      设备或资源忙。     
*/
define('SOCKET_EBUSY', 16);

/**
*      文件存在。     
*/
define('SOCKET_EEXIST', 17);

/**
*      跨设备链路。     
*/
define('SOCKET_EXDEV', 18);

/**
*      设备不存在。     
*/
define('SOCKET_ENODEV', 19);

/**
*      非目录。     
*/
define('SOCKET_ENOTDIR', 20);

/**
*      是目录。     
*/
define('SOCKET_EISDIR', 21);

/**
*      无效的参数。     
*/
define('SOCKET_EINVAL', 22);

/**
*      文件表溢出。     
*/
define('SOCKET_ENFILE', 23);

/**
*      打开的文件太多。     
*/
define('SOCKET_EMFILE', 24);

/**
*      在 ioctl 系统调用中指定了无效的 ioctl （I/O 控制）编号。     
*/
define('SOCKET_ENOTTY', 25);

/**
*      设备上没有剩余空间。     
*/
define('SOCKET_ENOSPC', 28);

/**
*      非法查找。     
*/
define('SOCKET_ESPIPE', 29);

/**
*      文件系统只读。     
*/
define('SOCKET_EROFS', 30);

/**
*      链路太多。     
*/
define('SOCKET_EMLINK', 31);

/**
*      管道断开（非正常关闭套接字）。     
*/
define('SOCKET_EPIPE', 32);

/**
*      文件名过长。     
*/
define('SOCKET_ENAMETOOLONG', 36);

/**
*      无可用的记录锁。     
*/
define('SOCKET_ENOLCK', 37);

/**
*      函数未实现。     
*/
define('SOCKET_ENOSYS', 38);

/**
*      目录不为空。     
*/
define('SOCKET_ENOTEMPTY', 39);

/**
*      遇到了太多的符号链接。     
*/
define('SOCKET_ELOOP', 40);

/**
*      操作将阻塞。     
*/
define('SOCKET_EWOULDBLOCK', 11);

/**
*      没有指定的消息类型。     
*/
define('SOCKET_ENOMSG', 42);

/**
*      标识符被删除。     
*/
define('SOCKET_EIDRM', 43);

/**
*      通道数超出范围。     
*/
define('SOCKET_ECHRNG', 44);

/**
*      2 级未同步。     
*/
define('SOCKET_EL2NSYNC', 45);

/**
*      3 级停止。     
*/
define('SOCKET_EL3HLT', 46);

/**
*      3 级重置。     
*/
define('SOCKET_EL3RST', 47);

/**
*      链接数超出范围。     
*/
define('SOCKET_ELNRNG', 48);

/**
*      协议驱动没有安装。     
*/
define('SOCKET_EUNATCH', 49);

/**
*      没有可用的 CSI 结构。     
*/
define('SOCKET_ENOCSI', 50);

/**
*      2 级停止。     
*/
define('SOCKET_EL2HLT', 51);

/**
*      无效的交换。     
*/
define('SOCKET_EBADE', 52);

/**
*      无效的请求描述符。     
*/
define('SOCKET_EBADR', 53);

/**
*      交换满了。     
*/
define('SOCKET_EXFULL', 54);

/**
*      无阳极。     
*/
define('SOCKET_ENOANO', 55);

/**
*      无效的请求代码。     
*/
define('SOCKET_EBADRQC', 56);

/**
*      无效的插槽。     
*/
define('SOCKET_EBADSLT', 57);

/**
*      设备不是流。     
*/
define('SOCKET_ENOSTR', 60);

/**
*      无可用的数据。     
*/
define('SOCKET_ENODATA', 61);

/**
*      计时器过期。     
*/
define('SOCKET_ETIME', 62);

/**
*      流资源不够用。     
*/
define('SOCKET_ENOSR', 63);

/**
*      机器不在网络上。     
*/
define('SOCKET_ENONET', 64);

/**
*      对象是远程。     
*/
define('SOCKET_EREMOTE', 66);

/**
*      链接已被切断。     
*/
define('SOCKET_ENOLINK', 67);

/**
*      通知错误。     
*/
define('SOCKET_EADV', 68);

/**
*      Srmount 错误。     
*/
define('SOCKET_ESRMNT', 69);

/**
*      发送时通信错误。     
*/
define('SOCKET_ECOMM', 70);

/**
*      协议错误。     
*/
define('SOCKET_EPROTO', 71);

/**
*      多跳尝试。     
*/
define('SOCKET_EMULTIHOP', 72);

/**
*      不是一个数据消息。     
*/
define('SOCKET_EBADMSG', 74);

/**
*      名称在网络上不唯一。     
*/
define('SOCKET_ENOTUNIQ', 76);

/**
*      文件描述符处于错误状态。     
*/
define('SOCKET_EBADFD', 77);

/**
*      远程地址改变。     
*/
define('SOCKET_EREMCHG', 78);

/**
*      中断的系统调用应该被重新启动。     
*/
define('SOCKET_ERESTART', 85);

/**
*      流管道错误。     
*/
define('SOCKET_ESTRPIPE', 86);

/**
*      太多用户。     
*/
define('SOCKET_EUSERS', 87);

/**
*      对非套接字进行套接字操作。     
*/
define('SOCKET_ENOTSOCK', 88);

/**
*      需要目标地址。     
*/
define('SOCKET_EDESTADDRREQ', 89);

/**
*      消息太长。     
*/
define('SOCKET_EMSGSIZE', 90);

/**
*      socket 协议类型错误。     
*/
define('SOCKET_EPROTOTYPE', 91);
define('SOCKET_ENOPROTOOPT', 92);

/**
*      不支持的协议。     
*/
define('SOCKET_EPROTONOSUPPORT', 93);

/**
*      不支持的 socket 类型。     
*/
define('SOCKET_ESOCKTNOSUPPORT', 94);

/**
*      传输端点不支持的操作。     
*/
define('SOCKET_EOPNOTSUPP', 95);

/**
*      不支持的协议族。     
*/
define('SOCKET_EPFNOSUPPORT', 96);

/**
*      协议不支持的地址族。     
*/
define('SOCKET_EAFNOSUPPORT', 97);
define('SOCKET_EADDRINUSE', 98);

/**
*      不能分配请求的地址。     
*/
define('SOCKET_EADDRNOTAVAIL', 99);

/**
*      网络中断。     
*/
define('SOCKET_ENETDOWN', 100);

/**
*      网络不可达。     
*/
define('SOCKET_ENETUNREACH', 101);

/**
*      复位，网络掉线。     
*/
define('SOCKET_ENETRESET', 102);

/**
*      软件导致连接中止。     
*/
define('SOCKET_ECONNABORTED', 103);

/**
*      对方重置连接。     
*/
define('SOCKET_ECONNRESET', 104);

/**
*      无可用的缓存区空间。     
*/
define('SOCKET_ENOBUFS', 105);

/**
*      传输端点已经连接。     
*/
define('SOCKET_EISCONN', 106);

/**
*      传输端点未连接。     
*/
define('SOCKET_ENOTCONN', 107);

/**
*      传输端点关闭，无法发送。     
*/
define('SOCKET_ESHUTDOWN', 108);

/**
*      过多的引用：无法接合。     
*/
define('SOCKET_ETOOMANYREFS', 109);

/**
*      连接超时。     
*/
define('SOCKET_ETIMEDOUT', 110);

/**
*      连接被拒绝。     
*/
define('SOCKET_ECONNREFUSED', 111);

/**
*      主机已关闭。     
*/
define('SOCKET_EHOSTDOWN', 112);

/**
*      没有路由到主机。     
*/
define('SOCKET_EHOSTUNREACH', 113);

/**
*      操作已在进行中。     
*/
define('SOCKET_EALREADY', 114);

/**
*      操作正在进行中。     
*/
define('SOCKET_EINPROGRESS', 115);

/**
*      是一个已命名类型的文件。     
*/
define('SOCKET_EISNAM', 120);

/**
*      远程 I/O 错误。     
*/
define('SOCKET_EREMOTEIO', 121);

/**
*      超过配额。     
*/
define('SOCKET_EDQUOT', 122);

/**
*      未找到媒介。     
*/
define('SOCKET_ENOMEDIUM', 123);

/**
*      错误的媒介类型。     
*/
define('SOCKET_EMEDIUMTYPE', 124);
define('IPPROTO_IP', 0);
define('IPPROTO_IPV6', 41);
define('SOL_TCP', 6);
define('SOL_UDP', 17);
define('IPV6_UNICAST_HOPS', 16);
define('IPV6_RECVPKTINFO', 49);
define('IPV6_PKTINFO', 50);
define('IPV6_RECVHOPLIMIT', 51);
define('IPV6_HOPLIMIT', 52);
define('IPV6_RECVTCLASS', 66);
define('IPV6_TCLASS', 67);
/**
*      发送或接收一组来自另一个进程打开的文件描述符。     
*/
define('SCM_RIGHTS', 1);
define('SCM_CREDENTIALS', 2);
define('SO_PASSCRED', 16);

define('SOCKET_EPROCLIM', 10067);
define('SOCKET_ESTALE', 10070);
define('SOCKET_EDISCON', 10101);
define('SOCKET_SYSNOTREADY', 10091);
define('SOCKET_VERNOTSUPPORTED', 10092);
define('SOCKET_NOTINITIALISED', 10093);
define('SOCKET_HOST_NOT_FOUND', 11001);
define('SOCKET_TRY_AGAIN', 11002);
define('SOCKET_NO_RECOVERY', 11003);
define('SOCKET_NO_DATA', 11004);
define('SOCKET_NO_ADDRESS', 11004);

define('AI_PASSIVE', 1);
define('AI_CANONNAME', 2);
define('AI_NUMERICHOST', 4);
define('AI_ADDRCONFIG', 32);
define('AI_NUMERICSERV', 1024);
define('AI_V4MAPPED', 8);
define('AI_ALL', 16);

/**
*      从 PHP 8.1.0 开始可用。     
*/
define('TCP_DEFER_ACCEPT', 9);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SO_INCOMING_CPU', 49);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SO_MEMINFO', 55);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SO_BPF_EXTENSIONS', 48);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_OFF', -4096);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_PROTOCOL', 0);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_PKTTYPE', 4);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_IFINDEX', 8);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_NLATTR', 12);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_NLATTR_NEST', 16);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_MARK', 20);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_QUEUE', 24);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_HATYPE', 28);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_RXHASH', 32);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_CPU', 36);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_ALU_XOR_X', 40);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_VLAN_TAG', 44);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_VLAN_TAG_PRESENT', 48);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_PAY_OFFSET', 52);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_RANDOM', 56);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_VLAN_TPID', 60);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SKF_AD_MAX', 64);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('TCP_CONGESTION', 13);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('TCP_NOTSENT_LOWAT', 25);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('TCP_KEEPIDLE', 4);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('TCP_KEEPINTVL', 5);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('TCP_KEEPCNT', 6);

/**
 * @since 8.3
 */
define('TCP_QUICKACK', 12);

/**
 * @since 8.3
 */
define('TCP_REPAIR', 19);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('SO_ZEROCOPY', 60);

/**
*      从 PHP 8.2.0 起可用。     
*/
define('MSG_ZEROCOPY', 67108864);

/**
*<div id="class.socket" class="reference"> <h1 class="title">Socket 类</h1>  <div class="partintro"><p class="verinfo">(PHP 8)</p>    <div class="section" id="socket.intro">   <h2 class="title">简介</h2>   <p class="para">    从 PHP 8.0.0 开始替换 <span>Socket</span> 资源的完全不透明类。   </p>  </div>    <div class="section" id="socket.synopsis">   <h2 class="title">类摘要</h2>   <div class="classsynopsis"><div class="classsynopsisinfo">         <span class="modifier">final</span>     <span class="modifier">class</span> <strong class="classname"><strong class="classname">Socket</strong></strong>     {</div>   }</div>  </div> </div> </div>
*/
final class Socket
{
    /**
     * Cannot directly construct Socket, use socket_create() instead
     * @see socket_create()
     */
    private function __construct() {}
}

/**
*<div id="class.addressinfo" class="reference"> <h1 class="title">AddressInfo 类</h1>  <div class="partintro"><p class="verinfo">(PHP 8)</p>    <div class="section" id="addressinfo.intro">   <h2 class="title">简介</h2>   <p class="para">    从 PHP 8.0.0 开始替换 <span>AddressInfo</span> 资源的完全不透明类。   </p>  </div>    <div class="section" id="addressinfo.synopsis">   <h2 class="title">类摘要</h2>   <div class="classsynopsis"><div class="classsynopsisinfo">         <span class="modifier">final</span>     <span class="modifier">class</span> <strong class="classname"><strong class="classname">AddressInfo</strong></strong>     {</div>   }</div>  </div> </div> </div>
*/
final class AddressInfo
{
    /**
     * Cannot directly construct AddressInfo, use socket_addrinfo_lookup() instead
     * @see socket_addrinfo_lookup()
     */
    private function __construct() {}
}
