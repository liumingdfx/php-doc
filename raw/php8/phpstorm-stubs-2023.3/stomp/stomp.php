<?php
/**
*<div id="class.stomp" class="reference"> <h1 class="title">The Stomp class</h1>  <div class="partintro"><p class="verinfo">(PECL stomp &gt;= 0.1.0)</p>  <div class="section" id="stomp.intro">   <h2 class="title">简介</h2>   <p class="para">Represents a connection between PHP and a Stomp compliant Message Broker.   </p>  </div>  <div class="section" id="stomp.synopsis">   <h2 class="title">类摘要</h2>   <div class="classsynopsis">    <span class="ooclass"><strong class="classname"></strong></span>    <div class="classsynopsisinfo">     <span class="ooclass">      <span class="modifier">class</span> <strong class="classname">Stomp</strong>     </span>     {</div>        <div class="classsynopsisinfo classsynopsisinfo_comment">// 方法 </div>    <div class="constructorsynopsis dc-description">    <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.construct.php" class="methodname" style="color:#CC7832">__construct</a></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$broker</span><span class="initializer"> = ini_get(&quot;stomp.default_broker_uri&quot;)</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$username</span><span class="initializer"> = ?</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$password</span><span class="initializer"> = ?</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span><br>)</div>    <div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.abort.php" class="methodname" style="color:#CC7832">abort</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$transaction_id</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_abort</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$transaction_id</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.ack.php" class="methodname" style="color:#CC7832">ack</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$msg</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_ack</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$msg</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.begin.php" class="methodname" style="color:#CC7832">begin</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$transaction_id</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_begin</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$transaction_id</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.commit.php" class="methodname" style="color:#CC7832">commit</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$transaction_id</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_commit</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$transaction_id</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_connect</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$broker</span><span class="initializer"> = ini_get(&quot;stomp.default_broker_uri&quot;)</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$username</span><span class="initializer"> = ?</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$password</span><span class="initializer"> = ?</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span><br>): <span class="type" style="color:#EAB766">resource</span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_close</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.error.php" class="methodname" style="color:#CC7832">error</a></span>(): <span class="type" style="color:#EAB766">string</span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_error</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>): <span class="type" style="color:#EAB766">string</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.getreadtimeout.php" class="methodname" style="color:#CC7832">getReadTimeout</a></span>(): <span class="type" style="color:#EAB766">array</span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_get_read_timeout</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>): <span class="type" style="color:#EAB766">array</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.getsessionid.php" class="methodname" style="color:#CC7832">getSessionId</a></span>(): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_get_session_id</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.hasframe.php" class="methodname" style="color:#CC7832">hasFrame</a></span>(): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_has_frame</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.readframe.php" class="methodname" style="color:#CC7832">readFrame</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$class_name</span><span class="initializer"> = &quot;stompFrame&quot;</span></span>): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.stompframe.php" class="type stompframe" style="color:#EAB766">stompframe</a></span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_read_frame</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>): <span class="type" style="color:#EAB766">array</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.send.php" class="methodname" style="color:#CC7832">send</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$destination</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$msg</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_send</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$destination</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$msg</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span><br>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.setreadtimeout.php" class="methodname" style="color:#CC7832">setReadTimeout</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$seconds</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$microseconds</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_set_read_timeout</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$seconds</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$microseconds</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.subscribe.php" class="methodname" style="color:#CC7832">subscribe</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$destination</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_subscribe</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$destination</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.unsubscribe.php" class="methodname" style="color:#CC7832">unsubscribe</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$destination</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div><div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_unsubscribe</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$destination</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div>    <div class="destructorsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.destruct.php" class="methodname" style="color:#CC7832">__destruct</a></span>()</div>   }</div>  </div> </div> <h2>目录</h2><ul class="chunklist chunklist_reference"><li>{@link Stomp::abort} — Rolls back a transaction in progress</li><li>{@link Stomp::ack} — Acknowledges consumption of a message</li><li>{@link Stomp::begin} — Starts a transaction</li><li>{@link Stomp::commit} — Commits a transaction in progress</li><li>{@link Stomp::__construct} — 打开连接</li><li>{@link Stomp::__destruct} — Closes stomp connection</li><li>{@link Stomp::error} — Gets the last stomp error</li><li>{@link Stomp::getReadTimeout} — Gets read timeout</li><li>{@link Stomp::getSessionId} — Gets the current stomp session ID</li><li>{@link Stomp::hasFrame} — Indicates whether or not there is a frame ready to read</li><li>{@link Stomp::readFrame} — Reads the next frame</li><li>{@link Stomp::send} — Sends a message</li><li>{@link Stomp::setReadTimeout} — Sets read timeout</li><li>{@link Stomp::subscribe} — Registers to listen to a given destination</li><li>{@link Stomp::unsubscribe} — Removes an existing subscription</li></ul></div>
*/
class Stomp
{
    /**
     * Connect to server
     *
     * @param string $broker The broker URI
     * @param string $username The username
     * @param string $password The password
     * @param array  $headers additional headers (example: receipt).
     */
    public function __construct($broker = null, $username = null, $password = null, array $headers = []) {}

/**
*<div id="stomp.getsessionid" class="refentry"> <div class="refnamediv">  <h1 class="refname">Stomp::getSessionId</h1>  <h1 class="refname">stomp_get_session_id</h1>  <p class="verinfo">(PECL stomp &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">Stomp::getSessionId</span> -- <span class="refname">stomp_get_session_id</span> &mdash; <span class="dc-title">Gets the current stomp session ID</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-stomp.getsessionid-description">  <h3 class="title">说明</h3>  <p class="para">面向对象风格 (method):</p>   <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Stomp::getSessionId</strong></span>(): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">过程化风格:</p>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_get_session_id</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">string</span>|<span class="type" style="color:#EAB766"><span class="type false" style="color:#EAB766">false</span></span></span></div>  <p class="para rdfs-comment">   Gets the current stomp session ID.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-stomp.getsessionid-parameters">  <h3 class="title">参数</h3>  <span>   <dl>    <dt><span class="parameter" style="color:#3A95FF">link</span></dt><dd><p class="para">仅对过程化样式：由 <span class="function"><a href="https://www.php.net/manual/zh/stomp.construct.php" class="function">stomp_connect()</a></span> 返回的 stomp 连接标识符。</p></dd>   </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-stomp.getsessionid-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">    <span class="type" style="color:#EAB766">string</span> session id on success 或者在失败时返回 <strong><span>false</span></strong>.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-stomp.getsessionid-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 面向对象风格</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">// connection <br /></span><span style="color: #007700">try {<br />    </span><span style="color: #9876AA">$stomp </span><span style="color: #007700">= new </span><span style="color: #9876AA">Stomp</span><span style="color: #007700">(</span><span style="color: #DD0000">'tcp://localhost:61613'</span><span style="color: #007700">);<br />} catch(</span><span style="color: #9876AA">StompException $e</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Connection failed: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">$e</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getMessage</span><span style="color: #007700">());<br />}<br /><br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getSessionId</span><span style="color: #007700">());<br /><br /></span><span style="color: #FF8000">// close connection <br /></span><span style="color: #007700">unset(</span><span style="color: #9876AA">$stomp</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>     <div class="example-contents"><p>以上示例的输出类似于：</p></div>     <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>string(35) &quot;ID:php.net-52873-1257291895530-4:14&quot;<br></span></div>    </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 过程化风格</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">// connection <br /></span><span style="color: #9876AA">$link </span><span style="color: #007700">= </span><span style="color: #9876AA">stomp_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'ssl://localhost:61612'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// check connection <br /></span><span style="color: #007700">if (!</span><span style="color: #9876AA">$link</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Connection failed: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">stomp_connect_error</span><span style="color: #007700">());<br />}<br /><br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">stomp_get_session_id</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">// close connection <br /></span><span style="color: #9876AA">stomp_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>     <div class="example-contents"><p>以上示例的输出类似于：</p></div>     <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>string(35) &quot;ID:php.net-52873-1257291895530-4:14&quot;<br></span></div>    </div>   </div>  </p> </div></div>
     * @return string|false stomp session ID if it exists, or FALSE otherwise*/
    public function getSessionId() {}

    /**
     * Close stomp connection
     *
     * @return bool TRUE on success, or FALSE on failure
     */
    public function disconnect() {}

/**
*<div id="stomp.send" class="refentry"> <div class="refnamediv">  <h1 class="refname">Stomp::send</h1>  <h1 class="refname">stomp_send</h1>  <p class="verinfo">(PECL stomp &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">Stomp::send</span> -- <span class="refname">stomp_send</span> &mdash; <span class="dc-title">Sends a message</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-stomp.send-description">  <h3 class="title">说明</h3>  <p class="para">面向对象风格 (method):</p>   <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Stomp::send</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$destination</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$msg</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">过程化风格:</p>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_send</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$destination</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$msg</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span><br>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   Sends a message to the Message Broker.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-stomp.send-parameters">  <h3 class="title">参数</h3>  <span>   <dl>    <dt><span class="parameter" style="color:#3A95FF">link</span></dt><dd><p class="para">仅对过程化样式：由 <span class="function"><a href="https://www.php.net/manual/zh/stomp.construct.php" class="function">stomp_connect()</a></span> 返回的 stomp 连接标识符。</p></dd>         <dt><span class="parameter" style="color:#3A95FF">destination</span></dt>     <dd>      <p class="para">       Where to send the message          </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">msg</span></dt>     <dd>      <p class="para">       Message to send.      </p>     </dd>        <dt><span class="parameter" style="color:#3A95FF">headers</span></dt><dd><p class="para">关联数组包含附加的头信息（例如： receipt）。</p></dd>   </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-stomp.send-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。   </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-stomp.send-examples">  <h3 class="title">示例</h3>  <span>   See <span class="function"><a href="https://www.php.net/manual/zh/stomp.ack.php" class="function">stomp_ack()</a></span>.  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-stomp.send-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>: <p class="para">A transaction header may be specified, indicating that the message acknowledgment should be part of the named transaction.</p></p></blockquote>  <div class="tip"><strong class="tip">小技巧</strong><p class="simpara">Stomp is inherently asynchronous. Synchronous communication can be implemented adding a receipt header. This will cause methods to not return anything until the server has acknowledged receipt of the message or until read timeout was reached.</p></div> </div></div>
     * @return bool TRUE on success, or FALSE on failure*/
    public function send($destination, $msg, array $headers = []) {}

/**
*<div id="stomp.subscribe" class="refentry"> <div class="refnamediv">  <h1 class="refname">Stomp::subscribe</h1>  <h1 class="refname">stomp_subscribe</h1>  <p class="verinfo">(PECL stomp &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">Stomp::subscribe</span> -- <span class="refname">stomp_subscribe</span> &mdash; <span class="dc-title">Registers to listen to a given destination</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-stomp.subscribe-description">  <h3 class="title">说明</h3>  <p class="para">面向对象风格 (method):</p>   <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Stomp::subscribe</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$destination</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">过程化风格:</p>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_subscribe</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$destination</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   Registers to listen to a given destination.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-stomp.subscribe-parameters">  <h3 class="title">参数</h3>  <span>   <dl>    <dt><span class="parameter" style="color:#3A95FF">link</span></dt><dd><p class="para">仅对过程化样式：由 <span class="function"><a href="https://www.php.net/manual/zh/stomp.construct.php" class="function">stomp_connect()</a></span> 返回的 stomp 连接标识符。</p></dd>         <dt><span class="parameter" style="color:#3A95FF">destination</span></dt>     <dd>      <p class="para">       Destination to subscribe to.       </p>     </dd>        <dt><span class="parameter" style="color:#3A95FF">headers</span></dt><dd><p class="para">关联数组包含附加的头信息（例如： receipt）。</p></dd>   </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-stomp.subscribe-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-stomp.subscribe-examples">  <h3 class="title">示例</h3>  <span>   See <span class="function"><a href="https://www.php.net/manual/zh/stomp.ack.php" class="function">stomp_ack()</a></span>.  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-stomp.subscribe-notes">  <h3 class="title">注释</h3>  <div class="tip"><strong class="tip">小技巧</strong><p class="simpara">Stomp is inherently asynchronous. Synchronous communication can be implemented adding a receipt header. This will cause methods to not return anything until the server has acknowledged receipt of the message or until read timeout was reached.</p></div> </div></div>
     * @return bool TRUE on success, or FALSE on failure*/
    public function subscribe($destination, array $headers = []) {}

/**
*<div id="stomp.unsubscribe" class="refentry"> <div class="refnamediv">  <h1 class="refname">Stomp::unsubscribe</h1>  <h1 class="refname">stomp_unsubscribe</h1>  <p class="verinfo">(PECL stomp &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">Stomp::unsubscribe</span> -- <span class="refname">stomp_unsubscribe</span> &mdash; <span class="dc-title">Removes an existing subscription</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-stomp.unsubscribe-description">  <h3 class="title">说明</h3>  <p class="para">面向对象风格 (method):</p>   <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Stomp::unsubscribe</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$destination</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">过程化风格:</p>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_unsubscribe</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$destination</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   Removes an existing subscription.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-stomp.unsubscribe-parameters">  <h3 class="title">参数</h3>  <span>   <dl>    <dt><span class="parameter" style="color:#3A95FF">link</span></dt><dd><p class="para">仅对过程化样式：由 <span class="function"><a href="https://www.php.net/manual/zh/stomp.construct.php" class="function">stomp_connect()</a></span> 返回的 stomp 连接标识符。</p></dd>         <dt><span class="parameter" style="color:#3A95FF">destination</span></dt>     <dd>      <p class="para">       Subscription to remove.      </p>     </dd>        <dt><span class="parameter" style="color:#3A95FF">headers</span></dt><dd><p class="para">关联数组包含附加的头信息（例如： receipt）。</p></dd>   </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-stomp.unsubscribe-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-stomp.unsubscribe-examples">  <h3 class="title">示例</h3>  <span>   See <span class="function"><a href="https://www.php.net/manual/zh/stomp.ack.php" class="function">stomp_ack()</a></span>.  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-stomp.unsubscribe-notes">  <h3 class="title">注释</h3>  <div class="tip"><strong class="tip">小技巧</strong><p class="simpara">Stomp is inherently asynchronous. Synchronous communication can be implemented adding a receipt header. This will cause methods to not return anything until the server has acknowledged receipt of the message or until read timeout was reached.</p></div> </div></div>
     * @return bool TRUE on success, or FALSE on failure*/
    public function unsubscribe($destination, array $headers = []) {}

/**
*<div id="stomp.hasframe" class="refentry"> <div class="refnamediv">  <h1 class="refname">Stomp::hasFrame</h1>  <h1 class="refname">stomp_has_frame</h1>  <p class="verinfo">(PECL stomp &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">Stomp::hasFrame</span> -- <span class="refname">stomp_has_frame</span> &mdash; <span class="dc-title">Indicates whether or not there is a frame ready to read</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-stomp.hasframe-description">  <h3 class="title">说明</h3>  <p class="para">面向对象风格 (method):</p>   <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Stomp::hasFrame</strong></span>(): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">过程化风格:</p>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_has_frame</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   Indicates whether or not there is a frame ready to read.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-stomp.hasframe-parameters">  <h3 class="title">参数</h3>  <span>   <dl>    <dt><span class="parameter" style="color:#3A95FF">link</span></dt><dd><p class="para">仅对过程化样式：由 <span class="function"><a href="https://www.php.net/manual/zh/stomp.construct.php" class="function">stomp_connect()</a></span> 返回的 stomp 连接标识符。</p></dd>   </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-stomp.hasframe-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   Returns <strong><span>true</span></strong> if a frame is ready to read, or <strong><span>false</span></strong> otherwise.  </p> </div></div>
     * @return bool TRUE if there is one, or FALSE otherwise*/
    public function hasFrame() {}

/**
*<div id="stomp.readframe" class="refentry"> <div class="refnamediv">  <h1 class="refname">Stomp::readFrame</h1>  <h1 class="refname">stomp_read_frame</h1>  <p class="verinfo">(PECL stomp &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">Stomp::readFrame</span> -- <span class="refname">stomp_read_frame</span> &mdash; <span class="dc-title">Reads the next frame</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-stomp.readframe-description">  <h3 class="title">说明</h3>  <p class="para">面向对象风格 (method):</p>   <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Stomp::readFrame</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$class_name</span><span class="initializer"> = &quot;stompFrame&quot;</span></span>): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.stompframe.php" class="type stompframe" style="color:#EAB766">stompframe</a></span></div>  <p class="para rdfs-comment">过程化风格:</p>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_read_frame</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>): <span class="type" style="color:#EAB766">array</span></div>  <p class="para rdfs-comment">   Reads the next frame. It is possible to instantiate an object of a specific class, and pass parameters to that class&#039;s constructor.   </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-stomp.readframe-parameters">  <h3 class="title">参数</h3>  <span>   <dl>    <dt><span class="parameter" style="color:#3A95FF">link</span></dt><dd><p class="para">仅对过程化样式：由 <span class="function"><a href="https://www.php.net/manual/zh/stomp.construct.php" class="function">stomp_connect()</a></span> 返回的 stomp 连接标识符。</p></dd>         <dt><span class="parameter" style="color:#3A95FF">class_name</span></dt>     <dd>      <p class="para">        The name of the class to instantiate. If not specified, a stompFrame object is returned.      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-stomp.readframe-returnvalues">  <h3 class="title">返回值</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>: <p class="para">A transaction header may be specified, indicating that the message acknowledgment should be part of the named transaction.</p></p></blockquote> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 changelog" id="refsect1-stomp.readframe-changelog">  <h3 class="title">更新日志</h3>  <span>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>     </thead>     <tbody class="tbody">      <tr>       <td>Stomp 0.4.0</td>       <td>        <span class="parameter" style="color:#3A95FF">class_name</span> parameter was added.       </td>      </tr>     </tbody>       </table>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-stomp.readframe-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 面向对象风格</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">// connection <br /></span><span style="color: #007700">try {<br />    </span><span style="color: #9876AA">$stomp </span><span style="color: #007700">= new </span><span style="color: #9876AA">Stomp</span><span style="color: #007700">(</span><span style="color: #DD0000">'tcp://localhost:61613'</span><span style="color: #007700">);<br />} catch(</span><span style="color: #9876AA">StompException $e</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Connection failed: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">$e</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getMessage</span><span style="color: #007700">());<br />}<br /><br /></span><span style="color: #FF8000">// subscribe to messages from the queue 'foo' <br /></span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">subscribe</span><span style="color: #007700">(</span><span style="color: #DD0000">'/queue/foo'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// read a frame <br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">readFrame</span><span style="color: #007700">());<br /><br /></span><span style="color: #FF8000">// close connection <br /></span><span style="color: #007700">unset(</span><span style="color: #9876AA">$stomp</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>     <div class="example-contents"><p>以上示例的输出类似于：</p></div>     <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>object(StompFrame)#2 (3) {<br>  [&quot;command&quot;]=&gt;<br>  string(7) &quot;MESSAGE&quot;<br>  [&quot;headers&quot;]=&gt;<br>  array(5) {<br>    [&quot;message-id&quot;]=&gt;<br>    string(41) &quot;ID:php.net-55293-1257226743606-4:2:-1:1:1&quot;<br>    [&quot;destination&quot;]=&gt;<br>    string(10) &quot;/queue/foo&quot;<br>    [&quot;timestamp&quot;]=&gt;<br>    string(13) &quot;1257226805828&quot;<br>    [&quot;expires&quot;]=&gt;<br>    string(1) &quot;0&quot;<br>    [&quot;priority&quot;]=&gt;<br>    string(1) &quot;0&quot;<br>  }<br>  [&quot;body&quot;]=&gt;<br>  string(3) &quot;bar&quot;<br>}<br></span></div>    </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 过程化风格</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">// connection <br /></span><span style="color: #9876AA">$link </span><span style="color: #007700">= </span><span style="color: #9876AA">stomp_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'ssl://localhost:61612'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// check connection <br /></span><span style="color: #007700">if (!</span><span style="color: #9876AA">$link</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Connection failed: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">stomp_connect_error</span><span style="color: #007700">());<br />}<br /><br /></span><span style="color: #FF8000">// subscribe to messages from the queue 'foo' <br /></span><span style="color: #9876AA">stomp_subscribe</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">, </span><span style="color: #DD0000">'/queue/foo'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// read a frame <br /></span><span style="color: #9876AA">$frame </span><span style="color: #007700">= </span><span style="color: #9876AA">stomp_read_frame</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// close connection <br /></span><span style="color: #9876AA">stomp_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>     <div class="example-contents"><p>以上示例的输出类似于：</p></div>     <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>array(3) {<br>  [&quot;command&quot;]=&gt;<br>  string(7) &quot;MESSAGE&quot;<br>  [&quot;body&quot;]=&gt;<br>  string(3) &quot;bar&quot;<br>  [&quot;headers&quot;]=&gt;<br>  array(6) {<br>    [&quot;transaction&quot;]=&gt;<br>    string(2) &quot;t1&quot;<br>    [&quot;message-id&quot;]=&gt;<br>    string(41) &quot;ID:php.net-55293-1257226743606-4:3:-1:1:1&quot;<br>    [&quot;destination&quot;]=&gt;<br>    string(10) &quot;/queue/foo&quot;<br>    [&quot;timestamp&quot;]=&gt;<br>    string(13) &quot;1257227037059&quot;<br>    [&quot;expires&quot;]=&gt;<br>    string(1) &quot;0&quot;<br>    [&quot;priority&quot;]=&gt;<br>    string(1) &quot;0&quot;<br>  }<br>}<br></span></div>    </div>   </div>  </p> </div></div>
     * @return object|false on success, or FALSE on failure*/
    public function readFrame($className = 'stompFrame') {}

/**
*<div id="stomp.begin" class="refentry"> <div class="refnamediv">  <h1 class="refname">Stomp::begin</h1>  <h1 class="refname">stomp_begin</h1>  <p class="verinfo">(PECL stomp &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">Stomp::begin</span> -- <span class="refname">stomp_begin</span> &mdash; <span class="dc-title">Starts a transaction</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-stomp.begin-description">  <h3 class="title">说明</h3>  <p class="para">面向对象风格 (method):</p>   <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Stomp::begin</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$transaction_id</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">过程化风格:</p>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_begin</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$transaction_id</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   Starts a transaction.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-stomp.begin-parameters">  <h3 class="title">参数</h3>  <span>   <dl>    <dt><span class="parameter" style="color:#3A95FF">link</span></dt><dd><p class="para">仅对过程化样式：由 <span class="function"><a href="https://www.php.net/manual/zh/stomp.construct.php" class="function">stomp_connect()</a></span> 返回的 stomp 连接标识符。</p></dd>         <dt><span class="parameter" style="color:#3A95FF">transaction_id</span></dt>     <dd>      <p class="para">       The transaction id.           </p>     </dd>        <dt><span class="parameter" style="color:#3A95FF">headers</span></dt><dd><p class="para">关联数组包含附加的头信息（例如： receipt）。</p></dd>   </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-stomp.begin-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-stomp.begin-examples">  <h3 class="title">示例</h3>  <span>   See <span class="function"><a href="https://www.php.net/manual/zh/stomp.commit.php" class="function">stomp_commit()</a></span> or <span class="function"><a href="https://www.php.net/manual/zh/stomp.abort.php" class="function">stomp_abort()</a></span>.  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-stomp.begin-notes">  <h3 class="title">注释</h3>  <div class="tip"><strong class="tip">小技巧</strong><p class="simpara">Stomp is inherently asynchronous. Synchronous communication can be implemented adding a receipt header. This will cause methods to not return anything until the server has acknowledged receipt of the message or until read timeout was reached.</p></div> </div></div>
     * @return bool TRUE on success, or FALSE on failure*/
    public function begin($transaction_id) {}

/**
*<div id="stomp.commit" class="refentry"> <div class="refnamediv">  <h1 class="refname">Stomp::commit</h1>  <h1 class="refname">stomp_commit</h1>  <p class="verinfo">(PECL stomp &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">Stomp::commit</span> -- <span class="refname">stomp_commit</span> &mdash; <span class="dc-title">Commits a transaction in progress</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-stomp.commit-description">  <h3 class="title">说明</h3>  <p class="para">面向对象风格 (method):</p>   <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Stomp::commit</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$transaction_id</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">过程化风格:</p>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_commit</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$transaction_id</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   Commits a transaction in progress.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-stomp.commit-parameters">  <h3 class="title">参数</h3>  <span>   <dl>    <dt><span class="parameter" style="color:#3A95FF">link</span></dt><dd><p class="para">仅对过程化样式：由 <span class="function"><a href="https://www.php.net/manual/zh/stomp.construct.php" class="function">stomp_connect()</a></span> 返回的 stomp 连接标识符。</p></dd>         <dt><span class="parameter" style="color:#3A95FF">transaction_id</span></dt>     <dd>      <p class="para">       The transaction id.       </p>     </dd>        <dt><span class="parameter" style="color:#3A95FF">headers</span></dt><dd><p class="para">关联数组包含附加的头信息（例如： receipt）。</p></dd>   </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-stomp.commit-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-stomp.commit-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 面向对象风格</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">// connection <br /></span><span style="color: #007700">try {<br />    </span><span style="color: #9876AA">$stomp </span><span style="color: #007700">= new </span><span style="color: #9876AA">Stomp</span><span style="color: #007700">(</span><span style="color: #DD0000">'tcp://localhost:61613'</span><span style="color: #007700">);<br />} catch(</span><span style="color: #9876AA">StompException $e</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Connection failed: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">$e</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getMessage</span><span style="color: #007700">());<br />}<br /><br /></span><span style="color: #FF8000">// begin a transaction <br /></span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">begin</span><span style="color: #007700">(</span><span style="color: #DD0000">'t1'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// send a message to the queue <br /></span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">send</span><span style="color: #007700">(</span><span style="color: #DD0000">'/queue/foo'</span><span style="color: #007700">, </span><span style="color: #DD0000">'bar'</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'transaction' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'t1'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">// commit <br /></span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">commit</span><span style="color: #007700">(</span><span style="color: #DD0000">'t1'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// close connection <br /></span><span style="color: #007700">unset(</span><span style="color: #9876AA">$stomp</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 过程化风格</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">// connection <br /></span><span style="color: #9876AA">$link </span><span style="color: #007700">= </span><span style="color: #9876AA">stomp_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'tcp://localhost:61613'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// check connection <br /></span><span style="color: #007700">if (!</span><span style="color: #9876AA">$link</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Connection failed: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">stomp_connect_error</span><span style="color: #007700">());<br />}<br /><br /></span><span style="color: #FF8000">// begin a transaction <br /></span><span style="color: #9876AA">stomp_begin</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">, </span><span style="color: #DD0000">'t1'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// send a message to the queue 'foo' <br /></span><span style="color: #9876AA">stomp_send</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">, </span><span style="color: #DD0000">'/queue/foo'</span><span style="color: #007700">, </span><span style="color: #DD0000">'bar'</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'transaction' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'t1'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">// commit <br /></span><span style="color: #9876AA">stomp_commit</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">, </span><span style="color: #DD0000">'t1'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// close connection <br /></span><span style="color: #9876AA">stomp_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>   </div>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-stomp.commit-notes">  <h3 class="title">注释</h3>  <div class="tip"><strong class="tip">小技巧</strong><p class="simpara">Stomp is inherently asynchronous. Synchronous communication can be implemented adding a receipt header. This will cause methods to not return anything until the server has acknowledged receipt of the message or until read timeout was reached.</p></div> </div></div>
     * @return bool TRUE on success, or FALSE on failure*/
    public function commit($transaction_id) {}

/**
*<div id="stomp.abort" class="refentry"> <div class="refnamediv">  <h1 class="refname">Stomp::abort</h1>  <h1 class="refname">stomp_abort</h1>  <p class="verinfo">(PECL stomp &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">Stomp::abort</span> -- <span class="refname">stomp_abort</span> &mdash; <span class="dc-title">Rolls back a transaction in progress</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-stomp.abort-description">  <h3 class="title">说明</h3>  <p class="para">面向对象风格 (method):</p>   <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Stomp::abort</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$transaction_id</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">过程化风格:</p>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_abort</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$transaction_id</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   Rolls back a transaction in progress.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-stomp.abort-parameters">  <h3 class="title">参数</h3>  <span>   <dl>    <dt><span class="parameter" style="color:#3A95FF">link</span></dt><dd><p class="para">仅对过程化样式：由 <span class="function"><a href="https://www.php.net/manual/zh/stomp.construct.php" class="function">stomp_connect()</a></span> 返回的 stomp 连接标识符。</p></dd>         <dt><span class="parameter" style="color:#3A95FF">transaction_id</span></dt>     <dd>      <p class="para">       The transaction to abort.      </p>     </dd>        <dt><span class="parameter" style="color:#3A95FF">headers</span></dt><dd><p class="para">关联数组包含附加的头信息（例如： receipt）。</p></dd>   </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-stomp.abort-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-stomp.abort-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 面向对象风格</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">// connection <br /></span><span style="color: #007700">try {<br />    </span><span style="color: #9876AA">$stomp </span><span style="color: #007700">= new </span><span style="color: #9876AA">Stomp</span><span style="color: #007700">(</span><span style="color: #DD0000">'tcp://localhost:61613'</span><span style="color: #007700">);<br />} catch(</span><span style="color: #9876AA">StompException $e</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Connection failed: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">$e</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getMessage</span><span style="color: #007700">());<br />}<br /><br /></span><span style="color: #FF8000">// begin a transaction <br /></span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">begin</span><span style="color: #007700">(</span><span style="color: #DD0000">'t1'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// send a message to the queue <br /></span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">send</span><span style="color: #007700">(</span><span style="color: #DD0000">'/queue/foo'</span><span style="color: #007700">, </span><span style="color: #DD0000">'bar'</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'transaction' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'t1'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">// rollback <br /></span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">abort</span><span style="color: #007700">(</span><span style="color: #DD0000">'t1'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// close connection <br /></span><span style="color: #007700">unset(</span><span style="color: #9876AA">$stomp</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 过程化风格</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">// connection <br /></span><span style="color: #9876AA">$link </span><span style="color: #007700">= </span><span style="color: #9876AA">stomp_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'tcp://localhost:61613'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// check connection <br /></span><span style="color: #007700">if (!</span><span style="color: #9876AA">$link</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Connection failed: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">stomp_connect_error</span><span style="color: #007700">());<br />}<br /><br /></span><span style="color: #FF8000">// begin a transaction <br /></span><span style="color: #9876AA">stomp_begin</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">, </span><span style="color: #DD0000">'t1'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// send a message to the queue 'foo' <br /></span><span style="color: #9876AA">stomp_send</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">, </span><span style="color: #DD0000">'/queue/foo'</span><span style="color: #007700">, </span><span style="color: #DD0000">'bar'</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'transaction' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'t1'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">// rollback <br /></span><span style="color: #9876AA">stomp_abort</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">, </span><span style="color: #DD0000">'t1'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// close connection <br /></span><span style="color: #9876AA">stomp_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>   </div>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-stomp.abort-notes">  <h3 class="title">注释</h3>  <div class="tip"><strong class="tip">小技巧</strong><p class="simpara">Stomp is inherently asynchronous. Synchronous communication can be implemented adding a receipt header. This will cause methods to not return anything until the server has acknowledged receipt of the message or until read timeout was reached.</p></div> </div></div>
     * @return bool TRUE on success, or FALSE on failure*/
    public function abort($transaction_id) {}

/**
*<div id="stomp.ack" class="refentry"> <div class="refnamediv">  <h1 class="refname">Stomp::ack</h1>  <h1 class="refname">stomp_ack</h1>  <p class="verinfo">(PECL stomp &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">Stomp::ack</span> -- <span class="refname">stomp_ack</span> &mdash; <span class="dc-title">Acknowledges consumption of a message</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-stomp.ack-description">  <h3 class="title">说明</h3>  <p class="para">面向对象风格 (method):</p>   <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Stomp::ack</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$msg</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">过程化风格:</p>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_ack</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$msg</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   Acknowledges consumption of a message from a subscription using client acknowledgment.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-stomp.ack-parameters">  <h3 class="title">参数</h3>  <span>   <dl>    <dt><span class="parameter" style="color:#3A95FF">link</span></dt><dd><p class="para">仅对过程化样式：由 <span class="function"><a href="https://www.php.net/manual/zh/stomp.construct.php" class="function">stomp_connect()</a></span> 返回的 stomp 连接标识符。</p></dd>         <dt><span class="parameter" style="color:#3A95FF">msg</span></dt>     <dd>      <p class="para">       The message/messageId to be acknowledged.             </p>     </dd>        <dt><span class="parameter" style="color:#3A95FF">headers</span></dt><dd><p class="para">关联数组包含附加的头信息（例如： receipt）。</p></dd>   </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-stomp.ack-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-stomp.ack-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 面向对象风格</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$queue  </span><span style="color: #007700">= </span><span style="color: #DD0000">'/queue/foo'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$msg    </span><span style="color: #007700">= </span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// connection <br /></span><span style="color: #007700">try {<br />    </span><span style="color: #9876AA">$stomp </span><span style="color: #007700">= new </span><span style="color: #9876AA">Stomp</span><span style="color: #007700">(</span><span style="color: #DD0000">'tcp://localhost:61613'</span><span style="color: #007700">);<br />} catch(</span><span style="color: #9876AA">StompException $e</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Connection failed: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">$e</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getMessage</span><span style="color: #007700">());<br />}<br /><br /></span><span style="color: #FF8000">// send a message to the queue 'foo' <br /></span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">send</span><span style="color: #007700">(</span><span style="color: #9876AA">$queue</span><span style="color: #007700">, </span><span style="color: #9876AA">$msg</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// subscribe to messages from the queue 'foo' <br /></span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">subscribe</span><span style="color: #007700">(</span><span style="color: #9876AA">$queue</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// read a frame <br /></span><span style="color: #9876AA">$frame </span><span style="color: #007700">= </span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">readFrame</span><span style="color: #007700">();<br /><br />if (</span><span style="color: #9876AA">$frame</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">body </span><span style="color: #007700">=== </span><span style="color: #9876AA">$msg</span><span style="color: #007700">) {<br />    </span><span style="color: #FF8000">// acknowledge that the frame was received <br />    </span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">ack</span><span style="color: #007700">(</span><span style="color: #9876AA">$frame</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">// remove the subscription <br /></span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">unsubscribe</span><span style="color: #007700">(</span><span style="color: #9876AA">$queue</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// close connection <br /></span><span style="color: #007700">unset(</span><span style="color: #9876AA">$stomp</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 过程化风格</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$queue  </span><span style="color: #007700">= </span><span style="color: #DD0000">'/queue/foo'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$msg    </span><span style="color: #007700">= </span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// connection <br /></span><span style="color: #9876AA">$link </span><span style="color: #007700">= </span><span style="color: #9876AA">stomp_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'ssl://localhost:61612'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// check connection <br /></span><span style="color: #007700">if (!</span><span style="color: #9876AA">$link</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Connection failed: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">stomp_connect_error</span><span style="color: #007700">());<br />}<br /><br /></span><span style="color: #FF8000">// begin a transaction <br /></span><span style="color: #9876AA">stomp_begin</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">, </span><span style="color: #DD0000">'t1'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// send a message to the queue 'foo' <br /></span><span style="color: #9876AA">stomp_send</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">, </span><span style="color: #9876AA">$queue</span><span style="color: #007700">, </span><span style="color: #9876AA">$msg</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'transaction' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'t1'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">// commit a transaction <br /></span><span style="color: #9876AA">stomp_commit</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">, </span><span style="color: #DD0000">'t1'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// subscribe to messages from the queue 'foo' <br /></span><span style="color: #9876AA">stomp_subscribe</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">, </span><span style="color: #9876AA">$queue</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// read a frame <br /></span><span style="color: #9876AA">$frame </span><span style="color: #007700">= </span><span style="color: #9876AA">stomp_read_frame</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">);<br /><br />if (</span><span style="color: #9876AA">$frame</span><span style="color: #007700">[</span><span style="color: #DD0000">'body'</span><span style="color: #007700">] === </span><span style="color: #9876AA">$msg</span><span style="color: #007700">) {<br />    </span><span style="color: #FF8000">// acknowledge that the frame was received <br />    </span><span style="color: #9876AA">stomp_ack</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">, </span><span style="color: #9876AA">$frame</span><span style="color: #007700">[</span><span style="color: #DD0000">'headers'</span><span style="color: #007700">][</span><span style="color: #DD0000">'message-id'</span><span style="color: #007700">]);<br />}<br /><br /></span><span style="color: #FF8000">// remove the subscription <br /></span><span style="color: #9876AA">stomp_unsubscribe</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">, </span><span style="color: #9876AA">$queue</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// close connection <br /></span><span style="color: #9876AA">stomp_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>   </div>  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-stomp.ack-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>: <p class="para">A transaction header may be specified, indicating that the message acknowledgment should be part of the named transaction.</p></p></blockquote>  <div class="tip"><strong class="tip">小技巧</strong><p class="simpara">Stomp is inherently asynchronous. Synchronous communication can be implemented adding a receipt header. This will cause methods to not return anything until the server has acknowledged receipt of the message or until read timeout was reached.</p></div> </div></div>
     * @return bool TRUE on success, or FALSE on failure*/
    public function ack($msg, array $headers = []) {}

/**
*<div id="stomp.error" class="refentry"> <div class="refnamediv">  <h1 class="refname">Stomp::error</h1>  <h1 class="refname">stomp_error</h1>  <p class="verinfo">(PECL stomp &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">Stomp::error</span> -- <span class="refname">stomp_error</span> &mdash; <span class="dc-title">Gets the last stomp error</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-stomp.error-description">  <h3 class="title">说明</h3>  <p class="para">面向对象风格 (method):</p>   <div class="methodsynopsis dc-description">   <span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><strong>Stomp::error</strong></span>(): <span class="type" style="color:#EAB766">string</span></div>  <p class="para rdfs-comment">过程化风格:</p>  <div class="methodsynopsis dc-description"><span class="methodname" style="color:#CC7832"><strong>stomp_error</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$link</span></span>): <span class="type" style="color:#EAB766">string</span></div>  <p class="para rdfs-comment">   Gets the last stomp error.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-stomp.error-parameters">  <h3 class="title">参数</h3>  <span>   <dl>     <dt><span class="parameter" style="color:#3A95FF">link</span></dt><dd><p class="para">仅对过程化样式：由 <span class="function"><a href="https://www.php.net/manual/zh/stomp.construct.php" class="function">stomp_connect()</a></span> 返回的 stomp 连接标识符。</p></dd>   </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-stomp.error-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   Returns an error string or <strong><span>false</span></strong> if no error occurred.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-stomp.error-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 面向对象风格</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">// connection <br /></span><span style="color: #007700">try {<br />    </span><span style="color: #9876AA">$stomp </span><span style="color: #007700">= new </span><span style="color: #9876AA">Stomp</span><span style="color: #007700">(</span><span style="color: #DD0000">'tcp://localhost:61613'</span><span style="color: #007700">);<br />} catch(</span><span style="color: #9876AA">StompException $e</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Connection failed: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">$e</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">getMessage</span><span style="color: #007700">());<br />}<br /><br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">error</span><span style="color: #007700">());<br /><br />if (!</span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">abort</span><span style="color: #007700">(</span><span style="color: #DD0000">'unknown-transaction'</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'receipt' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'foo'</span><span style="color: #007700">))) {<br />    </span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">$stomp</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">error</span><span style="color: #007700">());<br />}<br /><br /></span><span style="color: #FF8000">// close connection <br /></span><span style="color: #007700">unset(</span><span style="color: #9876AA">$stomp</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>     <div class="example-contents"><p>以上示例的输出类似于：</p></div>     <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>bool(false)<br>string(43) &quot;Invalid transaction id: unknown-transaction&quot;<br></span></div>     </div>   </div>  </span>  <p class="para">   <div class="example" id="">    <p><strong>示例 #2 过程化风格</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">// connection <br /></span><span style="color: #9876AA">$link </span><span style="color: #007700">= </span><span style="color: #9876AA">stomp_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'ssl://localhost:61612'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// check connection <br /></span><span style="color: #007700">if (!</span><span style="color: #9876AA">$link</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Connection failed: ' </span><span style="color: #007700">. </span><span style="color: #9876AA">stomp_connect_error</span><span style="color: #007700">());<br />}<br /><br /></span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">stomp_error</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">));<br /><br />if (!</span><span style="color: #9876AA">stomp_abort</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">, </span><span style="color: #DD0000">'unknown-transaction'</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'receipt' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'foo'</span><span style="color: #007700">))) {<br />    </span><span style="color: #9876AA">var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">stomp_error</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">));<br />}<br /><br /></span><span style="color: #FF8000">// close connection <br /></span><span style="color: #9876AA">stomp_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$link</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>     </div>     <div class="example-contents"><p>以上示例的输出类似于：</p></div>     <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;">  <div class="cdata"><span>bool(false)<br>string(43) &quot;Invalid transaction id: unknown-transaction&quot;<br></span></div>       </div>   </div>  </p> </div></div>
     * @return string|false Error message, or FALSE if no error*/
    public function error() {}

    /**
     * Set timeout
     *
     * @param int $seconds the seconds part of the timeout to be set
     * @param int $microseconds the microseconds part of the timeout to be set
     * @return void
     */
    public function setTimeout($seconds, $microseconds = 0) {}

    /**
     * Get timeout
     *
     * @return array Array with timeout informations
     */
    public function getTimeout() {}
}

/**
*<div id="class.stompframe" class="reference"> <h1 class="title">The StompFrame class</h1>  <div class="partintro"><p class="verinfo">(PECL stomp &gt;= 0.1.0)</p>  <div class="section" id="stompframe.intro">   <h2 class="title">简介</h2>   <p class="para">    Represents a message which was sent or received from a Stomp compliant Message Broker.   </p>  </div>  <div class="section" id="stompframe.synopsis">   <h2 class="title">类摘要</h2>   <div class="classsynopsis">    <span class="ooclass"><strong class="classname"></strong></span>    <div class="classsynopsisinfo">     <span class="ooclass">      <span class="modifier">class</span> <strong class="classname">StompFrame</strong>     </span>     {</div>    <div class="classsynopsisinfo classsynopsisinfo_comment">// 属性 </div>    <div class="fieldsynopsis">     <span class="modifier">public</span>      <var class="varname"><a href="https://www.php.net/manual/zh/class.stompframe.php#stompframe.props.command">$<var class="varname">command</var></a></var>;</div>    <div class="fieldsynopsis"><span class="modifier">public</span>      <var class="varname"><a href="https://www.php.net/manual/zh/class.stompframe.php#stompframe.props.headers">$<var class="varname">headers</var></a></var>;</div>    <div class="fieldsynopsis"><span class="modifier">public</span>      <var class="varname"><a href="https://www.php.net/manual/zh/class.stompframe.php#stompframe.props.body">$<var class="varname">body</var></a></var>;</div>        <div class="classsynopsisinfo classsynopsisinfo_comment">// 方法 </div>    <div class="constructorsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stompframe.construct.php" class="methodname" style="color:#CC7832">__construct</a></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$command</span><span class="initializer"> = ?</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$headers</span><span class="initializer"> = ?</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$body</span><span class="initializer"> = ?</span></span>)</div>   }</div>  </div>    <div class="section" id="stompframe.props">   <h2 class="title">属性</h2>   <dl>         <dt id="stompframe.props.command"><var class="varname">command</var></dt>     <dd>      <p class="para">Frame command.</p>     </dd>             <dt id="stompframe.props.headers"><var class="varname">headers</var></dt>     <dd>      <p class="para">Frame headers (<span class="type" style="color:#EAB766">array</span>).</p>     </dd>             <dt id="stompframe.props.body"><var class="varname">body</var></dt>     <dd>      <p class="para">Frame body.</p>     </dd>       </dl>  </div> </div> <h2>目录</h2><ul class="chunklist chunklist_reference"><li>{@link StompFrame::__construct} — Constructor</li></ul></div>
*/
class StompFrame
{
    /**
     * Frame Command
     * @var string
     */
    public $command;

    /**
     * Frame headers
     * @var array
     */
    public $headers;

    /**
     * Frame body
     * @var string
     */
    public $body;
}

/**
*<div id="class.stompexception" class="reference"> <h1 class="title">The StompException class</h1>  <div class="partintro"><p class="verinfo">(PECL stomp &gt;= 0.1.0)</p>  <div class="section" id="stompexception.intro">   <h2 class="title">简介</h2>   <p class="para">Represents an error raised by the stomp extension. See <a href="https://www.php.net/manual/zh/language.exceptions.php" class="link">Exceptions</a> for more information about Exceptions in PHP.   </p>  </div>  <div class="section" id="stompexception.synopsis">   <h2 class="title">类摘要</h2>   <div class="classsynopsis">    <span class="ooclass"><strong class="classname"></strong></span>    <div class="classsynopsisinfo">     <span class="ooclass">      <span class="modifier">class</span> <strong class="classname">StompException</strong>     </span>          <span class="ooclass">      <span class="modifier">extends</span>       <a href="https://www.php.net/manual/zh/class.exception.php" class="classname">Exception</a>     </span>     {</div>    <div class="classsynopsisinfo classsynopsisinfo_comment">// 继承的方法 </div>    <div class="methodsynopsis dc-description">   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname" style="color:#CC7832">{@link Exception::getMessage}</span>(): <span class="type" style="color:#EAB766">string</span></div><div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname" style="color:#CC7832">{@link Exception::getPrevious}</span>(): <span class="type" style="color:#EAB766"><span class="type" style="color:#EAB766">?</span><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/class.throwable.php" class="type Throwable" style="color:#EAB766">Throwable</a></span></span></div><div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname" style="color:#CC7832">{@link Exception::getCode}</span>(): <span class="type" style="color:#EAB766">int</span></div><div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname" style="color:#CC7832">{@link Exception::getFile}</span>(): <span class="type" style="color:#EAB766">string</span></div><div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname" style="color:#CC7832">{@link Exception::getLine}</span>(): <span class="type" style="color:#EAB766">int</span></div><div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname" style="color:#CC7832">{@link Exception::getTrace}</span>(): <span class="type" style="color:#EAB766">array</span></div><div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname" style="color:#CC7832">{@link Exception::getTraceAsString}</span>(): <span class="type" style="color:#EAB766">string</span></div><div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832">{@link Exception::__toString}</span>(): <span class="type" style="color:#EAB766">string</span></div><div class="methodsynopsis dc-description"><span class="modifier">private</span> <span class="methodname" style="color:#CC7832">{@link Exception::__clone}</span>(): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div>    <div class="classsynopsisinfo classsynopsisinfo_comment">// 方法 </div>    <div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname" style="color:#CC7832"><a href="https://www.php.net/manual/zh/stomp.getdetails.php" class="methodname" style="color:#CC7832">getDetails</a></span>(): <span class="type" style="color:#EAB766">string</span></div>   }</div>  </div> </div> <h2>目录</h2><ul class="chunklist chunklist_reference"><li>{@link StompException::getDetails} — Get exception details</li></ul></div>
*/
class StompException extends Exception
{
    /**
     * Get the stomp server error details
     *
     * @return string
     */
    public function getDetails() {}
}

/**
*<div id="function.stomp-version" class="refentry"> <div class="refnamediv">  <h1 class="refname">stomp_version</h1>  <p class="verinfo">(PECL stomp &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">stomp_version</span> &mdash; <span class="dc-title">Gets the current stomp extension version</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.stomp-version-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>stomp_version</strong></span>(): <span class="type" style="color:#EAB766">string</span></div>  <p class="para rdfs-comment">   Returns a string containing the version of the current stomp extension.  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.stomp-version-parameters">  <h3 class="title">参数</h3>  <span>此函数没有参数。</span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.stomp-version-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">    It returns the current stomp extension version  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.stomp-version-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 <span class="function"><strong style="color:#CC7832">stomp_version()</strong></span> example</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />var_dump</span><span style="color: #007700">(</span><span style="color: #9876AA">stomp_version</span><span style="color: #007700">());<br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>    <div class="example-contents"><p>以上示例的输出类似于：</p></div>    <div class="example-contents screen" style="color:AFB1B3;background:black;padding-left:5px;"><div class="cdata"><span>string(5) &quot;0.2.0&quot;<br></span></div>    </div>   </div>  </span> </div></div>
 * @return string version*/
function stomp_version() {}

/**
 * Opens a connection
 *
 * @param string $broker broker URI
 * @param string $username The username
 * @param string $password The password
 * @param array  $headers additional headers (example: receipt).
 * @return resource|false stomp connection identifier on success, or FALSE on failure
 */
function stomp_connect($broker = null, $username = null, $password = null, array $headers = []) {}

/**
 * Gets the current stomp session ID
 *
 * @param resource $link identifier returned by stomp_connect
 * @return string|false stomp session ID if it exists, or FALSE otherwise
 */
function stomp_get_session_id($link) {}

/**
 * Closes stomp connection
 *
 * @param resource $link identifier returned by stomp_connect
 * @return bool TRUE on success, or FALSE on failure
 */
function stomp_close($link) {}

/**
 * Sends a message to a destination in the messaging system
 *
 * @param resource         $link identifier returned by stomp_connect
 * @param string            $destination indicates where to send the message
 * @param string|StompFrame $msg message to be sent
 * @param array             $headers additional headers (example: receipt).
 * @return bool TRUE on success, or FALSE on failure
 */
function stomp_send($link, $destination, $msg, array $headers = []) {}

/**
 * Registers to listen to a given destination
 *
 * @param resource $link identifier returned by stomp_connect
 * @param string    $destination indicates which destination to subscribe to
 * @param array     $headers additional headers (example: receipt).
 * @return bool TRUE on success, or FALSE on failure
 */
function stomp_subscribe($link, $destination, array $headers = []) {}

/**
 * Removes an existing subscription
 *
 * @param resource $link identifier returned by stomp_connect
 * @param string    $destination indicates which subscription to remove
 * @param array     $headers additional headers (example: receipt).
 * @return bool TRUE on success, or FALSE on failure
 */
function stomp_unsubscribe($link, $destination, array $headers = []) {}

/**
 * Indicates whether or not there is a frame ready to read
 *
 * @param resource $link identifier returned by stomp_connect
 * @return bool TRUE if there is one, or FALSE otherwise
 */
function stomp_has_frame($link) {}

/**
 * Reads the next frame
 *
 * @param resource $link identifier returned by stomp_connect
 * @return array|false on success, or FALSE on failure
 */
function stomp_read_frame($link) {}

/**
 * Starts a transaction
 *
 * @param resource $link identifier returned by stomp_connect
 * @param string    $transaction_id transaction id
 * @return bool TRUE on success, or FALSE on failure
 */
function stomp_begin($link, $transaction_id) {}

/**
 * Commits a transaction in progress
 *
 * @param resource $link identifier returned by stomp_connect
 * @param string    $transaction_id transaction id
 * @return bool TRUE on success, or FALSE on failure
 */
function stomp_commit($link, $transaction_id) {}

/**
 * Rolls back a transaction in progress
 *
 * @param resource $link identifier returned by stomp_connect
 * @param string    $transaction_id transaction id
 * @return bool TRUE on success, or FALSE on failure
 */
function stomp_abort($link, $transaction_id) {}

/**
 * Acknowledge consumption of a message from a subscription using client acknowledgment
 *
 * @param resource         $link identifier returned by stomp_connect
 * @param string|StompFrame $msg message/messageId to be acknowledged
 * @param array             $headers additional headers (example: receipt).
 * @return bool TRUE on success, or FALSE on failure
 */
function stomp_ack($link, $msg, array $headers = []) {}

/**
 * Gets the last stomp error
 *
 * @param resource $link identifier returned by stomp_connect
 * @return string|false Error message, or FALSE if no error
 */
function stomp_error($link) {}

/**
 * Set timeout
 *
 * @param resource $link identifier returned by stomp_connect
 * @param int       $seconds the seconds part of the timeout to be set
 * @param int       $microseconds the microseconds part of the timeout to be set
 * @return void
 */
function stomp_set_timeout($link, $seconds, $microseconds = 0) {}

/**
 * Get timeout
 *
 * @param resource $link identifier returned by stomp_connect
 * @return array Array with timeout informations
 */
function stomp_get_timeout($link) {}
