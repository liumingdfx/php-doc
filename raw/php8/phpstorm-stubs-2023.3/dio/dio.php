<?php
/**
 * @link https://www.php.net/manual/en/ref.dio.php
 * Direct IO Functions
 * Table of Contents
 * dio_close — Closes the file descriptor given by fd
 * dio_fcntl — Performs a c library fcntl on fd
 * dio_open — Opens a file (creating it if necessary) at a lower level than the C library input/ouput stream functions allow
 * dio_read — Reads bytes from a file descriptor
 * dio_seek — Seeks to pos on fd from whence
 * dio_stat — Gets stat information about the file descriptor fd
 * dio_tcsetattr — Sets terminal attributes and baud rate for a serial port
 * dio_truncate — Truncates file descriptor fd to offset bytes
 * dio_write — Writes data to fd with optional truncation at length
 * dio_raw - Opens a raw direct IO stream.
 * dio_serial - Opens a serial direct IO stream.
 */

/**
*<div id="function.dio-close" class="refentry"> <div class="refnamediv">  <h1 class="refname">dio_close</h1>  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5 &lt; 5.1.0)</p><p class="refpurpose"><span class="refname">dio_close</span> &mdash; <span class="dc-title">通过 fd 关闭文件描述符</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.dio-close-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>dio_close</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$fd</span></span>): <span class="type" style="color:#EAB766"><span class="type void" style="color:#EAB766">void</span></span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">dio_close()</strong></span> 函数关闭 <span class="parameter" style="color:#3A95FF">fd</span>    文件描述符。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.dio-close-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">fd</span></dt>     <dd>      <p class="para">       <span class="function">{@link dio_open()}</span> 返回的文件描述符。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.dio-close-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   没有返回值。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.dio-close-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 关闭文件描述符</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br />$fd </span><span style="color: #007700">= </span><span style="color: #9876AA">dio_open</span><span style="color: #007700">(</span><span style="color: #DD0000">'/dev/ttyS0'</span><span style="color: #007700">, </span><span style="color: #9876AA">O_RDWR</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">dio_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$fd</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.dio-close-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link dio_open()} - 在 C 库输入/输出流函数允许的更低级别打开（必要时创建）文件</span></li>   </ul>  </span> </div></div>
 * @return void*/
function dio_close($fd): void {}

/**
*<div id="function.dio-fcntl" class="refentry"> <div class="refnamediv">  <h1 class="refname">dio_fcntl</h1>  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5 &lt; 5.1.0)</p><p class="refpurpose"><span class="refname">dio_fcntl</span> &mdash; <span class="dc-title">在 fd 上执行 C 标准库的 fcntl</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.dio-fcntl-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>dio_fcntl</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$fd</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$cmd</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span> <span class="parameter" style="color:#3A95FF">$args</span><span class="initializer"> = ?</span></span>): <span class="type" style="color:#EAB766"><a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed" class="type mixed" style="color:#EAB766">mixed</a></span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">dio_fcntl()</strong></span> 函数在 <span class="parameter" style="color:#3A95FF">fd</span>    文件描述符上执行 <span class="parameter" style="color:#3A95FF">cmd</span>    指定的操作。一些命令需要提供额外的 <span class="parameter" style="color:#3A95FF">args</span>    参数。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.dio-fcntl-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">fd</span></dt>     <dd>      <p class="para">       <span class="function">{@link dio_open()}</span> 返回的文件描述符。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">cmd</span></dt>     <dd>      <p class="para">       可以是以下操作：       <ul class="itemizedlist">        <li class="listitem">         <p class="para">          <strong><span>F_SETLK</span></strong> - 设置或清除锁。如果其他人持有锁 <span class="function"><strong style="color:#CC7832">dio_fcntl()</strong></span>           返回 -1。         </p>        </li>        <li class="listitem">         <p class="para">          <strong><span>F_SETLKW</span></strong> - 和 <strong><span>F_SETLK</span></strong>           相似，但如果其他人持有锁，<span class="function"><strong style="color:#CC7832">dio_fcntl()</strong></span> 等待锁释放。         </p>        </li>        <li class="listitem">         <p class="para">          <strong><span>F_GETLK</span></strong> - 如果其他人阻止锁定，<span class="function"><strong style="color:#CC7832">dio_fcntl()</strong></span>           返回关联数组（如下所述）。如果没有阻塞，键“type”将设置为 <strong><span>F_UNLCK</span></strong>。         </p>        </li>        <li class="listitem">         <p class="para">          <strong><span>F_DUPFD</span></strong> - 查找大于或等于 <span class="parameter" style="color:#3A95FF">args</span> 的最小可用文件描述符，并将其返回。         </p>        </li>        <li class="listitem">         <p class="para">          <strong><span>F_SETFL</span></strong> - 设置 <span class="parameter" style="color:#3A95FF">args</span>           指定的文件描述符标志。可以是 <strong><span>O_APPEND</span></strong>、<strong><span>O_NONBLOCK</span></strong>           或 <strong><span>O_ASYNC</span></strong>。要使用 <strong><span>O_ASYNC</span></strong>           需要依赖 <a href="https://www.php.net/manual/zh/ref.pcntl.php" class="link">PCNTL</a> 扩展。         </p>        </li>       </ul>      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">args</span></dt>     <dd>      <p class="para">       当 <span class="parameter" style="color:#3A95FF">cmd</span> 是 <strong><span>F_SETLK</span></strong>        或 <strong><span>F_SETLLW</span></strong> 时，<span class="parameter" style="color:#3A95FF">args</span>        是包含以下键的关联数组：       <ul class="itemizedlist">        <li class="listitem">         <p class="para">          <span>start</span> - 开始锁定的偏移         </p>        </li>        <li class="listitem">         <p class="para">          <span>length</span> - 锁定区域大小。0 代表文件结尾         </p>        </li>        <li class="listitem">         <p class="para">          <span>whence</span> - l_start 的相对位置可以是：<strong><span>SEEK_SET</span></strong>、<strong><span>SEEK_END</span></strong>          和 <strong><span>SEEK_CUR</span></strong>         </p>        </li>        <li class="listitem">         <p class="para">          <span>type</span> - 锁类型：可以是 <strong><span>F_RDLCK</span></strong>           （读锁），<strong><span>F_WRLCK</span></strong>（写锁）或 <strong><span>F_UNLCK</span></strong>           （解锁）。         </p>        </li>       </ul>      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.dio-fcntl-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   返回 C 调用的结果。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.dio-fcntl-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 设置并清除锁</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$fd </span><span style="color: #007700">= </span><span style="color: #9876AA">dio_open</span><span style="color: #007700">(</span><span style="color: #DD0000">'/dev/ttyS0'</span><span style="color: #007700">, </span><span style="color: #9876AA">O_RDWR</span><span style="color: #007700">);<br /><br />if (</span><span style="color: #9876AA">dio_fcntl</span><span style="color: #007700">(</span><span style="color: #9876AA">$fd</span><span style="color: #007700">, </span><span style="color: #9876AA">F_SETLK</span><span style="color: #007700">, Array(</span><span style="color: #DD0000">"type"</span><span style="color: #007700">=&gt;</span><span style="color: #9876AA">F_WRLCK</span><span style="color: #007700">)) == -</span><span style="color: #9876AA">1</span><span style="color: #007700">) {<br />   </span><span style="color: #FF8000">// the file descriptor appears locked<br />   </span><span style="color: #007700">echo </span><span style="color: #DD0000">"The lock can not be cleared. It is held by someone else."</span><span style="color: #007700">;<br />} else {<br />   echo </span><span style="color: #DD0000">"Lock successfully set/cleared"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #9876AA">dio_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$fd</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.dio-fcntl-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>: <span class="simpara">此函数未在 Windows 平台下实现。</span></p></blockquote> </div></div>
 * @return mixed Returns the result of the C call.*/
function dio_fcntl($fd, int $cmd, ...$args) {}

/**
*<div id="function.dio-open" class="refentry"> <div class="refnamediv">  <h1 class="refname">dio_open</h1>  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5 &lt; 5.1.0)</p><p class="refpurpose"><span class="refname">dio_open</span> &mdash; <span class="dc-title">   在 C 库输入/输出流函数允许的更低级别打开（必要时创建）文件  </span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.dio-open-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>dio_open</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$filename</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$flags</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$mode</span><span class="initializer"> = 0</span></span>): <span class="type" style="color:#EAB766">resource</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">dio_open()</strong></span> 打开文件并返回新的文件描述符。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.dio-open-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">filename</span></dt>     <dd>      <p class="para">       要打开的文件路径。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">flags</span></dt>     <dd>      <p class="para">       <span class="parameter" style="color:#3A95FF">flags</span> 参数是按位或运算值，包含以下列表的标志。       必须包含 <strong><span>O_RDONLY</span></strong>、<strong><span>O_WRONLY</span></strong>        或 <strong><span>O_RDWR</span></strong> 中的一个。此外，可以包含此列表中其它标志的任意组合。       <ul class="itemizedlist">        <li class="listitem">         <p class="para">          <strong><span>O_RDONLY</span></strong> - 打开文件读访问。         </p>        </li>        <li class="listitem">         <p class="para">          <strong><span>O_WRONLY</span></strong> - 打开文件写访问。         </p>        </li>        <li class="listitem">         <p class="para">          <strong><span>O_RDWR</span></strong> - 打开文件读写。          </p>        </li>        <li class="listitem">         <p class="para">          <strong><span>O_CREAT</span></strong> - 如果文件不存在，创建文件。          </p>        </li>         <li class="listitem">         <p class="para">          <strong><span>O_EXCL</span></strong> - 如果同时设置了 <strong><span>O_CREAT</span></strong>           和 <strong><span>O_EXCL</span></strong>，并且文件已存在，<span class="function"><strong style="color:#CC7832">dio_open()</strong></span>           将执行失败。         </p>        </li>         <li class="listitem">         <p class="para">          <strong><span>O_TRUNC</span></strong> - 如果文件存在且已打开写访问，将会被截断到 0 长度。         </p>        </li>        <li class="listitem">         <p class="para">          <strong><span>O_APPEND</span></strong> - 写操作在文件末尾写数据。         </p>        </li>        <li class="listitem">         <p class="para">          <strong><span>O_NONBLOCK</span></strong> - 设置非阻塞模式。          </p>        </li>        <li class="listitem">         <p class="para">          <strong><span>O_NOCTTY</span></strong> - 防止操作系统在打开 TTY 设备文件时将文件指定为进程的控制终端。          </p>        </li>       </ul>      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">mode</span></dt>     <dd>      <p class="para">       如果 <span class="parameter" style="color:#3A95FF">flags</span> 包含 <strong><span>O_CREAT</span></strong>，<span class="parameter" style="color:#3A95FF">mode</span>        将设置文件权限（创建权限）。当 <span class="parameter" style="color:#3A95FF">flags</span>        指定了 <strong><span>O_CREAT</span></strong> 标志时，需要 <span class="parameter" style="color:#3A95FF">mode</span>        才能正确操作，否则将会被忽略。      </p>      <p class="para">       分配给创建文件的实际权限照例受到进程的 <em>umask</em> 设置的影响。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.dio-open-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   文件描述符，错误时是 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.dio-open-examples">  <h3 class="title">示例</h3>  <div class="example" id="">   <p><strong>示例 #1 打开文件描述符</strong></p>   <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$fd </span><span style="color: #007700">= </span><span style="color: #9876AA">dio_open</span><span style="color: #007700">(</span><span style="color: #DD0000">'/dev/ttyS0'</span><span style="color: #007700">, </span><span style="color: #9876AA">O_RDWR </span><span style="color: #007700">| </span><span style="color: #9876AA">O_NOCTTY </span><span style="color: #007700">| </span><span style="color: #9876AA">O_NONBLOCK</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">dio_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$fd</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>   </div>  </div>     </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.dio-open-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link dio_close()} - 通过 fd 关闭文件描述符</span></li>   </ul>  </span> </div></div>
 * @return resource|false A file descriptor or FALSE on error.*/
function dio_open(string $filename, int $flags, int $mode = 0) {}

/**
*<div id="function.dio-read" class="refentry"> <div class="refnamediv">  <h1 class="refname">dio_read</h1>  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5 &lt; 5.1.0)</p><p class="refpurpose"><span class="refname">dio_read</span> &mdash; <span class="dc-title">从文件描述符读取字节</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.dio-read-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>dio_read</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$fd</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$len</span><span class="initializer"> = 1024</span></span>): <span class="type" style="color:#EAB766">string</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">dio_read()</strong></span> 函数读取并返回描述符 <span class="parameter" style="color:#3A95FF">fd</span>    指定文件中的 <span class="parameter" style="color:#3A95FF">len</span> 字节。   </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.dio-read-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">fd</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link dio_open()}</span> 返回的文件描述符。       </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">len</span></dt>     <dd>      <p class="para">       要读取的字节数。如果未指定，<span class="function"><strong style="color:#CC7832">dio_read()</strong></span>        读取 1K 大小的块。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.dio-read-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   从 <span class="parameter" style="color:#3A95FF">fd</span> 读取的字节。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.dio-read-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link dio_write()} - 截取可选长度的数据写入文件</span></li>   </ul>  </span> </div></div>
 * @return string The bytes read from fd.*/
function dio_read($fd, int $len = 1024) {}

/**
*<div id="function.dio-seek" class="refentry"> <div class="refnamediv">  <h1 class="refname">dio_seek</h1>  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5 &lt; 5.1.0)</p><p class="refpurpose"><span class="refname">dio_seek</span> &mdash; <span class="dc-title">在 fd 指定 pos 位置</span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.dio-seek-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>dio_seek</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$fd</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$pos</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$whence</span><span class="initializer"> = SEEK_SET</span></span>): <span class="type" style="color:#EAB766">int</span></div>  <p class="para rdfs-comment">   函数 <span class="function"><strong style="color:#CC7832">dio_seek()</strong></span> 用于更改给定文件描述符的文件当前读/写位置。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.dio-seek-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">fd</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link dio_open()}</span> 返回的文件描述符。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">pos</span></dt>     <dd>      <p class="para">       新位置。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">whence</span></dt>     <dd>      <p class="para">       指定如何解释 <span class="parameter" style="color:#3A95FF">pos</span> 的位置：       <ul class="itemizedlist">        <li class="listitem">         <p class="para">          <strong><span>SEEK_SET</span></strong> （默认）- 从文件开头指定 <span class="parameter" style="color:#3A95FF">pos</span>。         </p>        </li>        <li class="listitem">         <p class="para">          <strong><span>SEEK_CUR</span></strong> - 指定 <span class="parameter" style="color:#3A95FF">pos</span>           是从文件当前位置计算的字符数。数量可以是正数或负数。         </p>        </li>        <li class="listitem">         <p class="para">          <strong><span>SEEK_END</span></strong> - 指定 <span class="parameter" style="color:#3A95FF">pos</span>           是从文件结尾计算的字符数。负数指定文件当前范围内的位置；正数指定超过当前末端的位置。          如果将位置设置为超过当前末尾并写入数据，将用零将文件扩展到该位置。         </p>        </li>       </ul>      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.dio-seek-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.dio-seek-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 在文件中定位</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$fd </span><span style="color: #007700">= </span><span style="color: #9876AA">dio_open</span><span style="color: #007700">(</span><span style="color: #DD0000">'/dev/ttyS0'</span><span style="color: #007700">, </span><span style="color: #9876AA">O_RDWR</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">dio_seek</span><span style="color: #007700">(</span><span style="color: #9876AA">$fd</span><span style="color: #007700">, </span><span style="color: #9876AA">10</span><span style="color: #007700">, </span><span style="color: #9876AA">SEEK_SET</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">// position is now at 10 characters from the start of the file<br /><br /></span><span style="color: #9876AA">dio_seek</span><span style="color: #007700">(</span><span style="color: #9876AA">$fd</span><span style="color: #007700">, -</span><span style="color: #9876AA">2</span><span style="color: #007700">, </span><span style="color: #9876AA">SEEK_CUR</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">// position is now at 8 characters from the start of the file<br /><br /></span><span style="color: #9876AA">dio_seek</span><span style="color: #007700">(</span><span style="color: #9876AA">$fd</span><span style="color: #007700">, -</span><span style="color: #9876AA">5</span><span style="color: #007700">, </span><span style="color: #9876AA">SEEK_END</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">// position is now at 5 characters from the end of the file<br /><br /></span><span style="color: #9876AA">dio_seek</span><span style="color: #007700">(</span><span style="color: #9876AA">$fd</span><span style="color: #007700">, </span><span style="color: #9876AA">10</span><span style="color: #007700">, </span><span style="color: #9876AA">SEEK_END</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">// position is now at 10 characters past the end of the file. <br />// The 10 characters between the end of the file and the current<br />// position are filled with zeros.<br /><br /></span><span style="color: #9876AA">dio_close</span><span style="color: #007700">(</span><span style="color: #9876AA">$fd</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>       </span> </div></div>
 * @return int*/
function dio_seek($fd, int $pos, int $whence = SEEK_SET) {}

/**
*<div id="function.dio-stat" class="refentry"> <div class="refnamediv">  <h1 class="refname">dio_stat</h1>  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5 &lt; 5.1.0)</p><p class="refpurpose"><span class="refname">dio_stat</span> &mdash; <span class="dc-title">   获取有关文件描述符 fd 的统计信息   </span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.dio-stat-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>dio_stat</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$fd</span></span>): <span class="type" style="color:#EAB766">array</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">dio_stat()</strong></span> 返回有关文件描述符的信息。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.dio-stat-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">fd</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link dio_open()}</span> 返回的文件描述符。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.dio-stat-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   返回带有以下键的关联数组：   <ul class="itemizedlist">    <li class="listitem">     <p class="para">      &quot;device&quot; - 设备     </p>    </li>    <li class="listitem">     <p class="para">      &quot;inode&quot; - inode     </p>    </li>    <li class="listitem">     <p class="para">      &quot;mode&quot; - 模式      </p>    </li>    <li class="listitem">     <p class="para">      &quot;nlink&quot; - 硬链接数     </p>    </li>    <li class="listitem">     <p class="para">      &quot;uid&quot; - 用户 id     </p>    </li>    <li class="listitem">     <p class="para">      &quot;gid&quot; - 组 id     </p>    </li>    <li class="listitem">     <p class="para">      &quot;device_type&quot; - 设备类型（如果是 inode 设备）      </p>    </li>    <li class="listitem">     <p class="para">      &quot;size&quot; - 字节总大小      </p>    </li>    <li class="listitem">     <p class="para">      &quot;blocksize&quot; - 块大小      </p>    </li>    <li class="listitem">     <p class="para">      &quot;blocks&quot; - 分配的块个数      </p>    </li>    <li class="listitem">     <p class="para">      &quot;atime&quot; - 最后访问时间      </p>    </li>    <li class="listitem">     <p class="para">      &quot;mtime&quot; - 最后修改时间      </p>    </li>    <li class="listitem">     <p class="para">      &quot;ctime&quot; - 最后变更时间      </p>    </li>   </ul>   错误时 <span class="function"><strong style="color:#CC7832">dio_stat()</strong></span> 返回 <strong><span>null</span></strong>。  </p> </div></div>
 * @return array|null Returns an associative array with the following keys:*/
function dio_stat($fd) {}

/**
*<div id="function.dio-tcsetattr" class="refentry"> <div class="refnamediv">  <h1 class="refname">dio_tcsetattr</h1>  <p class="verinfo">(PHP 4 &gt;= 4.3.0, PHP 5 &lt; 5.1.0)</p><p class="refpurpose"><span class="refname">dio_tcsetattr</span> &mdash; <span class="dc-title">   设置串行端口的终端属性和波特率  </span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.dio-tcsetattr-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>dio_tcsetattr</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$fd</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">array</span> <span class="parameter" style="color:#3A95FF">$options</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">dio_tcsetattr()</strong></span> 为打开的 <span class="parameter" style="color:#3A95FF">fd</span>    设置串行端口的终端属性和波特率。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.dio-tcsetattr-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">fd</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link dio_open()}</span> 返回的文件描述符。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">options</span></dt>     <dd>      <p class="para">       当前可用选项：       <ul class="itemizedlist">        <li class="listitem">         <p class="para">          &#039;baud&#039; - 端口波特率 - 可以是 38400、19200、9600、4800、2400、1800、1200、600、300、200、150、134、110、75 或 50，默认为 9600。         </p>        </li>        <li class="listitem">         <p class="para">          &#039;bits&#039; - 数据位 - 可以是 8、7、6 或 5。默认为 8。         </p>        </li>        <li class="listitem">         <p class="para">          &#039;stop&#039; - 停止位 - 可以是 1 或 2。默认为 1。         </p>        </li>        <li class="listitem">         <p class="para">          &#039;parity&#039; - 可以是 0、1 或 2。默认是 0。         </p>        </li>       </ul>      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.dio-tcsetattr-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   没有返回值。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 examples" id="refsect1-function.dio-tcsetattr-examples">  <h3 class="title">示例</h3>  <span>   <div class="example" id="">    <p><strong>示例 #1 在串口上设置波特率</strong></p>    <div class="example-contents"><div class="phpcode" style="border-color:gray;background:#232525"><span><span style="color: #000000"><span style="color: #9876AA">&lt;?php<br /><br />$fd </span><span style="color: #007700">= </span><span style="color: #9876AA">dio_open</span><span style="color: #007700">(</span><span style="color: #DD0000">'/dev/ttyS0'</span><span style="color: #007700">, </span><span style="color: #9876AA">O_RDWR </span><span style="color: #007700">| </span><span style="color: #9876AA">O_NOCTTY </span><span style="color: #007700">| </span><span style="color: #9876AA">O_NONBLOCK</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">dio_fcntl</span><span style="color: #007700">(</span><span style="color: #9876AA">$fd</span><span style="color: #007700">, </span><span style="color: #9876AA">F_SETFL</span><span style="color: #007700">, </span><span style="color: #9876AA">O_SYNC</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">dio_tcsetattr</span><span style="color: #007700">(</span><span style="color: #9876AA">$fd</span><span style="color: #007700">, array(<br />  </span><span style="color: #DD0000">'baud' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">9600</span><span style="color: #007700">,<br />  </span><span style="color: #DD0000">'bits' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">8</span><span style="color: #007700">,<br />  </span><span style="color: #DD0000">'stop'  </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">1</span><span style="color: #007700">,<br />  </span><span style="color: #DD0000">'parity' </span><span style="color: #007700">=&gt; </span><span style="color: #9876AA">0<br /></span><span style="color: #007700">)); <br /><br />while (</span><span style="color: #9876AA">1</span><span style="color: #007700">) {<br /><br />  </span><span style="color: #9876AA">$data </span><span style="color: #007700">= </span><span style="color: #9876AA">dio_read</span><span style="color: #007700">(</span><span style="color: #9876AA">$fd</span><span style="color: #007700">, </span><span style="color: #9876AA">256</span><span style="color: #007700">);<br /><br />  if (</span><span style="color: #9876AA">$data</span><span style="color: #007700">) {<br />      echo </span><span style="color: #9876AA">$data</span><span style="color: #007700">;<br />  }<br />} <br /><br /></span><span style="color: #9876AA">?&gt;</span></span></span></div>    </div>   </div>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.dio-tcsetattr-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>: <span class="simpara">此函数未在 Windows 平台下实现。</span></p></blockquote> </div></div>
 * @return void*/
function dio_tcsetattr($fd, array $options) {}

/**
*<div id="function.dio-truncate" class="refentry"> <div class="refnamediv">  <h1 class="refname">dio_truncate</h1>  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5 &lt; 5.1.0)</p><p class="refpurpose"><span class="refname">dio_truncate</span> &mdash; <span class="dc-title">   截断文件描述符 fd 为 offset 字节  </span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.dio-truncate-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>dio_truncate</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$fd</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$offset</span></span>): <span class="type" style="color:#EAB766">bool</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">dio_truncate()</strong></span> 将文件截断为最多 <span class="parameter" style="color:#3A95FF">offset</span>    字节的大小。  </p>  <p class="para">   如果先前的文件大于此大小，则额外的数据将丢失。如果先前的文件较小，不确定是保持文件不变还是扩展文件。在后一种情况下，扩展部分读取为零字节。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.dio-truncate-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">fd</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link dio_open()}</span> 返回的文件描述符。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">offset</span></dt>     <dd>      <p class="para">       偏移字节。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.dio-truncate-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   成功时返回 <strong><span>true</span></strong>， 或者在失败时返回 <strong><span>false</span></strong>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 notes" id="refsect1-function.dio-truncate-notes">  <h3 class="title">注释</h3>  <blockquote class="note" style="border:1px gray solid"><p><strong class="note" style="border:1px gray solid">注意</strong>: <span class="simpara">此函数未在 Windows 平台下实现。</span></p></blockquote> </div></div>
 * @return bool Returns TRUE on success or FALSE on failure.*/
function dio_truncate($fd, int $offset) {}

/**
*<div id="function.dio-write" class="refentry"> <div class="refnamediv">  <h1 class="refname">dio_write</h1>  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5 &lt; 5.1.0)</p><p class="refpurpose"><span class="refname">dio_write</span> &mdash; <span class="dc-title">   截取可选长度的数据写入文件  </span></p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 description" id="refsect1-function.dio-write-description">  <h3 class="title">说明</h3>  <div class="methodsynopsis dc-description">   <span class="methodname" style="color:#CC7832"><strong>dio_write</strong></span>(<span class="methodparam"><span class="type" style="color:#EAB766">resource</span> <span class="parameter" style="color:#3A95FF">$fd</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">string</span> <span class="parameter" style="color:#3A95FF">$data</span></span>, <span class="methodparam"><span class="type" style="color:#EAB766">int</span> <span class="parameter" style="color:#3A95FF">$len</span><span class="initializer"> = 0</span></span>): <span class="type" style="color:#EAB766">int</span></div>  <p class="para rdfs-comment">   <span class="function"><strong style="color:#CC7832">dio_write()</strong></span> 从 <span class="parameter" style="color:#3A95FF">data</span>    写入至多 <span class="parameter" style="color:#3A95FF">len</span> 字节数据到文件 <span class="parameter" style="color:#3A95FF">fd</span>。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 parameters" id="refsect1-function.dio-write-parameters">  <h3 class="title">参数</h3>  <span>   <dl>         <dt><span class="parameter" style="color:#3A95FF">fd</span></dt>     <dd>      <p class="para">       由 <span class="function">{@link dio_open()}</span> 返回的文件描述符。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">data</span></dt>     <dd>      <p class="para">       写入的数据。      </p>     </dd>             <dt><span class="parameter" style="color:#3A95FF">len</span></dt>     <dd>      <p class="para">       从数据中写入的字节长度。如果没有指定，函数将所有数据写入指定的文件。      </p>     </dd>       </dl>  </span> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 returnvalues" id="refsect1-function.dio-write-returnvalues">  <h3 class="title">返回值</h3>  <p class="para">   返回写入 <span class="parameter" style="color:#3A95FF">fd</span> 的字节数。  </p> </div> <br></br><div style="BORDER-TOP: gray 1px dashed; OVERFLOW: hidden; HEIGHT: 1px"></div><div class="refsect1 seealso" id="refsect1-function.dio-write-seealso">  <h3 class="title">参见</h3>  <span>   <ul class="simplelist">    <li class="member"><span class="function">{@link dio_read()} - 从文件描述符读取字节</span></li>   </ul>  </span> </div></div>
 * @return int Returns the number of bytes written to fd.*/
function dio_write($fd, string $data, int $len = 0) {}

/**
 * Opens a raw direct IO stream.
 *
 * dio_raw ( string filename , string mode [, array options] ) : ?resource
 *
 * @param string $filename The pathname of the file to open.
 * @param string $mode The mode parameter specifies the type of access you require to the stream (as fopen()).
 * @param array|null $options The currently available options are:
 * <ul>
 * <li>"data_rate" - baud rate of the port - can be 75, 110, 134, 150, 300, 600, 1200, 1800, 2400, 4800, 7200, 9600, 14400, 19200, 38400, 57600, 115200, 56000, 128000 or 256000 default value is 9600.</li>
 * <li>"data_bits" - can be 8, 7, 6 or 5. Default value is 8.</li>
 * <li>"stop_bits" - can be 1 or 2. Default value is 1.</li>
 * <li>"parity" - can be 0, 1 or 2. Default value is 0.</li>
 * <li>"flow_control" - can be 0 or 1. Default value is 1.</li>
 * <li>"is_canonical" - can be 0 or 1. Default value is 1.</li>
 * </ul>
 * @return resource|null A stream resource or null on error.
 */
function dio_raw(string $filename, string $mode, ?array $options) {}

/**
 * Opens a serial direct IO stream.
 *
 * dio_serial ( string $filename , string $mode [, array $options = null] ) : ?resource
 *
 * @param string $filename The pathname of the file to open.
 * @param string $mode The mode parameter specifies the type of access you require to the stream (as fopen()).
 * @param array|null $options The currently available options are:
 * <ul>
 * <li>"data_rate" - baud rate of the port - can be 75, 110, 134, 150, 300, 600, 1200, 1800, 2400, 4800, 7200, 9600, 14400, 19200, 38400, 57600, 115200, 56000, 128000 or 256000 default value is 9600.</li>
 * <li>"data_bits" - can be 8, 7, 6 or 5. Default value is 8.</li>
 * <li>"stop_bits" - can be 1 or 2. Default value is 1.</li>
 * <li>"parity" - can be 0, 1 or 2. Default value is 0.</li>
 * <li>"flow_control" - can be 0 or 1. Default value is 1.</li>
 * <li>"is_canonical" - can be 0 or 1. Default value is 1.</li>
 * </ul>
 * @return resource|null A stream resource or null on error.
 */
function dio_serial(string $filename, string $mode, ?array $options) {}
